"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[308],{41862:function(e,t,r){r.d(t,{aX:function(){return R}});var n=r(15861),a=r(37762),i=r(87757),o=r(42265),l=r(10064),s=r(32718),u=r(92026),y=r(80885),p=r(29909),c=r(78952),f=r(77981),h={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.Z.WebMercator}),minus180Line:new p.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p.Z({paths:[[[180,-180],[180,180]]],spatialReference:c.Z.WGS84}),minus180Line:new p.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:c.Z.WGS84})}};function v(e,t){return Math.ceil((e-t)/(2*t))}function d(e,t){var r,n=m(e),i=(0,a.Z)(n);try{for(i.s();!(r=i.n()).done;){var o,l=r.value,s=(0,a.Z)(l);try{for(s.s();!(o=s.n()).done;){o.value[0]+=t}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}return e}function m(e){return(0,f.oU)(e)?e.rings:e.paths}var g=r(92975),b=r(81753),Z=r(1413),S=(r(59486),r(76200)),w=r(35995);function x(e,t,r,n){return _.apply(this,arguments)}function _(){return _=(0,n.Z)(i.mark((function e(t,r,n,a){var o,l,s,u,y,p,c,h;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="string"==typeof t?(0,w.mN)(t):t,l=r[0].spatialReference,s=(0,Z.Z)((0,Z.Z)({},a),{},{query:(0,Z.Z)((0,Z.Z)({},o.query),{},{f:"json",sr:JSON.stringify(l),target:JSON.stringify({geometryType:(0,f.Ji)(r[0]),geometries:r}),cutter:JSON.stringify(n)})}),e.next=5,(0,S.default)(o.path+"/cut",s);case 5:return u=e.sent,y=u.data,p=y.cutIndexes,c=y.geometries,h=void 0===c?[]:c,e.abrupt("return",{cutIndexes:p,geometries:h.map((function(e){var t=(0,f.im)(e);return t.spatialReference=l,t}))});case 11:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function C(e,t,r){return k.apply(this,arguments)}function k(){return k=(0,n.Z)(i.mark((function e(t,r,n){var a,o,l,s;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?(0,w.mN)(t):t,o=r[0].spatialReference,l=(0,f.Ji)(r[0]),s=(0,Z.Z)((0,Z.Z)({},n),{},{query:(0,Z.Z)((0,Z.Z)({},a.query),{},{f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify(O(r))})}),e.t0=N,e.next=4,(0,S.default)(a.path+"/simplify",s);case 4:return e.t1=e.sent.data,e.t2=l,e.t3=o,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function O(e){return{geometryType:(0,f.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function N(e,t,r){var n=(0,f.q9)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}var J=s.Z.getLogger("esri.geometry.support.normalizeUtils");function L(e,t,r){if(t){var n=function(e,t){if(!(e instanceof p.Z||e instanceof y.Z)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw J.error(r),new l.Z(r)}var n,i=m(e),o=[],s=(0,a.Z)(i);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=[];o.push(c),c.push([u[0][0],u[0][1]]);for(var f=0;f<u.length-1;f++){var h=u[f][0],v=u[f][1],d=u[f+1][0],g=u[f+1][1],b=Math.sqrt((d-h)*(d-h)+(g-v)*(g-v)),Z=(g-v)/b,S=(d-h)/b,w=b/t;if(w>1){for(var x=1;x<=w-1;x++){var _=x*t,C=S*_+h,k=Z*_+v;c.push([C,k])}var O=(b+Math.floor(w-1)*t)/2,N=S*O+h,L=Z*O+v;c.push([N,L])}c.push([d,g])}}}catch(T){s.e(T)}finally{s.f()}return function(e){return"polygon"===e.type}(e)?new y.Z({rings:o,spatialReference:e.spatialReference}):new p.Z({paths:o,spatialReference:e.spatialReference})}(e,1e6);e=(0,b.Sx)(n,!0)}return r&&(e=d(e,r)),e}function T(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var a=v(n,t);e[0]=n+a*(-2*t)}else if(n<r){var i=v(n,r);e[0]=n+i*(-2*r)}}else{var o=e.x;if(o>t){var l=v(o,t);e=e.clone().offset(l*(-2*t),0)}else if(o<r){var s=v(o,r);e=e.clone().offset(s*(-2*r),0)}}return e}function M(e,t){for(var r=-1,n=function(n){for(var i=t.cutIndexes[n],o=t.geometries[n],l=m(o),s=function(e){var t=l[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,a=0;a<t.length;a++){var i=t[a][0];n=i>n?i:n}for(var l=-360*v(n=Number(n.toFixed(9)),180),s=0;s<t.length;s++){var u=o.getPoint(e,s);o.setPoint(e,s,u.clone().offset(l,0))}return!0}))},u=0;u<l.length;u++)s(u);if(i===r){if(function(e){return"polygon"===e[0].type}(e)){var y,p=(0,a.Z)(m(o));try{for(p.s();!(y=p.n()).done;){var c=y.value;e[i]=e[i].addRing(c)}}catch(g){p.e(g)}finally{p.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var f,h=(0,a.Z)(m(o));try{for(h.s();!(f=h.n()).done;){var d=f.value;e[i]=e[i].addPath(d)}}catch(g){h.e(g)}finally{h.f()}}}else r=i,e[i]=o},i=0;i<t.cutIndexes.length;i++)n(i);return e}function R(e,t,r){return I.apply(this,arguments)}function I(){return I=(0,n.Z)(i.mark((function e(t,r,n){var l,s,c,f,m,Z,S,w,_,k,O,N,J,I,j,P,D,W,E,G,A,F,X,z,q,B,U,$,V,H,K,Q,Y,ee,te,re,ne,ae,ie,oe,le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",R([t],r));case 2:s=null!=(l=null==r?void 0:r.url)?l:o.Z.geometryServiceUrl,O=0,N=[],J=[],I=(0,a.Z)(t);try{for(I.s();!(j=I.n()).done;)P=j.value,(0,u.Wi)(P)?J.push(P):(c||(c=P.spatialReference,f=(0,g.C5)(c),m=c.isWebMercator,Z=h[w=m?102100:4326].maxX,S=h[w].minX,_=h[w].plus180Line,k=h[w].minus180Line),f?"mesh"===P.type?J.push(P):"point"===P.type?J.push(T(P.clone(),Z,S)):"multipoint"===P.type?((D=P.clone()).points=D.points.map((function(e){return T(e,Z,S)})),J.push(D)):"extent"===P.type?(W=P.clone()._normalize(!1,!1,f),J.push(W.rings?new y.Z(W):W)):P.extent?(E=P.extent,G=v(E.xmin,S)*(2*Z),A=0===G?P.clone():d(P.clone(),G),E.offset(G,0),E.intersects(_)&&E.xmax!==Z?(O=E.xmax>O?E.xmax:O,A=L(A,m),N.push(A),J.push("cut")):E.intersects(k)&&E.xmin!==S?(O=E.xmax*(2*Z)>O?E.xmax*(2*Z):O,A=L(A,m,360),N.push(A),J.push("cut")):J.push(A)):J.push(P.clone()):J.push(P))}catch(i){I.e(i)}finally{I.f()}for(F=v(O,Z),X=-90,z=F,q=new p.Z;F>0;)B=360*F-180,q.addPath([[B,X],[B,-1*X]]),X*=-1,F--;if(!(N.length>0&&z>0)){e.next=28;break}return e.t0=M,e.t1=N,e.next=15,x(s,N,q,n);case 15:for(e.t2=e.sent,U=(0,e.t0)(e.t1,e.t2),$=[],V=[],H=0;H<J.length;H++)"cut"!==(K=J[H])?V.push(K):(Q=U.shift(),Y=t[H],(0,u.pC)(Y)&&"polygon"===Y.type&&Y.rings&&Y.rings.length>1&&Q.rings.length>=Y.rings.length?($.push(Q),V.push("simplify")):V.push(m?(0,b.$)(Q):Q));if($.length){e.next=22;break}return e.abrupt("return",V);case 22:return e.next=24,C(s,$,n);case 24:for(ee=e.sent,te=[],re=0;re<V.length;re++)"simplify"!==(ne=V[re])?te.push(ne):te.push(m?(0,b.$)(ee.shift()):ee.shift());return e.abrupt("return",te);case 28:for(ae=[],ie=0;ie<J.length;ie++)"cut"!==(oe=J[ie])?ae.push(oe):(le=N.shift(),ae.push(!0===m?(0,b.$)(le):le));return e.abrupt("return",Promise.resolve(ae));case 31:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}},40308:function(e,t,r){r.r(t),r.d(t,{default:function(){return le}});var n=r(1413),a=r(15861),i=r(97326),o=r(11752),l=r(61120),s=r(37762),u=r(15671),y=r(43144),p=r(60136),c=r(29388),f=r(87757),h=r(27366),v=(r(59486),r(52639)),d=(r(76626),r(81608)),m=r(10064),g=r(84652),b=r(92026),Z=r(97642),S=r(18202),w=r(51370),x=r(49861),_=r(25243),C=r(38511),k=r(69912),O=r(31201),N=r(52587),J=r(41862),L=r(92975),T=r(94990),M=(r(63780),r(93169),r(60354)),R=r(41691);r(32718).Z.getLogger("esri.core.support.OwningCollection");var I=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).handles.add([n.on("before-add",(function(e){(0,b.Wi)(e.item)&&e.preventDefault()})),n.on("after-add",(function(e){return n._own(e.item)})),n.on("after-remove",(function(e){return n._release(e.item)}))]),n}return(0,y.Z)(r,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}},{key:"_ownAll",value:function(){var e,t=(0,s.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._own(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_releaseAll",value:function(){var e,t=(0,s.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._release(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_createNewInstance",value:function(e){return this.itemType?new(d.Z.ofType(this.itemType.Type))(e):new d.Z(e)}}]),r}((0,R.p)(d.Z));(0,h._)([(0,x.Cb)()],I.prototype,"owner",null),I=(0,h._)([(0,k.j)("esri.core.support.OwningCollection")],I);var j=r(74184),P=r(6693),D=r(56811),W=(r(75366),r(42017)),E=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_release",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),r}(I);(0,h._)([(0,W.c)({Type:v.Z,ensureType:(0,_.se)(v.Z)})],E.prototype,"itemType",void 0),E=(0,h._)([(0,k.j)("esri.support.GraphicsCollection")],E);var G,A,F=r(75447),X=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).elevationInfo=null,n.graphics=new E,n.screenSizePerspectiveEnabled=!0,n.type="graphics",n.internal=!1,n}return(0,y.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this.graphics.destroy()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return(0,o.Z)((0,l.Z)(r.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),r}((0,P.h)((0,D.M)(j.Z)));(0,h._)([(0,x.Cb)({type:F.Z})],X.prototype,"elevationInfo",void 0),(0,h._)([(0,x.Cb)((G=E,A="graphics",{type:G,cast:M.R,set:function(e){var t=(0,M.Z)(e,this._get(A),G);t.owner=this,this._set(A,t)}}))],X.prototype,"graphics",void 0),(0,h._)([(0,x.Cb)({type:["show","hide"]})],X.prototype,"listMode",void 0),(0,h._)([(0,x.Cb)()],X.prototype,"screenSizePerspectiveEnabled",void 0),(0,h._)([(0,x.Cb)({readOnly:!0})],X.prototype,"type",void 0),(0,h._)([(0,x.Cb)({constructOnly:!0})],X.prototype,"internal",void 0);var z=X=(0,h._)([(0,k.j)("esri.layers.GraphicsLayer")],X),q=r(25820),B=r(6061),U=r(29598),$=r(83040),V=r(61459),H=r(16851),K=r(16072),Q=r(58009),Y=r(78952),ee=r(53866);function te(e){return e.layers.some((function(e){return null!=e.layerDefinition.visibilityField}))}var re=new $.Z({name:"OBJECTID",alias:"OBJECTID",type:"oid",nullable:!1,editable:!1}),ne=new $.Z({name:"title",alias:"Title",type:"string",nullable:!0,editable:!0}),ae=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,u.Z)(this,r),(e=t.apply(this,arguments)).visibilityMode="inherited",e}return(0,y.Z)(r,[{key:"initialize",value:function(){var e,t=this,r=(0,s.Z)(this.graphics);try{for(r.s();!(e=r.n()).done;){e.value.sourceLayer=this.layer}}catch(n){r.e(n)}finally{r.f()}this.graphics.on("after-add",(function(e){e.item.sourceLayer=t.layer})),this.graphics.on("after-remove",(function(e){e.item.sourceLayer=null}))}},{key:"sublayers",get:function(){return this.graphics}}]),r}(z);(0,h._)([(0,x.Cb)({readOnly:!0})],ae.prototype,"sublayers",null),(0,h._)([(0,x.Cb)()],ae.prototype,"layer",void 0),(0,h._)([(0,x.Cb)({readOnly:!0})],ae.prototype,"visibilityMode",void 0),ae=(0,h._)([(0,k.j)("esri.layers.MapNotesLayer.MapNotesSublayer")],ae);var ie=[{geometryType:"polygon",geometryTypeJSON:"esriGeometryPolygon",layerId:"polygonLayer",title:"Polygons",identifyingSymbol:(new V.Z).toJSON()},{geometryType:"polyline",geometryTypeJSON:"esriGeometryPolyline",layerId:"polylineLayer",title:"Polylines",identifyingSymbol:(new H.Z).toJSON()},{geometryType:"multipoint",geometryTypeJSON:"esriGeometryMultipoint",layerId:"multipointLayer",title:"Multipoints",identifyingSymbol:(new K.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",layerId:"pointLayer",title:"Points",identifyingSymbol:(new K.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",layerId:"textLayer",title:"Text",identifyingSymbol:(new Q.Z).toJSON()}],oe=function(e){(0,p.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).capabilities={operations:{supportsMapNotesEditing:!0}},n.featureCollections=null,n.featureCollectionJSON=null,n.featureCollectionType="notes",n.legendEnabled=!1,n.minScale=0,n.maxScale=0,n.spatialReference=Y.Z.WGS84,n.sublayers=new d.Z(ie.map((function(e){return new ae({id:e.layerId,title:e.title,layer:(0,i.Z)(n)})}))),n.title="Map Notes",n.type="map-notes",n.visibilityMode="inherited",n}return(0,y.Z)(r,[{key:"readCapabilities",value:function(e,t,r){return{operations:{supportsMapNotesEditing:!te(t)&&"portal-item"!==(null==r?void 0:r.origin)}}}},{key:"readFeatureCollections",value:function(e,t,r){if(!te(t))return null;var n=t.layers.map((function(e){var t=new T.default;return t.read(e,r),t}));return new d.Z({items:n})}},{key:"readLegacyfeatureCollectionJSON",value:function(e,t){return te(t)?(0,g.d9)(t.featureCollection):null}},{key:"readFullExtent",value:function(e,t){if(!t.layers.length||t.layers.every((function(e){return!e.layerDefinition.extent})))return new ee.Z({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:Y.Z.WGS84});var r=Y.Z.fromJSON(t.layers[0].layerDefinition.spatialReference);return t.layers.reduce((function(e,t){var r=t.layerDefinition.extent;return r?ee.Z.fromJSON(r).union(e):e}),new ee.Z({spatialReference:r}))}},{key:"readMinScale",value:function(e,t){var r,n=(0,s.Z)(t.layers);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(null!=a.layerDefinition.minScale)return a.layerDefinition.minScale}}catch(i){n.e(i)}finally{n.f()}return 0}},{key:"readMaxScale",value:function(e,t){var r,n=(0,s.Z)(t.layers);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(null!=a.layerDefinition.maxScale)return a.layerDefinition.maxScale}}catch(i){n.e(i)}finally{n.f()}return 0}},{key:"multipointLayer",get:function(){return this._findSublayer("multipointLayer")}},{key:"pointLayer",get:function(){return this._findSublayer("pointLayer")}},{key:"polygonLayer",get:function(){return this._findSublayer("polygonLayer")}},{key:"polylineLayer",get:function(){return this._findSublayer("polylineLayer")}},{key:"readSpatialReference",value:function(e,t){return t.layers.length?Y.Z.fromJSON(t.layers[0].layerDefinition.spatialReference):Y.Z.WGS84}},{key:"readSublayers",value:function(e,t,r){var n=this;if(te(t))return null;for(var a=[],i=function(e){var r=t.layers[e],i=r.layerDefinition,o=r.featureSet,s=null!=(l=i.geometryType)?l:o.geometryType,u=ie.find((function(e){var t,r,n;return s===e.geometryTypeJSON&&(null==(t=i.drawingInfo)||null==(r=t.renderer)||null==(n=r.symbol)?void 0:n.type)===e.identifyingSymbol.type}));if(u){var y=new ae({id:u.layerId,title:i.name,layer:n,graphics:o.features.map((function(e){var t=e.geometry,r=e.symbol,n=e.attributes,a=e.popupInfo;return v.Z.fromJSON({attributes:n,geometry:t,symbol:r,popupTemplate:a})}))});a.push(y)}},o=0;o<t.layers.length;o++){var l;i(o)}return new d.Z(a)}},{key:"writeSublayers",value:function(e,t,r,n){var a=this,i=this.minScale,o=this.maxScale;if(!(0,b.Wi)(e)){var l=e.some((function(e){return e.graphics.length>0}));if(this.capabilities.operations.supportsMapNotesEditing){var u,y=[],p=this.spatialReference.toJSON(),c=(0,s.Z)(e);try{e:for(c.s();!(u=c.n()).done;){var f,h=u.value,v=(0,s.Z)(h.graphics);try{for(v.s();!(f=v.n()).done;){var d=f.value;if((0,b.pC)(d.geometry)){p=d.geometry.spatialReference.toJSON();break e}}}catch(_){v.e(_)}finally{v.f()}}}catch(_){c.e(_)}finally{c.f()}var g,Z=(0,s.Z)(ie);try{var w=function(){var t=g.value,r=e.find((function(e){return t.layerId===e.id}));a._writeMapNoteSublayer(y,r,t,i,o,p,n)};for(Z.s();!(g=Z.n()).done;)w()}catch(_){Z.e(_)}finally{Z.f()}(0,S.RB)("featureCollection.layers",y,t)}else{var x;l&&(null==n||null==(x=n.messages)||x.push(new m.Z("map-notes-layer:editing-not-supported","New map notes cannot be added to this layer")))}}}},{key:"textLayer",get:function(){return this._findSublayer("textLayer")}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"read",value:function(e,t){"featureCollection"in e&&(e=(0,g.d9)(e),Object.assign(e,e.featureCollection)),(0,o.Z)((0,l.Z)(r.prototype),"read",this).call(this,e,t)}},{key:"beforeSave",value:function(){var e=(0,a.Z)(f.mark((function e(){var t,r,n,a,i,o,l,u,y,p;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,b.Wi)(this.sublayers)){e.next=2;break}return e.abrupt("return");case 2:t=null,r=[],n=(0,s.Z)(this.sublayers),e.prev=5,n.s();case 7:if((a=n.n()).done){e.next=40;break}i=a.value,o=(0,s.Z)(i.graphics),e.prev=10,o.s();case 12:if((l=o.n()).done){e.next=30;break}if(u=l.value,!(0,b.pC)(u.geometry)){e.next=28;break}if(y=u.geometry,!t){e.next=26;break}if(e.t0=(0,L.fS)(y.spatialReference,t),e.t0){e.next=24;break}if(e.t1=(0,N.Up)(y.spatialReference,t)||(0,N.kR)(),e.t1){e.next=23;break}return e.next=23,(0,N.zD)();case 23:u.geometry=(0,N.iV)(y,t);case 24:e.next=27;break;case 26:t=y.spatialReference;case 27:r.push(u);case 28:e.next=12;break;case 30:e.next=35;break;case 32:e.prev=32,e.t2=e.catch(10),o.e(e.t2);case 35:return e.prev=35,o.f(),e.finish(35);case 38:e.next=7;break;case 40:e.next=45;break;case 42:e.prev=42,e.t3=e.catch(5),n.e(e.t3);case 45:return e.prev=45,n.f(),e.finish(45);case 48:return e.next=50,(0,J.aX)(r.map((function(e){return e.geometry})));case 50:p=e.sent,r.forEach((function(e,t){return e.geometry=p[t]}));case 52:case"end":return e.stop()}}),e,this,[[5,42,45,48],[10,32,35,38]])})));return function(){return e.apply(this,arguments)}}()},{key:"_findSublayer",value:function(e){var t,r;return(0,b.Wi)(this.sublayers)?null:null!=(t=null==(r=this.sublayers)?void 0:r.find((function(t){return t.id===e})))?t:null}},{key:"_writeMapNoteSublayer",value:function(e,t,r,n,a,i,o){var l=[];if(!(0,b.Wi)(t)){var u,y=(0,s.Z)(t.graphics);try{for(y.s();!(u=y.n()).done;){var p=u.value;this._writeMapNote(l,p,r.geometryType,o)}}catch(c){y.e(c)}finally{y.f()}this._normalizeObjectIds(l,re),e.push({layerDefinition:{name:t.title,drawingInfo:{renderer:{type:"simple",symbol:(0,g.d9)(r.identifyingSymbol)}},geometryType:r.geometryTypeJSON,minScale:n,maxScale:a,objectIdField:"OBJECTID",fields:[re.toJSON(),ne.toJSON()],spatialReference:i},featureSet:{features:l,geometryType:r.geometryTypeJSON}})}}},{key:"_writeMapNote",value:function(e,t,r,a){if(!(0,b.Wi)(t)){var i,o,l=t.geometry,s=t.symbol,u=t.popupTemplate;if(!(0,b.Wi)(l))if(l.type===r)if((0,b.Wi)(s))null==a||null==(o=a.messages)||o.push(new w.Z("map-notes-layer:no-symbol","Skipping map notes with no symbol",{graphic:t}));else{var y={attributes:(0,n.Z)({},t.attributes),geometry:l.toJSON(),symbol:s.toJSON()};(0,b.pC)(u)&&(y.popupInfo=u.toJSON()),e.push(y)}else null==a||null==(i=a.messages)||i.push(new w.Z("map-notes-layer:invalid-geometry-type",'Geometry "'.concat(l.type,'" cannot be saved in "').concat(r,'" layer'),{graphic:t}))}}},{key:"_normalizeObjectIds",value:function(e,t){var r,n=t.name,a=(0,q.S)(n,e)+1,i=new Set,o=(0,s.Z)(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;l.attributes||(l.attributes={});var u=l.attributes;(null==u[n]||i.has(u[n]))&&(u[n]=a++),i.add(u[n])}}catch(y){o.e(y)}finally{o.f()}}}]),r}((0,P.h)((0,D.M)((0,B.q)((0,U.I)((0,Z.R)(j.Z))))));(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"capabilities",void 0),(0,h._)([(0,C.r)(["portal-item","web-map"],"capabilities",["layers"])],oe.prototype,"readCapabilities",null),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"featureCollections",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"featureCollections",["layers"])],oe.prototype,"readFeatureCollections",null),(0,h._)([(0,x.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{enabled:!0,target:"featureCollection"}}}}})],oe.prototype,"featureCollectionJSON",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"featureCollectionJSON",["featureCollection"])],oe.prototype,"readLegacyfeatureCollectionJSON",null),(0,h._)([(0,x.Cb)({readOnly:!0,json:{read:!1,write:{enabled:!0,ignoreOrigin:!0}}})],oe.prototype,"featureCollectionType",void 0),(0,h._)([(0,x.Cb)({json:{write:!1}})],oe.prototype,"fullExtent",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"fullExtent",["layers"])],oe.prototype,"readFullExtent",null),(0,h._)([(0,x.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"featureCollection.showLegend",overridePolicy:function(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],oe.prototype,"legendEnabled",void 0),(0,h._)([(0,x.Cb)({type:["show","hide"]})],oe.prototype,"listMode",void 0),(0,h._)([(0,x.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],oe.prototype,"minScale",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"minScale",["layers"])],oe.prototype,"readMinScale",null),(0,h._)([(0,x.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],oe.prototype,"maxScale",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"maxScale",["layers"])],oe.prototype,"readMaxScale",null),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"multipointLayer",null),(0,h._)([(0,x.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],oe.prototype,"operationalLayerType",void 0),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"pointLayer",null),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"polygonLayer",null),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"polylineLayer",null),(0,h._)([(0,x.Cb)({type:Y.Z})],oe.prototype,"spatialReference",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"spatialReference",["layers"])],oe.prototype,"readSpatialReference",null),(0,h._)([(0,x.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],oe.prototype,"sublayers",void 0),(0,h._)([(0,C.r)("web-map","sublayers",["layers"])],oe.prototype,"readSublayers",null),(0,h._)([(0,O.c)("web-map","sublayers")],oe.prototype,"writeSublayers",null),(0,h._)([(0,x.Cb)({readOnly:!0})],oe.prototype,"textLayer",null),(0,h._)([(0,x.Cb)()],oe.prototype,"title",void 0),(0,h._)([(0,x.Cb)({readOnly:!0,json:{read:!1}})],oe.prototype,"type",void 0);var le=oe=(0,h._)([(0,k.j)("esri.layers.MapNotesLayer")],oe)},25820:function(e,t,r){r.d(t,{S:function(){return i},X:function(){return a}});var n=r(37762),a=1;function i(e,t){var r,a=0,i=(0,n.Z)(t);try{for(i.s();!(r=i.n()).done;){var o,l=null==(o=r.value.attributes)?void 0:o[e];"number"==typeof l&&isFinite(l)&&(a=Math.max(a,l))}}catch(s){i.e(s)}finally{i.f()}return a}}}]);
//# sourceMappingURL=308.4e2a4600.chunk.js.map