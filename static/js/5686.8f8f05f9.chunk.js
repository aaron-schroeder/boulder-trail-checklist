"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5686],{41862:function(e,t,n){n.d(t,{aX:function(){return P}});var r=n(15861),i=n(37762),a=n(87757),s=n(42265),u=n(10064),o=n(32718),l=n(92026),c=n(80885),f=n(29909),h=n(78952),p=n(77981),y={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new f.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:h.Z.WebMercator}),minus180Line:new f.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:h.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f.Z({paths:[[[180,-180],[180,180]]],spatialReference:h.Z.WGS84}),minus180Line:new f.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:h.Z.WGS84})}};function d(e,t){return Math.ceil((e-t)/(2*t))}function m(e,t){var n,r=g(e),a=(0,i.Z)(r);try{for(a.s();!(n=a.n()).done;){var s,u=n.value,o=(0,i.Z)(u);try{for(o.s();!(s=o.n()).done;){s.value[0]+=t}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return e}function g(e){return(0,p.oU)(e)?e.rings:e.paths}var v=n(92975),x=n(81753),Z=n(1413),S=(n(59486),n(76200)),b=n(35995);function R(e,t,n,r){return w.apply(this,arguments)}function w(){return w=(0,r.Z)(a.mark((function e(t,n,r,i){var s,u,o,l,c,f,h,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?(0,b.mN)(t):t,u=n[0].spatialReference,o=(0,Z.Z)((0,Z.Z)({},i),{},{query:(0,Z.Z)((0,Z.Z)({},s.query),{},{f:"json",sr:JSON.stringify(u),target:JSON.stringify({geometryType:(0,p.Ji)(n[0]),geometries:n}),cutter:JSON.stringify(r)})}),e.next=5,(0,S.default)(s.path+"/cut",o);case 5:return l=e.sent,c=l.data,f=c.cutIndexes,h=c.geometries,y=void 0===h?[]:h,e.abrupt("return",{cutIndexes:f,geometries:y.map((function(e){var t=(0,p.im)(e);return t.spatialReference=u,t}))});case 11:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function F(e,t,n){return O.apply(this,arguments)}function O(){return O=(0,r.Z)(a.mark((function e(t,n,r){var i,s,u,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?(0,b.mN)(t):t,s=n[0].spatialReference,u=(0,p.Ji)(n[0]),o=(0,Z.Z)((0,Z.Z)({},r),{},{query:(0,Z.Z)((0,Z.Z)({},i.query),{},{f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(N(n))})}),e.t0=q,e.next=4,(0,S.default)(i.path+"/simplify",o);case 4:return e.t1=e.sent.data,e.t2=u,e.t3=s,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function N(e){return{geometryType:(0,p.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function q(e,t,n){var r=(0,p.q9)(t);return e.map((function(e){var t=r.fromJSON(e);return t.spatialReference=n,t}))}var E=o.Z.getLogger("esri.geometry.support.normalizeUtils");function I(e,t,n){if(t){var r=function(e,t){if(!(e instanceof f.Z||e instanceof c.Z)){var n="straightLineDensify: the input geometry is neither polyline nor polygon";throw E.error(n),new u.Z(n)}var r,a=g(e),s=[],o=(0,i.Z)(a);try{for(o.s();!(r=o.n()).done;){var l=r.value,h=[];s.push(h),h.push([l[0][0],l[0][1]]);for(var p=0;p<l.length-1;p++){var y=l[p][0],d=l[p][1],m=l[p+1][0],v=l[p+1][1],x=Math.sqrt((m-y)*(m-y)+(v-d)*(v-d)),Z=(v-d)/x,S=(m-y)/x,b=x/t;if(b>1){for(var R=1;R<=b-1;R++){var w=R*t,F=S*w+y,O=Z*w+d;h.push([F,O])}var N=(x+Math.floor(b-1)*t)/2,q=S*N+y,I=Z*N+d;h.push([q,I])}h.push([m,v])}}}catch(k){o.e(k)}finally{o.f()}return function(e){return"polygon"===e.type}(e)?new c.Z({rings:s,spatialReference:e.spatialReference}):new f.Z({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=(0,x.Sx)(r,!0)}return n&&(e=m(e,n)),e}function k(e,t,n){if(Array.isArray(e)){var r=e[0];if(r>t){var i=d(r,t);e[0]=r+i*(-2*t)}else if(r<n){var a=d(r,n);e[0]=r+a*(-2*n)}}else{var s=e.x;if(s>t){var u=d(s,t);e=e.clone().offset(u*(-2*t),0)}else if(s<n){var o=d(s,n);e=e.clone().offset(o*(-2*n),0)}}return e}function C(e,t){for(var n=-1,r=function(r){for(var a=t.cutIndexes[r],s=t.geometries[r],u=g(s),o=function(e){var t=u[e];t.some((function(n){if(n[0]<180)return!0;for(var r=0,i=0;i<t.length;i++){var a=t[i][0];r=a>r?a:r}for(var u=-360*d(r=Number(r.toFixed(9)),180),o=0;o<t.length;o++){var l=s.getPoint(e,o);s.setPoint(e,o,l.clone().offset(u,0))}return!0}))},l=0;l<u.length;l++)o(l);if(a===n){if(function(e){return"polygon"===e[0].type}(e)){var c,f=(0,i.Z)(g(s));try{for(f.s();!(c=f.n()).done;){var h=c.value;e[a]=e[a].addRing(h)}}catch(v){f.e(v)}finally{f.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var p,y=(0,i.Z)(g(s));try{for(y.s();!(p=y.n()).done;){var m=p.value;e[a]=e[a].addPath(m)}}catch(v){y.e(v)}finally{y.f()}}}else n=a,e[a]=s},a=0;a<t.cutIndexes.length;a++)r(a);return e}function P(e,t,n){return J.apply(this,arguments)}function J(){return J=(0,r.Z)(a.mark((function e(t,n,r){var u,o,h,p,g,Z,S,b,w,O,N,q,E,J,j,G,T,z,L,M,X,B,A,Q,V,W,D,U,Y,$,_,H,K,ee,te,ne,re,ie,ae,se,ue;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",P([t],n));case 2:o=null!=(u=null==n?void 0:n.url)?u:s.Z.geometryServiceUrl,N=0,q=[],E=[],J=(0,i.Z)(t);try{for(J.s();!(j=J.n()).done;)G=j.value,(0,l.Wi)(G)?E.push(G):(h||(h=G.spatialReference,p=(0,v.C5)(h),g=h.isWebMercator,Z=y[b=g?102100:4326].maxX,S=y[b].minX,w=y[b].plus180Line,O=y[b].minus180Line),p?"mesh"===G.type?E.push(G):"point"===G.type?E.push(k(G.clone(),Z,S)):"multipoint"===G.type?((T=G.clone()).points=T.points.map((function(e){return k(e,Z,S)})),E.push(T)):"extent"===G.type?(z=G.clone()._normalize(!1,!1,p),E.push(z.rings?new c.Z(z):z)):G.extent?(L=G.extent,M=d(L.xmin,S)*(2*Z),X=0===M?G.clone():m(G.clone(),M),L.offset(M,0),L.intersects(w)&&L.xmax!==Z?(N=L.xmax>N?L.xmax:N,X=I(X,g),q.push(X),E.push("cut")):L.intersects(O)&&L.xmin!==S?(N=L.xmax*(2*Z)>N?L.xmax*(2*Z):N,X=I(X,g,360),q.push(X),E.push("cut")):E.push(X)):E.push(G.clone()):E.push(G))}catch(a){J.e(a)}finally{J.f()}for(B=d(N,Z),A=-90,Q=B,V=new f.Z;B>0;)W=360*B-180,V.addPath([[W,A],[W,-1*A]]),A*=-1,B--;if(!(q.length>0&&Q>0)){e.next=28;break}return e.t0=C,e.t1=q,e.next=15,R(o,q,V,r);case 15:for(e.t2=e.sent,D=(0,e.t0)(e.t1,e.t2),U=[],Y=[],$=0;$<E.length;$++)"cut"!==(_=E[$])?Y.push(_):(H=D.shift(),K=t[$],(0,l.pC)(K)&&"polygon"===K.type&&K.rings&&K.rings.length>1&&H.rings.length>=K.rings.length?(U.push(H),Y.push("simplify")):Y.push(g?(0,x.$)(H):H));if(U.length){e.next=22;break}return e.abrupt("return",Y);case 22:return e.next=24,F(o,U,r);case 24:for(ee=e.sent,te=[],ne=0;ne<Y.length;ne++)"simplify"!==(re=Y[ne])?te.push(re):te.push(g?(0,x.$)(ee.shift()):ee.shift());return e.abrupt("return",te);case 28:for(ie=[],ae=0;ae<E.length;ae++)"cut"!==(se=E[ae])?ie.push(se):(ue=q.shift(),ie.push(!0===g?(0,x.$)(ue):ue));return e.abrupt("return",Promise.resolve(ie));case 31:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}},3182:function(e,t,n){n.d(t,{S6:function(){return l},nd:function(){return c},u_:function(){return o}});var r=n(60136),i=n(29388),a=n(15671),s=n(43144),u=n(92026),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,a.Z)(this,e),this.geometry=t,this.attributes=n,this.centroid=r,this.objectId=i,this.displayId=0,this.geohashX=0,this.geohashY=0}return(0,s.Z)(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function l(e){return!((0,u.Wi)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}var c=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(o)},6908:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(15671),i=n(43144),a=function(){function e(){(0,r.Z)(this,e),this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}return(0,i.Z)(e,[{key:"weakClone",value:function(){var t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}]),e}()},80457:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(42982),i=n(15671),a=n(43144),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.Z)(this,e),this.lengths=null!=t?t:[],this.coords=null!=n?n:[],this.hasIndeterminateRingOrder=r}return(0,a.Z)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max.apply(Math,(0,r.Z)(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var n=0;n<this.lengths.length;n++){for(var r=this.lengths[n],i=0;i<r;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=r}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}()},22585:function(e,t,n){function r(e){var t={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[n]=[];for(var a=0;a<i.length;a++)t[n][a]=r(i[a])}else"object"==typeof i?i.toJSON&&(t[n]=JSON.stringify(i)):t[n]=i}return t}n.d(t,{A:function(){return r}})},5192:function(e,t,n){n.r(t),n.d(t,{encodeGeometry:function(){return d},executeQuery:function(){return g},executeQueryForCount:function(){return R},executeQueryForExtent:function(){return w},executeQueryForIds:function(){return b},executeQueryPBF:function(){return x},executeQueryPBFBuffer:function(){return S},queryToQueryStringParameters:function(){return m},runQuery:function(){return F}});var r=n(1413),i=n(15861),a=n(87757),s=n(76200),u=n(92026),o=n(35995),l=n(77981),c=n(41862),f=n(22585),h=n(27607),p=n(68620),y="Layer does not support extent calculation.";function d(e,t){if(t&&"extent"===e.type)return"".concat(e.xmin,",").concat(e.ymin,",").concat(e.xmax,",").concat(e.ymax);if(t&&"point"===e.type)return"".concat(e.x,",").concat(e.y);var n=e.toJSON();return delete n.spatialReference,JSON.stringify(n)}function m(e,t){var n=e.geometry,r=e.toJSON();delete r.compactGeometryEnabled,delete r.defaultSpatialReferenceEnabled;var i,a,s=r,o=e.outSpatialReference;if((0,u.pC)(n)&&(i=n.spatialReference,a=n.spatialReference.wkid||JSON.stringify(n.spatialReference),s.geometryType=(0,l.Ji)(n),s.geometry=d(n,e.compactGeometryEnabled),s.inSR=a),r.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=r.groupByFieldsForStatistics.join(",")),r.objectIds&&(s.objectIds=r.objectIds.join(",")),r.orderByFields&&(s.orderByFields=r.orderByFields.join(",")),!r.outFields||!r.returnDistinctValues&&(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?delete s.outFields:-1!==r.outFields.indexOf("*")?s.outFields="*":s.outFields=r.outFields.join(","),r.outSR?s.outSR=r.outSR.wkid||JSON.stringify(r.outSR):n&&(r.returnGeometry||r.returnCentroid)&&(s.outSR=s.inSR),r.returnGeometry&&delete r.returnGeometry,r.outStatistics&&(s.outStatistics=JSON.stringify(r.outStatistics)),r.pixelSize&&(s.pixelSize=JSON.stringify(r.pixelSize)),r.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&(0,u.pC)(i)&&(0,u.pC)(e.quantizationParameters)&&(0,u.pC)(e.quantizationParameters.extent)&&i.equals(e.quantizationParameters.extent.spatialReference)&&delete r.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.parameterValues&&(s.parameterValues=JSON.stringify(r.parameterValues)),r.rangeValues&&(s.rangeValues=JSON.stringify(r.rangeValues)),r.dynamicDataSource&&(s.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r.timeExtent){var c=r.timeExtent,f=c.start,h=c.end;null==f&&null==h||(s.time=f===h?f:"".concat(null==f?"null":f,",").concat(null==h?"null":h)),delete r.timeExtent}return e.defaultSpatialReferenceEnabled&&(0,u.pC)(i)&&(0,u.pC)(o)&&i.equals(o)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}function g(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(a.mark((function e(t,n,r,i){var s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.pC)(n.timeExtent)||!n.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,F(t,n,"json",i);case 6:e.t0=e.sent;case 7:return s=e.t0,e.abrupt("return",((0,p.p)(n,r,s.data),s));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)(a.mark((function e(t,n,r,i){var s,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.pC)(n.timeExtent)||!n.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",Promise.resolve({data:r.createFeatureResult()}));case 2:return e.next=4,S(t,n,i);case 4:return s=e.sent,o=s,e.abrupt("return",(o.data=(0,h.C)(s.data,r),o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return F(e,t,"pbf",n)}function b(e,t,n){return(0,u.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):F(e,t,"json",n,{returnIdsOnly:!0})}function R(e,t,n){return(0,u.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):F(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function w(e,t,n){return(0,u.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):F(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(y);if(t.hasOwnProperty("count"))throw new Error(y);return e}))}function F(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l="string"==typeof e?(0,o.mN)(e):e,h=t.geometry?[t.geometry]:[];return i.responseType="pbf"===n?"array-buffer":"json",(0,c.aX)(h,null,i).then((function(e){var c=e&&e[0];(0,u.pC)(c)&&((t=t.clone()).geometry=c);var h=(0,f.A)((0,r.Z)((0,r.Z)((0,r.Z)({},l.query),{},{f:n},a),m(t,a)));return(0,s.default)((0,o.v_)(l.path,"query"),(0,r.Z)((0,r.Z)({},i),{},{query:(0,r.Z)((0,r.Z)({},h),i.query)}))}))}}}]);
//# sourceMappingURL=5686.8f8f05f9.chunk.js.map