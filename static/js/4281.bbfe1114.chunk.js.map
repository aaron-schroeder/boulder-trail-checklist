{"version":3,"file":"static/js/4281.bbfe1114.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/uuid.js","../node_modules/@arcgis/core/core/domUtils.js","../node_modules/@esri/arcgis-html-sanitizer/dist/esm/index.js","../node_modules/@arcgis/core/widgets/support/vnodeCache.js","../node_modules/@arcgis/core/widgets/support/widgetUtils.js","../node_modules/@arcgis/core/libs/maquette/projection.js","../node_modules/@arcgis/core/libs/maquette/dom.js","../node_modules/@arcgis/core/libs/maquette/projector.js","../node_modules/@arcgis/core/widgets/support/componentsUtils.js","../node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js","../node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js","../node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js","../node_modules/@stencil/core/internal/client/index.js","../node_modules/@stencil/core/internal/app-data/index.js","../node_modules/@arcgis/core/widgets/support/jsxWidgetSupport.js","../node_modules/@arcgis/core/widgets/support/widgetThemeUtils.js","../node_modules/@arcgis/core/widgets/Widget.js","../node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js","../node_modules/@arcgis/core/widgets/support/jsxFactory.js","../node_modules/@arcgis/core/identity/IdentityForm.js","../node_modules/tabbable/src/index.js","../node_modules/focus-trap/index.js","../node_modules/@arcgis/core/identity/IdentityModal.js","../node_modules/@arcgis/core/widgets/support/widget.js","../node_modules/@arcgis/core/identity/OAuthCredential.js","../node_modules/@arcgis/core/identity/OAuthInfo.js","../node_modules/@arcgis/core/identity/ServerInfo.js","../node_modules/@arcgis/core/identity/IdentityManagerBase.js","../node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(){const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const n=n=>t[n].toString(16);return n(0)+n(1)+\"-\"+n(2)+\"-\"+n(3)+\"-\"+n(4)+\"-\"+n(5)+n(6)+n(7)}export{t as generateUUID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction e(e){return\"string\"==typeof e?document.getElementById(e):e}function t(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function n(e,t){const n=t.parentNode;n&&(n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}function o(e,t){const n=t.parentNode;n&&n.insertBefore(e,t)}function r(e,t){for(;;){const n=e.firstChild;if(!n)break;t.appendChild(n)}}function i(e){e.parentNode&&e.parentNode.removeChild(e)}const l=(()=>{if(\"function\"==typeof Element.prototype.closest)return(e,t)=>e.closest(t);const e=Element.prototype.matches||Element.prototype.msMatchesSelector;return(t,n)=>{let o=t;do{if(e.call(o,n))return o;o=o.parentElement}while(null!==o&&1===o.nodeType);return null}})();export{e as byId,l as closest,t as empty,n as insertAfter,o as insertBefore,i as remove,r as reparent};\n","/*!\n * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)\n * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.\n * Apache-2.0\n * \n * js-xss\n * Copyright (c) 2012-2017 Zongmin Lei() <leizongmin@gmail.com>\n * http://ucdok.com\n * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n * \n * Lodash/isPlainObject\n * Copyright (c) JS Foundation and other contributors <https://js.foundation/>\n * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details\n */\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nvar lodash_isplainobject = isPlainObject;\n\nvar lib$1 = {exports: {}};\n\nvar _default$1 = {};\n\nvar lib = {exports: {}};\n\nvar _default = {};\n\n/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList$1 () {\n  // \n  // true: \n  // Function: function (val) { } true\n  // RegExp: regexp.test(val) true\n  // \n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue$1(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\n_default.whiteList = getDefaultWhiteList$1();\n_default.getDefaultWhiteList = getDefaultWhiteList$1;\n_default.onAttr = onAttr;\n_default.onIgnoreAttr = onIgnoreAttr;\n_default.safeAttrValue = safeAttrValue$1;\n\nvar util$1 = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nvar _$3 = util$1;\n\n\n/**\n * style\n *\n * @param {String} css\n * @param {Function} onAttr \n *    function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle$1 (css, onAttr) {\n  css = _$3.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // \n    if (!isParenthesisOpen) {\n      var source = _$3.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _$3.trim(source.slice(0, j));\n        var value = _$3.trim(source.slice(j + 1));\n        // \n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // \n      var j = css.indexOf('*/', i + 2);\n      // \n      if (j === -1) break;\n      // \n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) ; else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _$3.trim(retCSS);\n}\n\nvar parser$2 = parseStyle$1;\n\n/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nvar DEFAULT$1 = _default;\nvar parseStyle = parser$2;\n\n\n/**\n * \n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull$1 (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * \n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject$1 (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * CSS\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS$2 (options) {\n  options = shallowCopyObject$1(options || {});\n  options.whiteList = options.whiteList || DEFAULT$1.whiteList;\n  options.onAttr = options.onAttr || DEFAULT$1.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS$2.prototype.process = function (css) {\n  // \n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    //  value \n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull$1(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull$1(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nvar css = FilterCSS$2;\n\n/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\n(function (module, exports) {\nvar DEFAULT = _default;\nvar FilterCSS = css;\n\n\n/**\n * XSS\n *\n * @param {String} css CSS\n * @param {Object} options whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// \nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n}(lib, lib.exports));\n\nvar util = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n\n/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS$1 = lib.exports.FilterCSS;\nvar getDefaultCSSWhiteList = lib.exports.getDefaultWhiteList;\nvar _$2 = util;\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS$1();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _$2.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _$2.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _$2.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _$2.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\n_default$1.whiteList = getDefaultWhiteList();\n_default$1.getDefaultWhiteList = getDefaultWhiteList;\n_default$1.onTag = onTag;\n_default$1.onIgnoreTag = onIgnoreTag;\n_default$1.onTagAttr = onTagAttr;\n_default$1.onIgnoreTagAttr = onIgnoreTagAttr;\n_default$1.safeAttrValue = safeAttrValue;\n_default$1.escapeHtml = escapeHtml;\n_default$1.escapeQuote = escapeQuote;\n_default$1.unescapeQuote = unescapeQuote;\n_default$1.escapeHtmlEntities = escapeHtmlEntities;\n_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\n_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;\n_default$1.friendlyAttrValue = friendlyAttrValue;\n_default$1.escapeAttrValue = escapeAttrValue;\n_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;\n_default$1.StripTagBody = StripTagBody;\n_default$1.stripCommentTag = stripCommentTag;\n_default$1.stripBlankChar = stripBlankChar;\n_default$1.cssFilter = defaultCSSFilter;\n_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n\nvar parser$1 = {};\n\n/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _$1 = util;\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _$1.spaceIndex(html);\n  if (i === -1) {\n    var tagName = html.slice(1, -1);\n  } else {\n    var tagName = html.slice(1, i + 1);\n  }\n  tagName = _$1.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html '<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag$1(html, onTag, escapeHtml) {\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9_:\\.\\-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr$1(html, onAttr) {\n\n  var lastPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _$1.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // \n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastPos &&\n        (c === '\"' || c === \"'\") &&\n        html.charAt(i - 1) === \"=\"\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _$1.trim(html.slice(lastPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _$1.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nparser$1.parseTag = parseTag$1;\nparser$1.parseAttr = parseAttr$1;\n\n/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = lib.exports.FilterCSS;\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = util;\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList, onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    var stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: whiteList.hasOwnProperty(tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            var ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        var html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        var ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nvar xss = FilterXSS;\n\n/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar FilterXSS = xss;\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\nfor (var i in parser) exports[i] = parser[i];\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return (\n    typeof self !== \"undefined\" &&\n    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n    self instanceof DedicatedWorkerGlobalScope\n  );\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n}(lib$1, lib$1.exports));\n\n/* Copyright (c) 2020 Environmental Systems Research Institute, Inc.\n * Apache-2.0\n *\n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>\n * http://ucdok.com\n * The MIT License, see\n * https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n *\n * Lodash/isPlainObject\n * Copyright (c) JS Foundation and other contributors <https://js.foundation/>\n * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details\n * */\n/**\n * The Sanitizer Class\n *\n * @export\n * @class Sanitizer\n */\nvar Sanitizer = /** @class */ (function () {\n    function Sanitizer(filterOptions, extendDefaults) {\n        var _this = this;\n        // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm\n        this.arcgisWhiteList = {\n            a: [\"href\", \"style\", \"target\"],\n            abbr: [\"title\"],\n            audio: [\"autoplay\", \"controls\", \"loop\", \"muted\", \"preload\"],\n            b: [],\n            br: [],\n            dd: [\"style\"],\n            div: [\"align\", \"style\"],\n            dl: [\"style\"],\n            dt: [\"style\"],\n            em: [],\n            figcaption: [\"style\"],\n            figure: [\"style\"],\n            font: [\"color\", \"face\", \"size\", \"style\"],\n            h1: [\"style\"],\n            h2: [\"style\"],\n            h3: [\"style\"],\n            h4: [\"style\"],\n            h5: [\"style\"],\n            h6: [\"style\"],\n            hr: [],\n            i: [],\n            img: [\"alt\", \"border\", \"height\", \"src\", \"style\", \"width\"],\n            li: [],\n            ol: [],\n            p: [\"style\"],\n            source: [\"media\", \"src\", \"type\"],\n            span: [\"style\"],\n            strong: [],\n            sub: [\"style\"],\n            sup: [\"style\"],\n            table: [\"border\", \"cellpadding\", \"cellspacing\", \"height\", \"style\", \"width\"],\n            tbody: [],\n            tr: [\"align\", \"height\", \"style\", \"valign\"],\n            td: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\"\n            ],\n            th: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\"\n            ],\n            u: [],\n            ul: [],\n            video: [\n                \"autoplay\",\n                \"controls\",\n                \"height\",\n                \"loop\",\n                \"muted\",\n                \"poster\",\n                \"preload\",\n                \"width\"\n            ]\n        };\n        this.allowedProtocols = [\n            \"http\",\n            \"https\",\n            \"mailto\",\n            \"iform\",\n            \"tel\",\n            \"flow\",\n            \"lfmobile\",\n            \"arcgis-navigator\",\n            \"arcgis-appstudio-player\",\n            \"arcgis-survey123\",\n            \"arcgis-collector\",\n            \"arcgis-workforce\",\n            \"arcgis-explorer\",\n            \"arcgis-trek2there\",\n            \"arcgis-quickcapture\",\n            \"mspbi\",\n            \"comgooglemaps\",\n            \"pdfefile\",\n            \"pdfehttp\",\n            \"pdfehttps\",\n            \"boxapp\",\n            \"boxemm\",\n            \"awb\",\n            \"awbs\",\n            \"gropen\",\n            \"radarscope\"\n        ];\n        this.arcgisFilterOptions = {\n            allowCommentTag: true,\n            safeAttrValue: function (tag, name, value, cssFilter) {\n                // Take over safe attribute filtering for `a` `href`, `img` `src`,\n                // and `source` `src` attributes, otherwise pass onto the\n                // default `XSS.safeAttrValue` method.\n                if ((tag === \"a\" && name === \"href\") ||\n                    ((tag === \"img\" || tag === \"source\") && name === \"src\")) {\n                    return _this.sanitizeUrl(value);\n                }\n                return lib$1.exports.safeAttrValue(tag, name, value, cssFilter);\n            }\n        };\n        var xssFilterOptions;\n        if (filterOptions && !extendDefaults) {\n            // Override the defaults\n            xssFilterOptions = filterOptions;\n        }\n        else if (filterOptions && extendDefaults) {\n            // Extend the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            Object.keys(filterOptions).forEach(function (key) {\n                if (key === \"whiteList\") {\n                    // Extend the whitelist by concatenating arrays\n                    xssFilterOptions.whiteList = _this._extendObjectOfArrays([\n                        _this.arcgisWhiteList,\n                        filterOptions.whiteList || {}\n                    ]);\n                }\n                else {\n                    xssFilterOptions[key] = filterOptions[key];\n                }\n            });\n        }\n        else {\n            // Only use the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            xssFilterOptions.whiteList = this.arcgisWhiteList;\n        }\n        this.xssFilterOptions = xssFilterOptions;\n        // Make this readable to tests\n        this._xssFilter = new lib$1.exports.FilterXSS(xssFilterOptions);\n    }\n    /**\n     * Sanitizes value to remove invalid HTML tags.\n     *\n     * Note: If the value passed does not contain a valid JSON data type (String,\n     * Number, JSON Object, Array, Boolean, or null), the value will be nullified.\n     *\n     * @param {any} value The value to sanitize.\n     * @returns {any} The sanitized value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitize = function (value, options) {\n        if (options === void 0) { options = {}; }\n        switch (typeof value) {\n            case \"number\":\n                if (isNaN(value) || !isFinite(value)) {\n                    return null;\n                }\n                return value;\n            case \"boolean\":\n                return value;\n            case \"string\":\n                return this._xssFilter.process(value);\n            case \"object\":\n                return this._iterateOverObject(value, options);\n            default:\n                if (options.allowUndefined && typeof value === \"undefined\") {\n                    return;\n                }\n                return null;\n        }\n    };\n    /**\n     * Sanitizes a URL string following the allowed protocols and sanitization rules.\n     *\n     * @param {string} value The URL to sanitize.\n     * @returns {string} The sanitized URL.\n     */\n    Sanitizer.prototype.sanitizeUrl = function (value) {\n        var protocol = this._trim(value.substring(0, value.indexOf(\":\")));\n        if (!(value === \"/\" ||\n            value === \"#\" ||\n            value[0] === \"#\" ||\n            this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1)) {\n            return \"\";\n        }\n        else {\n            return lib$1.exports.escapeAttrValue(value);\n        }\n    };\n    /**\n     * Sanitizes an HTML attribute value.\n     *\n     * @param {string} tag The tagname of the HTML element.\n     * @param {string} attribute The attribute name of the HTML element.\n     * @param {string} value The raw value to be used for the HTML attribute value.\n     * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.\n     * @returns {string} The sanitized attribute value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {\n        // use the custom safeAttrValue function if provided\n        if (typeof this.xssFilterOptions.safeAttrValue === 'function') {\n            // @ts-ignore safeAttrValue does handle undefined cssFilter\n            return this.xssFilterOptions.safeAttrValue(tag, attribute, value, cssFilter);\n        }\n        // otherwise use the default\n        // @ts-ignore safeAttrValue does handle undefined cssFilter\n        return lib$1.exports.safeAttrValue(tag, attribute, value, cssFilter);\n    };\n    /**\n     * Checks if a value only contains valid HTML.\n     *\n     * @param {any} value The value to validate.\n     * @returns {boolean}\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.validate = function (value, options) {\n        if (options === void 0) { options = {}; }\n        var sanitized = this.sanitize(value, options);\n        return {\n            isValid: value === sanitized,\n            sanitized: sanitized\n        };\n    };\n    /**\n     * Extends an object of arrays by by concatenating arrays of the same object\n     * keys. If the if the previous key's value is not an array, the next key's\n     * value will replace the previous key. This method is used for extending the\n     * whiteList in the XSS filter options.\n     *\n     * @private\n     * @param {Array<{}>} objects An array of objects.\n     * @returns {{}} The extended object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._extendObjectOfArrays = function (objects) {\n        var finalObj = {};\n        objects.forEach(function (obj) {\n            Object.keys(obj).forEach(function (key) {\n                if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {\n                    finalObj[key] = finalObj[key].concat(obj[key]);\n                }\n                else {\n                    finalObj[key] = obj[key];\n                }\n            });\n        });\n        return finalObj;\n    };\n    /**\n     * Iterate over a plain object or array to deeply sanitize each value.\n     *\n     * @private\n     * @param {object} obj The object to iterate over.\n     * @returns {(object | null)} The sanitized object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._iterateOverObject = function (obj, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        try {\n            var hasChanged_1 = false;\n            var changedObj = void 0;\n            if (Array.isArray(obj)) {\n                changedObj = obj.reduce(function (prev, value) {\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        return prev.concat([value]);\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        return prev.concat([validation.sanitized]);\n                    }\n                }, []);\n            }\n            else if (!lodash_isplainobject(obj)) {\n                if (options.allowUndefined && typeof obj === \"undefined\") {\n                    return;\n                }\n                return null;\n            }\n            else {\n                var keys = Object.keys(obj);\n                changedObj = keys.reduce(function (prev, key) {\n                    var value = obj[key];\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        prev[key] = value;\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        prev[key] = validation.sanitized;\n                    }\n                    return prev;\n                }, {});\n            }\n            if (hasChanged_1) {\n                return changedObj;\n            }\n            return obj;\n        }\n        catch (err) {\n            return null;\n        }\n    };\n    /**\n     * Trim whitespace from the start and ends of a string.\n     * @param {string} val The string to trim.\n     * @returns {string} The trimmed string.\n     */\n    Sanitizer.prototype._trim = function (val) {\n        // @ts-ignore This is used by Jest,\n        // but TypeScript errors since it assumes `trim` is always available.\n        return String.prototype.trim\n            ? val.trim()\n            : val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    };\n    return Sanitizer;\n}());\n\nexport { Sanitizer, Sanitizer as default };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst n=new Map;function t(){n.clear()}function e(t){return n.get(t)}function c(t,e){n.set(t,e)}function o(t){n.delete(t)}export{t as clearVNodeCache,o as deleteVNodeCache,e as getVNodeCache,c as setVNodeCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"@esri/arcgis-html-sanitizer\";import t from\"../../core/ArrayPool.js\";import{makeHandle as n}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{clearVNodeCache as i}from\"./vnodeCache.js\";var o,s,a=function(e){if(\"WebkitTransition\"in e.style)o=\"webkitTransitionEnd\",s=\"webkitAnimationEnd\";else{if(!(\"transition\"in e.style))throw new Error(\"Your browser is not supported!\");o=\"transitionend\",s=\"animationend\"}},c=function(e){o||a(e)},l=function(e,t){return void 0===t&&(t=e+\"-active\"),function(n){c(n);var r=!1,i=function(a){r||(r=!0,n.removeEventListener(o,i),n.removeEventListener(s,i),n.classList.remove(e),n.classList.remove(t))};n.classList.add(e),n.addEventListener(o,i),n.addEventListener(s,i),requestAnimationFrame((function(){n.classList.add(t)}))}},d=function(e,t){return void 0===t&&(t=e+\"-active\"),function(n,r){c(n);var i=!1,a=function(e){i||(i=!0,n.removeEventListener(o,a),n.removeEventListener(s,a),r())};n.classList.add(e),n.addEventListener(o,a),n.addEventListener(s,a),requestAnimationFrame((function(){n.classList.add(t)}))}};const u=r.getLogger(\"esri.widgets.support.widgetUtils\");function p(e){const n=t.acquire();for(let t=0;t<arguments.length;t++){const e=arguments[t],r=typeof e;if(\"string\"===r)n.push(e);else if(Array.isArray(e))n.push.apply(n,e);else if(\"object\"===r)for(const t in e)e[t]&&n.push(t)}const r=n.join(\" \");return t.release(n),r}const g=(()=>{const e=new Map,t=new ResizeObserver((t=>{i();for(const n of t)e.get(n.target)(n)}));return(r,i,o)=>(e.has(r)&&u.error(\"Already observing element\",r),e.set(r,i),t.observe(r,o),n((()=>{t.unobserve(r),e.delete(r)})))})();function f(e){const t=null==e?void 0:e.closest(\"[dir]\");return null!==t&&t instanceof HTMLElement&&\"rtl\"===t.dir||\"rtl\"===document.dir}function m(e){return f(e)?\"rtl\":\"ltr\"}function h(e){const t=\"data-node-ref\";this[e.getAttribute(t)]=null}function v(e){const t=\"data-node-ref\";this[e.getAttribute(t)]=e}function w(e,t){return(\"enter\"===e?l:d)(t)}const L=[\"dd\",\"dl\",\"dt\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"sub\",\"sup\",...[\"animate\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"ellipse\",\"g\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"svg\",\"switch\",\"symbol\",\"text\",\"textpath\",\"tspan\",\"use\"]],b=L.reduce(((e,t)=>(e[t]=[],e)),{}),y=[\"align\",\"alink\",\"alt\",\"bgcolor\",\"border\",\"cellpadding\",\"cellspacing\",\"class\",\"color\",\"cols\",\"colspan\",\"coords\",\"d\",\"dir\",\"face\",\"height\",\"hspace\",\"ismap\",\"lang\",\"marginheight\",\"marginwidth\",\"multiple\",\"nohref\",\"noresize\",\"noshade\",\"nowrap\",\"ref\",\"rel\",\"rev\",\"rows\",\"rowspan\",\"scrolling\",\"shape\",\"span\",\"summary\",\"tabindex\",\"title\",\"usemap\",\"valign\",\"value\",\"vlink\",\"vspace\",\"width\"],E=new e({whiteList:b,onTagAttr:(e,t,n)=>{const r=`${t}=\"${n}\"`;if(y.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:[\"script\",\"style\"]},!0);function A(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top+n.height,o=r.top+r.height,s=n.top,a=r.top;(i>o||s<a)&&e.scrollIntoView({block:\"end\"})}function k(e){return\"Enter\"===e||\" \"===e}export{L as additionalAllowedTags,p as classes,w as cssTransition,h as discardNode,m as getDir,k as isActivationKey,f as isRTL,A as keepMenuItemWithinView,g as onResize,E as renderingSanitizer,y as safeAttrs,v as storeNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{renderingSanitizer as e}from\"../../widgets/support/widgetUtils.js\";const t=\"http://www.w3.org/\",r=`${t}2000/svg`,o=`${t}1999/xlink`;let i,l=[],n=(e,t)=>{let r={};return Object.keys(e).forEach((t=>{r[t]=e[t]})),t&&Object.keys(t).forEach((e=>{r[e]=t[e]})),r},s=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),p=e=>{if(\"string\"!=typeof e)throw new Error(\"Style values must be strings\")},d=(e,t,r)=>{if(\"\"!==t.vnodeSelector)for(let o=r;o<e.length;o++)if(s(e[o],t))return o;return-1},a=(e,t,r,o)=>{let i=e[t];if(\"\"===i.vnodeSelector)return;let l=i.properties;if(!(l?void 0===l.key?l.bind:l.key:void 0))for(let n=0;n<e.length;n++)if(n!==t){let t=e[n];if(s(t,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${\"added\"===o?o:\"removed\"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},f=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},c=[],u=!1,h=e=>{(e.children||[]).forEach(h),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},m=()=>{u=!1,c.forEach(h),c.length=0},v=e=>{c.push(e),u||(u=!0,\"undefined\"!=typeof window&&\"requestIdleCallback\"in window?window.requestIdleCallback(m,{timeout:16}):setTimeout(m,16))},y=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r){t.style.pointerEvents=\"none\";let o=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void r(t,o,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},g=(t,i,l)=>{if(!i)return;let n=l.eventHandlerInterceptor,s=Object.keys(i),d=s.length;for(let a=0;a<d;a++){let d=s[a],f=i[d];if(\"className\"===d)throw new Error('Property \"className\" is not supported, use \"class\".');if(\"class\"===d)x(t,f,!0);else if(\"classes\"===d){let e=Object.keys(f),r=e.length;for(let o=0;o<r;o++){let r=e[o];f[r]&&t.classList.add(r)}}else if(\"styles\"===d){let e=Object.keys(f),r=e.length;for(let o=0;o<r;o++){let r=e[o],i=f[r];i&&(p(i),l.styleApplyer(t,r,i))}}else if(\"key\"!==d&&null!=f){let s=typeof f;\"function\"===s?(0===d.lastIndexOf(\"on\",0)&&(n&&(f=n(d,f,t,i)),\"oninput\"===d&&function(){let e=f;f=function(t){e.apply(this,[t]),t.target[\"oninput-value\"]=t.target.value}}()),t[d]=f):l.namespace===r?\"href\"===d?t.setAttributeNS(o,d,f):t.setAttribute(d,f):\"string\"===s&&\"value\"!==d?\"innerHTML\"===d?t[d]=e.sanitize(f):t.setAttribute(d,f):t[d]=f}}},b=(e,t,r)=>{if(t)for(let o of t)w(o,e,void 0,r)},N=(e,t,r)=>{b(e,t.children,r),t.text&&(e.textContent=t.text),g(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},w=(e,t,o,i)=>{let l,s=0,p=e.vnodeSelector,d=t.ownerDocument;if(\"\"===p)l=e.domNode=d.createTextNode(e.text),void 0!==o?t.insertBefore(l,o):t.appendChild(l);else{for(let a=0;a<=p.length;++a){let f=p.charAt(a);if(a===p.length||\".\"===f||\"#\"===f){let f=p.charAt(s-1),c=p.slice(s,a);\".\"===f?l.classList.add(c):\"#\"===f?l.id=c:(\"svg\"===c&&(i=n(i,{namespace:r})),void 0!==i.namespace?l=e.domNode=d.createElementNS(i.namespace,c):(l=e.domNode=e.domNode||d.createElement(c),\"input\"===c&&e.properties&&void 0!==e.properties.type&&l.setAttribute(\"type\",e.properties.type)),void 0!==o?t.insertBefore(l,o):l.parentNode!==t&&t.appendChild(l)),s=a+1}}N(l,e,i)}},x=(e,t,r)=>{t&&t.split(\" \").forEach((t=>{t&&e.classList.toggle(t,r)}))},k=(t,i,l,n)=>{if(!l)return;let s=!1,d=Object.keys(l),a=d.length;for(let f=0;f<a;f++){let a=d[f],c=l[a],u=i[a];if(\"class\"===a)u!==c&&(x(t,u,!1),x(t,c,!0));else if(\"classes\"===a){let e=t.classList,r=Object.keys(c),o=r.length;for(let t=0;t<o;t++){let o=r[t],i=!!c[o];i!==!!u[o]&&(s=!0,i?e.add(o):e.remove(o))}}else if(\"styles\"===a){let e=Object.keys(c),r=e.length;for(let o=0;o<r;o++){let r=e[o],i=c[r];i!==u[r]&&(s=!0,i?(p(i),n.styleApplyer(t,r,i)):n.styleApplyer(t,r,\"\"))}}else if(c||\"string\"!=typeof u||(c=\"\"),\"value\"===a){let e=t[a];e!==c&&(t[\"oninput-value\"]?e===t[\"oninput-value\"]:c!==u)&&(t[a]=c,t[\"oninput-value\"]=void 0),c!==u&&(s=!0)}else if(c!==u){let i=typeof c;\"function\"===i&&n.eventHandlerInterceptor||(n.namespace===r?\"href\"===a?t.setAttributeNS(o,a,c):t.setAttribute(a,c):\"string\"===i?\"innerHTML\"===a?t[a]=e.sanitize(c):\"role\"===a&&\"\"===c?t.removeAttribute(a):t.setAttribute(a,c):t[a]!==c&&(t[a]=c),s=!0)}}return s},A=(e,t,r,o,n)=>{if(r===o)return!1;o=o||l;let p,c=(r=r||l).length,u=o.length,h=0,m=0,v=!1;for(;m<u;){let l=h<c?r[h]:void 0,u=o[m];if(void 0!==l&&s(l,u))v=i(l,u,n)||v,h++;else{let l=d(r,u,h+1);if(l>=0){for(p=h;p<l;p++)y(r[p]),a(r,p,e,\"removed\");v=i(r[l],u,n)||v,h=l+1}else w(u,t,h<c?r[h].domNode:void 0,n),f(u),a(o,m,e,\"added\")}m++}if(c>h)for(p=h;p<c;p++)y(r[p]),a(r,p,e,\"removed\");return v};i=(e,t,o)=>{let i=e.domNode,l=!1;if(e===t)return!1;let s=!1;if(\"\"===t.vnodeSelector){if(t.text!==e.text){let e=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(e,i),t.domNode=e,l=!0,l}t.domNode=i}else 0===t.vnodeSelector.lastIndexOf(\"svg\",0)&&(o=n(o,{namespace:r})),e.text!==t.text&&(s=!0,void 0===t.text?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,s=A(t,i,e.children,t.children,o)||s,s=k(i,e.properties,t.properties,o)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,o,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),l};let S=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error(\"The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)\");let o=e;e=r,i(o,r,t)},domNode:e.domNode});export{w as createDom,S as createProjection,n as extend,N as initPropertiesAndChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{extend as e,createDom as r,createProjection as o,initPropertiesAndChildren as t}from\"./projection.js\";const p={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,r,o)=>{\"-\"===r.charAt(0)?e.style.setProperty(r,o):e.style[r]=o}};let d=r=>e(p,r),n={create:(e,t)=>(t=d(t),r(e,document.createElement(\"div\"),void 0,t),o(e,t)),append:(e,t,p)=>(p=d(p),r(t,e,void 0,p),o(t,p)),insertBefore:(e,t,p)=>(p=d(p),r(t,e.parentNode,e,p),o(t,p)),merge:(e,r,p)=>(p=d(p),r.domNode=e,t(e,r,p),o(r,p)),replace:(e,t,p)=>(p=d(p),r(t,e.parentNode,e,p),e.parentNode.removeChild(e),o(t,p))};export{d as applyDefaultProjectionOptions,n as dom};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{applyDefaultProjectionOptions as e,dom as r}from\"./dom.js\";let t,n=(e,r)=>{let t=[];for(;e&&e!==r;)t.push(e),e=e.parentNode;return t};t=Array.prototype.find?(e,r)=>e.find(r):(e,r)=>e.filter(r)[0];let o=(e,r)=>{let n=e;return r.forEach((e=>{n=n&&n.children?t(n.children,(r=>r.domNode===e)):void 0})),n},d=(e,r,t)=>{let d=function(d){t(\"domEvent\",d);let i=r(),p=n(d.currentTarget,i.domNode);p.reverse();let l,a=o(i.getLastRender(),p);return e.scheduleRender(),a&&(l=a.properties[`on${d.type}`].apply(a.properties.bind||this,arguments)),t(\"domEventProcessed\",d),l};return(e,r,t,n)=>d},i=t=>{let n,o,i=e(t),p=i.performanceLogger,l=!0,a=!1,s=[],c=[],u=(e,r,t)=>{let o,l=()=>o;i.eventHandlerInterceptor=d(n,l,p),o=e(r,t(),i),s.push(o),c.push(t)},f=()=>{if(o=void 0,l){l=!1,p(\"renderStart\",void 0);for(let e=0;e<s.length;e++){let r=c[e]();p(\"rendered\",void 0),s[e].update(r),p(\"patched\",void 0)}p(\"renderDone\",void 0),l=!0}};return n={renderNow:f,scheduleRender:()=>{o||a||(o=requestAnimationFrame(f))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,l=!0,n.scheduleRender()},append:(e,t)=>{u(r.append,e,t)},insertBefore:(e,t)=>{u(r.insertBefore,e,t)},merge:(e,t)=>{u(r.merge,e,t)},replace:(e,t)=>{u(r.replace,e,t)},detach:e=>{for(let r=0;r<c.length;r++)if(c[r]===e)return c.splice(r,1),s.splice(r,1)[0];throw new Error(\"renderFunction was not found\")}},n};export{i as createProjector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{setAssetPath as o}from\"@esri/calcite-components/dist/components/index.js\";import{getAssetUrl as s}from\"../../assets.js\";import\"../../core/has.js\";import{makeAbsolute as t}from\"../../core/urlUtils.js\";let e;function r(){o(t(s(e)))}e=\"components/assets\";export{r as commitAssetPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst e={handleInterceptedEvent:(e,p,t,n)=>(e.scheduleRender(),p.properties[`on${n.type}`].apply(p.properties.bind||t,[n]))};export{e as defaultAdvancedProjectorOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,r,o)=>{e.style[r]=o}},r=r=>({...e,...r});export{r as applyDefaultProjectionOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{dom as e}from\"../maquette/dom.js\";import\"../maquette/projector.js\";import{defaultAdvancedProjectorOptions as t}from\"./advanced-projector-options.js\";import{applyDefaultProjectionOptions as r}from\"./utils.js\";const o=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},n=(e,t)=>e.find(t),d=(e,t,r=!1)=>{let o=e;return t.forEach(((e,d)=>{var s;const i=null!=(s=o)&&s.children?n(o.children,(t=>t.domNode===e)):void 0;r&&!i&&d!==t.length-1||(o=i)})),o},s=n=>{let s;const i={...t,...n},c=r(i),a=c.performanceLogger;let l,m=!0,p=!1;const u=[],f=[],v=(e,t,r)=>{let n;c.eventHandlerInterceptor=(e,t,r,c)=>function(e){let t;a(\"domEvent\",e);const r=o(e.currentTarget,n.domNode),c=r.some((e=>{var t;return customElements.get(null==e||null==(t=e.tagName)?void 0:t.toLowerCase())}));if(e.eventPhase===Event.CAPTURING_PHASE||!c)r.reverse(),t=d(n.getLastRender(),r);else{const r=e.composedPath(),o=r.slice(r.indexOf(e.currentTarget),r.indexOf(n.domNode)).filter((e=>e.getRootNode()===e.ownerDocument)).reverse();t=d(n.getLastRender(),o,!0)}let l;return t&&(l=i.handleInterceptedEvent(s,t,this,e)),a(\"domEventProcessed\",e),l},null==i.postProcessProjectionOptions||i.postProcessProjectionOptions(c);const l=r();n=e(t,l,c),u.push(n),f.push(r),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(n,l)};let h=()=>{if(l=void 0,m){m=!1,a(\"renderStart\",void 0);for(let e=0;e<u.length;e++){const t=f[e]();a(\"rendered\",void 0),u[e].update(t),a(\"patched\",void 0)}a(\"renderDone\",void 0),m=!0}};return i.modifyDoRenderImplementation&&(h=i.modifyDoRenderImplementation(h,u,f)),s={renderNow:h,scheduleRender:()=>{l||p||(l=requestAnimationFrame(h))},stop:()=>{l&&(cancelAnimationFrame(l),l=void 0),p=!0},resume:()=>{p=!1,m=!0,s.scheduleRender()},append:(t,r)=>{v(e.append,t,r)},insertBefore:(t,r)=>{v(e.insertBefore,t,r)},merge:(t,r)=>{v(e.merge,t,r)},replace:(t,r)=>{v(e.replace,t,r)},detach:e=>{for(let t=0;t<f.length;t++)if(f[t]===e)return f.splice(t,1),u.splice(t,1)[0];throw new Error(\"renderFunction was not found\")}},s};export{s as createAdvancedProjector};\n","let scopeId;\nlet contentRef;\nlet hostTagName;\nlet customError;\nlet i = 0;\nlet useNativeShadowDom = false;\nlet checkSlotFallbackVisibility = false;\nlet checkSlotRelocate = false;\nlet isSvgMode = false;\nlet renderingRef = null;\nlet queueCongestion = 0;\nlet queuePending = false;\n/*\n Stencil Client Platform v2.13.0 | MIT Licensed | https://stenciljs.com\n */\nimport { BUILD, NAMESPACE } from '@stencil/core/internal/app-data';\nconst win = typeof window !== 'undefined' ? window : {};\nconst CSS = BUILD.cssVarShim ? win.CSS : null;\nconst doc = win.document || { head: {} };\nconst H = (win.HTMLElement || class {\n});\nconst plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: (h) => h(),\n    raf: (h) => requestAnimationFrame(h),\n    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),\n    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),\n    ce: (eventName, opts) => new CustomEvent(eventName, opts),\n};\nconst setPlatformHelpers = (helpers) => {\n    Object.assign(plt, helpers);\n};\nconst supportsShadow = BUILD.shadowDomShim && BUILD.shadowDom\n    ? /*@__PURE__*/ (() => (doc.head.attachShadow + '').indexOf('[native') > -1)()\n    : true;\nconst supportsListenerOptions = /*@__PURE__*/ (() => {\n    let supportsListenerOptions = false;\n    try {\n        doc.addEventListener('e', null, Object.defineProperty({}, 'passive', {\n            get() {\n                supportsListenerOptions = true;\n            },\n        }));\n    }\n    catch (e) { }\n    return supportsListenerOptions;\n})();\nconst promiseResolve = (v) => Promise.resolve(v);\nconst supportsConstructibleStylesheets = BUILD.constructableCSS\n    ? /*@__PURE__*/ (() => {\n        try {\n            new CSSStyleSheet();\n            return typeof new CSSStyleSheet().replace === 'function';\n        }\n        catch (e) { }\n        return false;\n    })()\n    : false;\nconst Context = {};\nconst addHostEventListeners = (elm, hostRef, listeners, attachParentListeners) => {\n    if (BUILD.hostListener && listeners) {\n        // this is called immediately within the element's constructor\n        // initialize our event listeners on the host element\n        // we do this now so that we can listen to events that may\n        // have fired even before the instance is ready\n        if (BUILD.hostListenerTargetParent) {\n            // this component may have event listeners that should be attached to the parent\n            if (attachParentListeners) {\n                // this is being ran from within the connectedCallback\n                // which is important so that we know the host element actually has a parent element\n                // filter out the listeners to only have the ones that ARE being attached to the parent\n                listeners = listeners.filter(([flags]) => flags & 32 /* TargetParent */);\n            }\n            else {\n                // this is being ran from within the component constructor\n                // everything BUT the parent element listeners should be attached at this time\n                // filter out the listeners that are NOT being attached to the parent\n                listeners = listeners.filter(([flags]) => !(flags & 32 /* TargetParent */));\n            }\n        }\n        listeners.map(([flags, name, method]) => {\n            const target = BUILD.hostListenerTarget ? getHostListenerTarget(elm, flags) : elm;\n            const handler = hostListenerProxy(hostRef, method);\n            const opts = hostListenerOpts(flags);\n            plt.ael(target, name, handler, opts);\n            (hostRef.$rmListeners$ = hostRef.$rmListeners$ || []).push(() => plt.rel(target, name, handler, opts));\n        });\n    }\n};\nconst hostListenerProxy = (hostRef, methodName) => (ev) => {\n    try {\n        if (BUILD.lazyLoad) {\n            if (hostRef.$flags$ & 256 /* isListenReady */) {\n                // instance is ready, let's call it's member method for this event\n                hostRef.$lazyInstance$[methodName](ev);\n            }\n            else {\n                (hostRef.$queuedListeners$ = hostRef.$queuedListeners$ || []).push([methodName, ev]);\n            }\n        }\n        else {\n            hostRef.$hostElement$[methodName](ev);\n        }\n    }\n    catch (e) {\n        consoleError(e);\n    }\n};\nconst getHostListenerTarget = (elm, flags) => {\n    if (BUILD.hostListenerTargetDocument && flags & 4 /* TargetDocument */)\n        return doc;\n    if (BUILD.hostListenerTargetWindow && flags & 8 /* TargetWindow */)\n        return win;\n    if (BUILD.hostListenerTargetBody && flags & 16 /* TargetBody */)\n        return doc.body;\n    if (BUILD.hostListenerTargetParent && flags & 32 /* TargetParent */)\n        return elm.parentElement;\n    return elm;\n};\n// prettier-ignore\nconst hostListenerOpts = (flags) => supportsListenerOptions\n    ? ({\n        passive: (flags & 1 /* Passive */) !== 0,\n        capture: (flags & 2 /* Capture */) !== 0,\n    })\n    : (flags & 2 /* Capture */) !== 0;\nconst CONTENT_REF_ID = 'r';\nconst ORG_LOCATION_ID = 'o';\nconst SLOT_NODE_ID = 's';\nconst TEXT_NODE_ID = 't';\nconst HYDRATE_ID = 's-id';\nconst HYDRATED_STYLE_ID = 'sty-id';\nconst HYDRATE_CHILD_ID = 'c-id';\nconst HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\nconst createTime = (fnName, tagName = '') => {\n    if (BUILD.profile && performance.mark) {\n        const key = `st:${fnName}:${tagName}:${i++}`;\n        // Start\n        performance.mark(key);\n        // End\n        return () => performance.measure(`[Stencil] ${fnName}() <${tagName}>`, key);\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst uniqueTime = (key, measureText) => {\n    if (BUILD.profile && performance.mark) {\n        if (performance.getEntriesByName(key).length === 0) {\n            performance.mark(key);\n        }\n        return () => {\n            if (performance.getEntriesByName(measureText).length === 0) {\n                performance.measure(measureText, key);\n            }\n        };\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst inspect = (ref) => {\n    const hostRef = getHostRef(ref);\n    if (!hostRef) {\n        return undefined;\n    }\n    const flags = hostRef.$flags$;\n    const hostElement = hostRef.$hostElement$;\n    return {\n        renderCount: hostRef.$renderCount$,\n        flags: {\n            hasRendered: !!(flags & 2 /* hasRendered */),\n            hasConnected: !!(flags & 1 /* hasConnected */),\n            isWaitingForChildren: !!(flags & 4 /* isWaitingForChildren */),\n            isConstructingInstance: !!(flags & 8 /* isConstructingInstance */),\n            isQueuedForUpdate: !!(flags & 16 /* isQueuedForUpdate */),\n            hasInitializedComponent: !!(flags & 32 /* hasInitializedComponent */),\n            hasLoadedComponent: !!(flags & 64 /* hasLoadedComponent */),\n            isWatchReady: !!(flags & 128 /* isWatchReady */),\n            isListenReady: !!(flags & 256 /* isListenReady */),\n            needsRerender: !!(flags & 512 /* needsRerender */),\n        },\n        instanceValues: hostRef.$instanceValues$,\n        ancestorComponent: hostRef.$ancestorComponent$,\n        hostElement,\n        lazyInstance: hostRef.$lazyInstance$,\n        vnode: hostRef.$vnode$,\n        modeName: hostRef.$modeName$,\n        onReadyPromise: hostRef.$onReadyPromise$,\n        onReadyResolve: hostRef.$onReadyResolve$,\n        onInstancePromise: hostRef.$onInstancePromise$,\n        onInstanceResolve: hostRef.$onInstanceResolve$,\n        onRenderResolve: hostRef.$onRenderResolve$,\n        queuedListeners: hostRef.$queuedListeners$,\n        rmListeners: hostRef.$rmListeners$,\n        ['s-id']: hostElement['s-id'],\n        ['s-cr']: hostElement['s-cr'],\n        ['s-lr']: hostElement['s-lr'],\n        ['s-p']: hostElement['s-p'],\n        ['s-rc']: hostElement['s-rc'],\n        ['s-sc']: hostElement['s-sc'],\n    };\n};\nconst installDevTools = () => {\n    if (BUILD.devTools) {\n        const stencil = (win.stencil = win.stencil || {});\n        const originalInspect = stencil.inspect;\n        stencil.inspect = (ref) => {\n            let result = inspect(ref);\n            if (!result && typeof originalInspect === 'function') {\n                result = originalInspect(ref);\n            }\n            return result;\n        };\n    }\n};\nconst rootAppliedStyles = new WeakMap();\nconst registerStyle = (scopeId, cssText, allowCS) => {\n    let style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nconst addStyle = (styleContainerNode, cmpMeta, mode, hostElm) => {\n    let scopeId = getScopeId(cmpMeta, mode);\n    let style = styles.get(scopeId);\n    if (!BUILD.attachStyles) {\n        return scopeId;\n    }\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            let appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            let styleElm;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                if (BUILD.hydrateClientSide &&\n                    styleContainerNode.host &&\n                    (styleElm = styleContainerNode.querySelector(`[${HYDRATED_STYLE_ID}=\"${scopeId}\"]`))) {\n                    // This is only happening on native shadow-dom, do not needs CSS var shim\n                    styleElm.innerHTML = style;\n                }\n                else {\n                    if (BUILD.cssVarShim && plt.$cssShim$) {\n                        styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10 /* needsScopedEncapsulation */));\n                        const newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    if (BUILD.hydrateServerSide || BUILD.hotModuleReplacement) {\n                        styleElm.setAttribute(HYDRATED_STYLE_ID, scopeId);\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (BUILD.constructableCSS && !styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];\n        }\n    }\n    return scopeId;\n};\nconst attachStyles = (hostRef) => {\n    const cmpMeta = hostRef.$cmpMeta$;\n    const elm = hostRef.$hostElement$;\n    const flags = cmpMeta.$flags$;\n    const endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    const scopeId = addStyle(BUILD.shadowDom && supportsShadow && elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n    if ((BUILD.shadowDom || BUILD.scoped) && BUILD.cssAnnotations && flags & 10 /* needsScopedEncapsulation */) {\n        // only required when we're NOT using native shadow dom (slot)\n        // or this browser doesn't support native shadow dom\n        // and this host element was NOT created with SSR\n        // let's pick out the inner content for slot projection\n        // create a node to represent where the original\n        // content was first placed, which is useful later on\n        // DOM WRITE!!\n        elm['s-sc'] = scopeId;\n        elm.classList.add(scopeId + '-h');\n        if (BUILD.scoped && flags & 2 /* scopedCssEncapsulation */) {\n            elm.classList.add(scopeId + '-s');\n        }\n    }\n    endAttachStyles();\n};\nconst getScopeId = (cmp, mode) => 'sc-' + (BUILD.mode && mode && cmp.$flags$ & 32 /* hasMode */ ? cmp.$tagName$ + '-' + mode : cmp.$tagName$);\nconst convertScopedToShadow = (css) => css.replace(/\\/\\*!@([^\\/]+)\\*\\/[^\\{]+\\{/g, '$1{');\n// Private\nconst computeMode = (elm) => modeResolutionChain.map((h) => h(elm)).find((m) => !!m);\n// Public\nconst setMode = (handler) => modeResolutionChain.push(handler);\nconst getMode = (ref) => getHostRef(ref).$modeName$;\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nconst EMPTY_OBJ = {};\n/**\n * Namespaces\n */\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst HTML_NS = 'http://www.w3.org/1999/xhtml';\nconst isDef = (v) => v != null;\nconst isComplexType = (o) => {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// const stack: any[] = [];\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nconst h = (nodeName, vnodeData, ...children) => {\n    let child = null;\n    let key = null;\n    let slotName = null;\n    let simple = false;\n    let lastSimple = false;\n    let vNodeChildren = [];\n    const walk = (c) => {\n        for (let i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {\n                    child = String(child);\n                }\n                else if (BUILD.isDev && typeof nodeName !== 'function' && child.$flags$ === undefined) {\n                    consoleDevError(`vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects.`);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? newVNode(null, child) : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        if (BUILD.isDev && nodeName === 'input') {\n            validateInputProperties(vnodeData);\n        }\n        // normalize class / classname attributes\n        if (BUILD.vdomKey && vnodeData.key) {\n            key = vnodeData.key;\n        }\n        if (BUILD.slotRelocation && vnodeData.name) {\n            slotName = vnodeData.name;\n        }\n        if (BUILD.vdomClass) {\n            const classData = vnodeData.className || vnodeData.class;\n            if (classData) {\n                vnodeData.class =\n                    typeof classData !== 'object'\n                        ? classData\n                        : Object.keys(classData)\n                            .filter((k) => classData[k])\n                            .join(' ');\n            }\n        }\n    }\n    if (BUILD.isDev && vNodeChildren.some(isHost)) {\n        consoleDevError(`The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function.`);\n    }\n    if (BUILD.vdomFunctional && typeof nodeName === 'function') {\n        // nodeName is a functional component\n        return nodeName(vnodeData === null ? {} : vnodeData, vNodeChildren, vdomFnUtils);\n    }\n    const vnode = newVNode(nodeName, null);\n    vnode.$attrs$ = vnodeData;\n    if (vNodeChildren.length > 0) {\n        vnode.$children$ = vNodeChildren;\n    }\n    if (BUILD.vdomKey) {\n        vnode.$key$ = key;\n    }\n    if (BUILD.slotRelocation) {\n        vnode.$name$ = slotName;\n    }\n    return vnode;\n};\nconst newVNode = (tag, text) => {\n    const vnode = {\n        $flags$: 0,\n        $tag$: tag,\n        $text$: text,\n        $elm$: null,\n        $children$: null,\n    };\n    if (BUILD.vdomAttribute) {\n        vnode.$attrs$ = null;\n    }\n    if (BUILD.vdomKey) {\n        vnode.$key$ = null;\n    }\n    if (BUILD.slotRelocation) {\n        vnode.$name$ = null;\n    }\n    return vnode;\n};\nconst Host = {};\nconst isHost = (node) => node && node.$tag$ === Host;\nconst vdomFnUtils = {\n    forEach: (children, cb) => children.map(convertToPublic).forEach(cb),\n    map: (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate),\n};\nconst convertToPublic = (node) => ({\n    vattrs: node.$attrs$,\n    vchildren: node.$children$,\n    vkey: node.$key$,\n    vname: node.$name$,\n    vtag: node.$tag$,\n    vtext: node.$text$,\n});\nconst convertToPrivate = (node) => {\n    if (typeof node.vtag === 'function') {\n        const vnodeData = Object.assign({}, node.vattrs);\n        if (node.vkey) {\n            vnodeData.key = node.vkey;\n        }\n        if (node.vname) {\n            vnodeData.name = node.vname;\n        }\n        return h(node.vtag, vnodeData, ...(node.vchildren || []));\n    }\n    const vnode = newVNode(node.vtag, node.vtext);\n    vnode.$attrs$ = node.vattrs;\n    vnode.$children$ = node.vchildren;\n    vnode.$key$ = node.vkey;\n    vnode.$name$ = node.vname;\n    return vnode;\n};\n/**\n * Validates the ordering of attributes on an input element\n * @param inputElm the element to validate\n */\nconst validateInputProperties = (inputElm) => {\n    const props = Object.keys(inputElm);\n    const value = props.indexOf('value');\n    if (value === -1) {\n        return;\n    }\n    const typeIndex = props.indexOf('type');\n    const minIndex = props.indexOf('min');\n    const maxIndex = props.indexOf('max');\n    const stepIndex = props.indexOf('step');\n    if (value < typeIndex || value < minIndex || value < maxIndex || value < stepIndex) {\n        consoleDevWarn(`The \"value\" prop of <input> should be set after \"min\", \"max\", \"type\" and \"step\"`);\n    }\n};\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nconst setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {\n    if (oldValue !== newValue) {\n        let isProp = isMemberInElement(elm, memberName);\n        let ln = memberName.toLowerCase();\n        if (BUILD.vdomClass && memberName === 'class') {\n            const classList = elm.classList;\n            const oldClasses = parseClassList(oldValue);\n            const newClasses = parseClassList(newValue);\n            classList.remove(...oldClasses.filter((c) => c && !newClasses.includes(c)));\n            classList.add(...newClasses.filter((c) => c && !oldClasses.includes(c)));\n        }\n        else if (BUILD.vdomStyle && memberName === 'style') {\n            // update style attribute, css properties and values\n            if (BUILD.updatable) {\n                for (const prop in oldValue) {\n                    if (!newValue || newValue[prop] == null) {\n                        if (!BUILD.hydrateServerSide && prop.includes('-')) {\n                            elm.style.removeProperty(prop);\n                        }\n                        else {\n                            elm.style[prop] = '';\n                        }\n                    }\n                }\n            }\n            for (const prop in newValue) {\n                if (!oldValue || newValue[prop] !== oldValue[prop]) {\n                    if (!BUILD.hydrateServerSide && prop.includes('-')) {\n                        elm.style.setProperty(prop, newValue[prop]);\n                    }\n                    else {\n                        elm.style[prop] = newValue[prop];\n                    }\n                }\n            }\n        }\n        else if (BUILD.vdomKey && memberName === 'key')\n            ;\n        else if (BUILD.vdomRef && memberName === 'ref') {\n            // minifier will clean this up\n            if (newValue) {\n                newValue(elm);\n            }\n        }\n        else if (BUILD.vdomListener &&\n            (BUILD.lazyLoad ? !isProp : !elm.__lookupSetter__(memberName)) &&\n            memberName[0] === 'o' &&\n            memberName[1] === 'n') {\n            // Event Handlers\n            // so if the member name starts with \"on\" and the 3rd characters is\n            // a capital letter, and it's not already a member on the element,\n            // then we're assuming it's an event listener\n            if (memberName[2] === '-') {\n                // on- prefixed events\n                // allows to be explicit about the dom event to listen without any magic\n                // under the hood:\n                // <my-cmp on-click> // listens for \"click\"\n                // <my-cmp on-Click> // listens for \"Click\"\n                // <my-cmp on-ionChange> // listens for \"ionChange\"\n                // <my-cmp on-EVENTS> // listens for \"EVENTS\"\n                memberName = memberName.slice(3);\n            }\n            else if (isMemberInElement(win, ln)) {\n                // standard event\n                // the JSX attribute could have been \"onMouseOver\" and the\n                // member name \"onmouseover\" is on the window's prototype\n                // so let's add the listener \"mouseover\", which is all lowercased\n                memberName = ln.slice(2);\n            }\n            else {\n                // custom event\n                // the JSX attribute could have been \"onMyCustomEvent\"\n                // so let's trim off the \"on\" prefix and lowercase the first character\n                // and add the listener \"myCustomEvent\"\n                // except for the first character, we keep the event name case\n                memberName = ln[2] + memberName.slice(3);\n            }\n            if (oldValue) {\n                plt.rel(elm, memberName, oldValue, false);\n            }\n            if (newValue) {\n                plt.ael(elm, memberName, newValue, false);\n            }\n        }\n        else if (BUILD.vdomPropOrAttr) {\n            // Set property if it exists and it's not a SVG\n            const isComplex = isComplexType(newValue);\n            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n                try {\n                    if (!elm.tagName.includes('-')) {\n                        let n = newValue == null ? '' : newValue;\n                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued\n                        if (memberName === 'list') {\n                            isProp = false;\n                        }\n                        else if (oldValue == null || elm[memberName] != n) {\n                            elm[memberName] = n;\n                        }\n                    }\n                    else {\n                        elm[memberName] = newValue;\n                    }\n                }\n                catch (e) { }\n            }\n            /**\n             * Need to manually update attribute if:\n             * - memberName is not an attribute\n             * - if we are rendering the host element in order to reflect attribute\n             * - if it's a SVG, since properties might not work in <svg>\n             * - if the newValue is null/undefined or 'false'.\n             */\n            let xlink = false;\n            if (BUILD.vdomXlink) {\n                if (ln !== (ln = ln.replace(/^xlink\\:?/, ''))) {\n                    memberName = ln;\n                    xlink = true;\n                }\n            }\n            if (newValue == null || newValue === false) {\n                if (newValue !== false || elm.getAttribute(memberName) === '') {\n                    if (BUILD.vdomXlink && xlink) {\n                        elm.removeAttributeNS(XLINK_NS, memberName);\n                    }\n                    else {\n                        elm.removeAttribute(memberName);\n                    }\n                }\n            }\n            else if ((!isProp || flags & 4 /* isHost */ || isSvg) && !isComplex) {\n                newValue = newValue === true ? '' : newValue;\n                if (BUILD.vdomXlink && xlink) {\n                    elm.setAttributeNS(XLINK_NS, memberName, newValue);\n                }\n                else {\n                    elm.setAttribute(memberName, newValue);\n                }\n            }\n        }\n    }\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => (!value ? [] : value.split(parseClassListRegex));\nconst updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    const elm = newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host\n        ? newVnode.$elm$.host\n        : newVnode.$elm$;\n    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    if (BUILD.updatable) {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (!(memberName in newVnodeAttrs)) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\nconst createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {\n    // tslint:disable-next-line: prefer-const\n    let newVNode = newParentVNode.$children$[childIndex];\n    let i = 0;\n    let elm;\n    let childNode;\n    let oldVNode;\n    if (BUILD.slotRelocation && !useNativeShadowDom) {\n        // remember for later we need to check to relocate nodes\n        checkSlotRelocate = true;\n        if (newVNode.$tag$ === 'slot') {\n            if (scopeId) {\n                // scoped css needs to add its scoped id to the parent element\n                parentElm.classList.add(scopeId + '-s');\n            }\n            newVNode.$flags$ |= newVNode.$children$\n                ? // slot element has fallback content\n                    2 /* isSlotFallback */\n                : // slot element does not have fallback content\n                    1 /* isSlotReference */;\n        }\n    }\n    if (BUILD.isDev && newVNode.$elm$) {\n        consoleDevError(`The JSX ${newVNode.$text$ !== null ? `\"${newVNode.$text$}\" text` : `\"${newVNode.$tag$}\" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`);\n    }\n    if (BUILD.vdomText && newVNode.$text$ !== null) {\n        // create text node\n        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else if (BUILD.slotRelocation && newVNode.$flags$ & 1 /* isSlotReference */) {\n        // create a slot reference node\n        elm = newVNode.$elm$ =\n            BUILD.isDebug || BUILD.hydrateServerSide ? slotReferenceDebugNode(newVNode) : doc.createTextNode('');\n    }\n    else {\n        if (BUILD.svg && !isSvgMode) {\n            isSvgMode = newVNode.$tag$ === 'svg';\n        }\n        // create element\n        elm = newVNode.$elm$ = (BUILD.svg\n            ? doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */\n                ? 'slot-fb'\n                : newVNode.$tag$)\n            : doc.createElement(BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */\n                ? 'slot-fb'\n                : newVNode.$tag$));\n        if (BUILD.svg && isSvgMode && newVNode.$tag$ === 'foreignObject') {\n            isSvgMode = false;\n        }\n        // add css classes, attrs, props, listeners, etc.\n        if (BUILD.vdomAttribute) {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if ((BUILD.shadowDom || BUILD.scoped) && isDef(scopeId) && elm['s-si'] !== scopeId) {\n            // if there is a scopeId and this is the initial render\n            // then let's add the scopeId as a css class\n            elm.classList.add((elm['s-si'] = scopeId));\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i, elm);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n        if (BUILD.svg) {\n            if (newVNode.$tag$ === 'svg') {\n                // Only reset the SVG context when we're exiting <svg> element\n                isSvgMode = false;\n            }\n            else if (elm.tagName === 'foreignObject') {\n                // Reenter SVG context when we're exiting <foreignObject> element\n                isSvgMode = true;\n            }\n        }\n    }\n    if (BUILD.slotRelocation) {\n        elm['s-hn'] = hostTagName;\n        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {\n            // remember the content reference comment\n            elm['s-sr'] = true;\n            // remember the content reference comment\n            elm['s-cr'] = contentRef;\n            // remember the slot name, or empty string for default slot\n            elm['s-sn'] = newVNode.$name$ || '';\n            // check if we've got an old vnode for this slot\n            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];\n            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {\n                // we've got an old slot vnode and the wrapper is being replaced\n                // so let's move the old slot content back to it's original location\n                putBackInOriginalLocation(oldParentVNode.$elm$, false);\n            }\n        }\n    }\n    return elm;\n};\nconst putBackInOriginalLocation = (parentElm, recursive) => {\n    plt.$flags$ |= 1 /* isTmpDisconnected */;\n    const oldSlotChildNodes = parentElm.childNodes;\n    for (let i = oldSlotChildNodes.length - 1; i >= 0; i--) {\n        const childNode = oldSlotChildNodes[i];\n        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {\n            // // this child node in the old element is from another component\n            // // remove this node from the old slot's parent\n            // childNode.remove();\n            // and relocate it back to it's original location\n            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));\n            // remove the old original location comment entirely\n            // later on the patch function will know what to do\n            // and move this to the correct spot in need be\n            childNode['s-ol'].remove();\n            childNode['s-ol'] = undefined;\n            checkSlotRelocate = true;\n        }\n        if (recursive) {\n            putBackInOriginalLocation(childNode, recursive);\n        }\n    }\n    plt.$flags$ &= ~1 /* isTmpDisconnected */;\n};\nconst addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {\n    let containerElm = ((BUILD.slotRelocation && parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);\n    let childNode;\n    if (BUILD.shadowDom && containerElm.shadowRoot && containerElm.tagName === hostTagName) {\n        containerElm = containerElm.shadowRoot;\n    }\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx, parentElm);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, BUILD.slotRelocation ? referenceNode(before) : before);\n            }\n        }\n    }\n};\nconst removeVnodes = (vnodes, startIdx, endIdx, vnode, elm) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if ((vnode = vnodes[startIdx])) {\n            elm = vnode.$elm$;\n            callNodeRefs(vnode);\n            if (BUILD.slotRelocation) {\n                // we're removing this element\n                // so it's possible we need to show slot fallback content now\n                checkSlotFallbackVisibility = true;\n                if (elm['s-ol']) {\n                    // remove the original location comment\n                    elm['s-ol'].remove();\n                }\n                else {\n                    // it's possible that child nodes of the node\n                    // that's being removed are slot nodes\n                    putBackInOriginalLocation(elm, true);\n                }\n            }\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\nconst updateChildren = (parentElm, oldCh, newVNode, newCh) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let idxInOld = 0;\n    let i = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let node;\n    let elmToMove;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // Vnode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            if (BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);\n            }\n            patch(oldStartVnode, newEndVnode);\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            if (BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);\n            }\n            patch(oldEndVnode, newStartVnode);\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // createKeyToOldIdx\n            idxInOld = -1;\n            if (BUILD.vdomKey) {\n                for (i = oldStartIdx; i <= oldEndIdx; ++i) {\n                    if (oldCh[i] && oldCh[i].$key$ !== null && oldCh[i].$key$ === newStartVnode.$key$) {\n                        idxInOld = i;\n                        break;\n                    }\n                }\n            }\n            if (BUILD.vdomKey && idxInOld >= 0) {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.$tag$ !== newStartVnode.$tag$) {\n                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);\n                }\n                else {\n                    patch(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    node = elmToMove.$elm$;\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                // new element\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                if (BUILD.slotRelocation) {\n                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));\n                }\n                else {\n                    oldStartVnode.$elm$.parentNode.insertBefore(node, oldStartVnode.$elm$);\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (BUILD.updatable && newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\nconst isSameVnode = (vnode1, vnode2) => {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (vnode1.$tag$ === vnode2.$tag$) {\n        if (BUILD.slotRelocation && vnode1.$tag$ === 'slot') {\n            return vnode1.$name$ === vnode2.$name$;\n        }\n        if (BUILD.vdomKey) {\n            return vnode1.$key$ === vnode2.$key$;\n        }\n        return true;\n    }\n    return false;\n};\nconst referenceNode = (node) => {\n    // this node was relocated to a new location in the dom\n    // because of some other component's slot\n    // but we still have an html comment in place of where\n    // it's original location was according to it's original vdom\n    return (node && node['s-ol']) || node;\n};\nconst parentReferenceNode = (node) => (node['s-ol'] ? node['s-ol'] : node).parentNode;\nconst patch = (oldVNode, newVNode) => {\n    const elm = (newVNode.$elm$ = oldVNode.$elm$);\n    const oldChildren = oldVNode.$children$;\n    const newChildren = newVNode.$children$;\n    const tag = newVNode.$tag$;\n    const text = newVNode.$text$;\n    let defaultHolder;\n    if (!BUILD.vdomText || text === null) {\n        if (BUILD.svg) {\n            // test if we're rendering an svg element, or still rendering nodes inside of one\n            // only add this to the when the compiler sees we're using an svg somewhere\n            isSvgMode = tag === 'svg' ? true : tag === 'foreignObject' ? false : isSvgMode;\n        }\n        // element node\n        if (BUILD.vdomAttribute || BUILD.reflect) {\n            if (BUILD.slot && tag === 'slot')\n                ;\n            else {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (BUILD.updatable && oldChildren !== null && newChildren !== null) {\n            // looks like there's child vnodes for both the old and new vnodes\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (newChildren !== null) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (BUILD.updatable && BUILD.vdomText && oldVNode.$text$ !== null) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (BUILD.updatable && oldChildren !== null) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n        if (BUILD.svg && isSvgMode && tag === 'svg') {\n            isSvgMode = false;\n        }\n    }\n    else if (BUILD.vdomText && BUILD.slotRelocation && (defaultHolder = elm['s-cr'])) {\n        // this element has slotted content\n        defaultHolder.parentNode.textContent = text;\n    }\n    else if (BUILD.vdomText && oldVNode.$text$ !== text) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.data = text;\n    }\n};\nconst updateFallbackSlotVisibility = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNodes = elm.childNodes;\n    let childNode;\n    let i;\n    let ilen;\n    let j;\n    let slotNameAttr;\n    let nodeType;\n    for (i = 0, ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            if (childNode['s-sr']) {\n                // this is a slot fallback node\n                // get the slot name for this slot reference node\n                slotNameAttr = childNode['s-sn'];\n                // by default always show a fallback slot node\n                // then hide it if there are other slots in the light dom\n                childNode.hidden = false;\n                for (j = 0; j < ilen; j++) {\n                    nodeType = childNodes[j].nodeType;\n                    if (childNodes[j]['s-hn'] !== childNode['s-hn'] || slotNameAttr !== '') {\n                        // this sibling node is from a different component OR is a named fallback slot node\n                        if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                    else {\n                        // this is a default fallback slot node\n                        // any element or text node (with content)\n                        // should hide the default fallback slot node\n                        if (nodeType === 1 /* ElementNode */ ||\n                            (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            // keep drilling down\n            updateFallbackSlotVisibility(childNode);\n        }\n    }\n};\nconst relocateNodes = [];\nconst relocateSlotContent = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNode;\n    let node;\n    let hostContentNodes;\n    let slotNameAttr;\n    let relocateNodeData;\n    let j;\n    let i = 0;\n    let childNodes = elm.childNodes;\n    let ilen = childNodes.length;\n    for (; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && (node = childNode['s-cr']) && node.parentNode) {\n            // first got the content reference comment node\n            // then we got it's parent, which is where all the host content is in now\n            hostContentNodes = node.parentNode.childNodes;\n            slotNameAttr = childNode['s-sn'];\n            for (j = hostContentNodes.length - 1; j >= 0; j--) {\n                node = hostContentNodes[j];\n                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {\n                    // let's do some relocating to its new home\n                    // but never relocate a content reference node\n                    // that is suppose to always represent the original content location\n                    if (isNodeLocatedInSlot(node, slotNameAttr)) {\n                        // it's possible we've already decided to relocate this node\n                        relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);\n                        // made some changes to slots\n                        // let's make sure we also double check\n                        // fallbacks are correctly hidden or shown\n                        checkSlotFallbackVisibility = true;\n                        node['s-sn'] = node['s-sn'] || slotNameAttr;\n                        if (relocateNodeData) {\n                            // previously we never found a slot home for this node\n                            // but turns out we did, so let's remember it now\n                            relocateNodeData.$slotRefNode$ = childNode;\n                        }\n                        else {\n                            // add to our list of nodes to relocate\n                            relocateNodes.push({\n                                $slotRefNode$: childNode,\n                                $nodeToRelocate$: node,\n                            });\n                        }\n                        if (node['s-sr']) {\n                            relocateNodes.map((relocateNode) => {\n                                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node['s-sn'])) {\n                                    relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);\n                                    if (relocateNodeData && !relocateNode.$slotRefNode$) {\n                                        relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    else if (!relocateNodes.some((r) => r.$nodeToRelocate$ === node)) {\n                        // so far this element does not have a slot home, not setting slotRefNode on purpose\n                        // if we never find a home for this element then we'll need to hide it\n                        relocateNodes.push({\n                            $nodeToRelocate$: node,\n                        });\n                    }\n                }\n            }\n        }\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            relocateSlotContent(childNode);\n        }\n    }\n};\nconst isNodeLocatedInSlot = (nodeToRelocate, slotNameAttr) => {\n    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n        if (nodeToRelocate.getAttribute('slot') === null && slotNameAttr === '') {\n            return true;\n        }\n        if (nodeToRelocate.getAttribute('slot') === slotNameAttr) {\n            return true;\n        }\n        return false;\n    }\n    if (nodeToRelocate['s-sn'] === slotNameAttr) {\n        return true;\n    }\n    return slotNameAttr === '';\n};\nconst callNodeRefs = (vNode) => {\n    if (BUILD.vdomRef) {\n        vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(null);\n        vNode.$children$ && vNode.$children$.map(callNodeRefs);\n    }\n};\nconst renderVdom = (hostRef, renderFnResults) => {\n    const hostElm = hostRef.$hostElement$;\n    const cmpMeta = hostRef.$cmpMeta$;\n    const oldVNode = hostRef.$vnode$ || newVNode(null, null);\n    const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);\n    hostTagName = hostElm.tagName;\n    // <Host> runtime check\n    if (BUILD.isDev && Array.isArray(renderFnResults) && renderFnResults.some(isHost)) {\n        throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of \"${hostTagName.toLowerCase()}\" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);\n    }\n    if (BUILD.reflect && cmpMeta.$attrsToReflect$) {\n        rootVnode.$attrs$ = rootVnode.$attrs$ || {};\n        cmpMeta.$attrsToReflect$.map(([propName, attribute]) => (rootVnode.$attrs$[attribute] = hostElm[propName]));\n    }\n    rootVnode.$tag$ = null;\n    rootVnode.$flags$ |= 4 /* isHost */;\n    hostRef.$vnode$ = rootVnode;\n    rootVnode.$elm$ = oldVNode.$elm$ = (BUILD.shadowDom ? hostElm.shadowRoot || hostElm : hostElm);\n    if (BUILD.scoped || BUILD.shadowDom) {\n        scopeId = hostElm['s-sc'];\n    }\n    if (BUILD.slotRelocation) {\n        contentRef = hostElm['s-cr'];\n        useNativeShadowDom = supportsShadow && (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;\n        // always reset\n        checkSlotFallbackVisibility = false;\n    }\n    // synchronous patch\n    patch(oldVNode, rootVnode);\n    if (BUILD.slotRelocation) {\n        // while we're moving nodes around existing nodes, temporarily disable\n        // the disconnectCallback from working\n        plt.$flags$ |= 1 /* isTmpDisconnected */;\n        if (checkSlotRelocate) {\n            relocateSlotContent(rootVnode.$elm$);\n            let relocateData;\n            let nodeToRelocate;\n            let orgLocationNode;\n            let parentNodeRef;\n            let insertBeforeNode;\n            let refNode;\n            let i = 0;\n            for (; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (!nodeToRelocate['s-ol']) {\n                    // add a reference node marking this node's original location\n                    // keep a reference to this node for later lookups\n                    orgLocationNode =\n                        BUILD.isDebug || BUILD.hydrateServerSide\n                            ? originalLocationDebugNode(nodeToRelocate)\n                            : doc.createTextNode('');\n                    orgLocationNode['s-nr'] = nodeToRelocate;\n                    nodeToRelocate.parentNode.insertBefore((nodeToRelocate['s-ol'] = orgLocationNode), nodeToRelocate);\n                }\n            }\n            for (i = 0; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (relocateData.$slotRefNode$) {\n                    // by default we're just going to insert it directly\n                    // after the slot reference node\n                    parentNodeRef = relocateData.$slotRefNode$.parentNode;\n                    insertBeforeNode = relocateData.$slotRefNode$.nextSibling;\n                    orgLocationNode = nodeToRelocate['s-ol'];\n                    while ((orgLocationNode = orgLocationNode.previousSibling)) {\n                        refNode = orgLocationNode['s-nr'];\n                        if (refNode && refNode['s-sn'] === nodeToRelocate['s-sn'] && parentNodeRef === refNode.parentNode) {\n                            refNode = refNode.nextSibling;\n                            if (!refNode || !refNode['s-nr']) {\n                                insertBeforeNode = refNode;\n                                break;\n                            }\n                        }\n                    }\n                    if ((!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode) ||\n                        nodeToRelocate.nextSibling !== insertBeforeNode) {\n                        // we've checked that it's worth while to relocate\n                        // since that the node to relocate\n                        // has a different next sibling or parent relocated\n                        if (nodeToRelocate !== insertBeforeNode) {\n                            if (!nodeToRelocate['s-hn'] && nodeToRelocate['s-ol']) {\n                                // probably a component in the index.html that doesn't have it's hostname set\n                                nodeToRelocate['s-hn'] = nodeToRelocate['s-ol'].parentNode.nodeName;\n                            }\n                            // add it back to the dom but in its new home\n                            parentNodeRef.insertBefore(nodeToRelocate, insertBeforeNode);\n                        }\n                    }\n                }\n                else {\n                    // this node doesn't have a slot home to go to, so let's hide it\n                    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n                        nodeToRelocate.hidden = true;\n                    }\n                }\n            }\n        }\n        if (checkSlotFallbackVisibility) {\n            updateFallbackSlotVisibility(rootVnode.$elm$);\n        }\n        // done moving nodes around\n        // allow the disconnect callback to work again\n        plt.$flags$ &= ~1 /* isTmpDisconnected */;\n        // always reset\n        relocateNodes.length = 0;\n    }\n};\n// slot comment debug nodes only created with the `--debug` flag\n// otherwise these nodes are text nodes w/out content\nconst slotReferenceDebugNode = (slotVNode) => doc.createComment(`<slot${slotVNode.$name$ ? ' name=\"' + slotVNode.$name$ + '\"' : ''}> (host=${hostTagName.toLowerCase()})`);\nconst originalLocationDebugNode = (nodeToRelocate) => doc.createComment(`org-location for ` +\n    (nodeToRelocate.localName\n        ? `<${nodeToRelocate.localName}> (host=${nodeToRelocate['s-hn']})`\n        : `[${nodeToRelocate.textContent}]`));\nconst getElement = (ref) => (BUILD.lazyLoad ? getHostRef(ref).$hostElement$ : ref);\nconst createEvent = (ref, name, flags) => {\n    const elm = getElement(ref);\n    return {\n        emit: (detail) => {\n            if (BUILD.isDev && !elm.isConnected) {\n                consoleDevWarn(`The \"${name}\" event was emitted, but the dispatcher node is no longer connected to the dom.`);\n            }\n            return emitEvent(elm, name, {\n                bubbles: !!(flags & 4 /* Bubbles */),\n                composed: !!(flags & 2 /* Composed */),\n                cancelable: !!(flags & 1 /* Cancellable */),\n                detail,\n            });\n        },\n    };\n};\n/**\n * Helper function to create & dispatch a custom Event on a provided target\n * @param elm the target of the Event\n * @param name the name to give the custom Event\n * @param opts options for configuring a custom Event\n * @returns the custom Event\n */\nconst emitEvent = (elm, name, opts) => {\n    const ev = plt.ce(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nconst attachToAncestor = (hostRef, ancestorComponent) => {\n    if (BUILD.asyncLoading && ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {\n        ancestorComponent['s-p'].push(new Promise((r) => (hostRef.$onRenderResolve$ = r)));\n    }\n};\nconst scheduleUpdate = (hostRef, isInitialLoad) => {\n    if (BUILD.taskQueue && BUILD.updatable) {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    if (BUILD.asyncLoading && hostRef.$flags$ & 4 /* isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* needsRerender */;\n        return;\n    }\n    attachToAncestor(hostRef, hostRef.$ancestorComponent$);\n    // there is no ancestor component or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    const dispatch = () => dispatchHooks(hostRef, isInitialLoad);\n    return BUILD.taskQueue ? writeTask(dispatch) : dispatch();\n};\nconst dispatchHooks = (hostRef, isInitialLoad) => {\n    const elm = hostRef.$hostElement$;\n    const endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    const instance = BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    let promise;\n    if (isInitialLoad) {\n        if (BUILD.lazyLoad && BUILD.hostListener) {\n            hostRef.$flags$ |= 256 /* isListenReady */;\n            if (hostRef.$queuedListeners$) {\n                hostRef.$queuedListeners$.map(([methodName, event]) => safeCall(instance, methodName, event));\n                hostRef.$queuedListeners$ = null;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentWillLoad');\n        if (BUILD.cmpWillLoad) {\n            promise = safeCall(instance, 'componentWillLoad');\n        }\n    }\n    else {\n        emitLifecycleEvent(elm, 'componentWillUpdate');\n        if (BUILD.cmpWillUpdate) {\n            promise = safeCall(instance, 'componentWillUpdate');\n        }\n    }\n    emitLifecycleEvent(elm, 'componentWillRender');\n    if (BUILD.cmpWillRender) {\n        promise = then(promise, () => safeCall(instance, 'componentWillRender'));\n    }\n    endSchedule();\n    return then(promise, () => updateComponent(hostRef, instance, isInitialLoad));\n};\nconst updateComponent = async (hostRef, instance, isInitialLoad) => {\n    // updateComponent\n    const elm = hostRef.$hostElement$;\n    const endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    const rc = elm['s-rc'];\n    if (BUILD.style && isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    const endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    if (BUILD.isDev) {\n        hostRef.$flags$ |= 1024 /* devOnRender */;\n    }\n    if (BUILD.hydrateServerSide) {\n        await callRender(hostRef, instance, elm);\n    }\n    else {\n        callRender(hostRef, instance, elm);\n    }\n    if (BUILD.cssVarShim && plt.$cssShim$) {\n        plt.$cssShim$.updateHost(elm);\n    }\n    if (BUILD.isDev) {\n        hostRef.$renderCount$++;\n        hostRef.$flags$ &= ~1024 /* devOnRender */;\n    }\n    if (BUILD.hydrateServerSide) {\n        try {\n            // manually connected child components during server-side hydrate\n            serverSideConnected(elm);\n            if (isInitialLoad) {\n                // using only during server-side hydrate\n                if (hostRef.$cmpMeta$.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    elm['s-en'] = '';\n                }\n                else if (hostRef.$cmpMeta$.$flags$ & 2 /* scopedCssEncapsulation */) {\n                    elm['s-en'] = 'c';\n                }\n            }\n        }\n        catch (e) {\n            consoleError(e, elm);\n        }\n    }\n    if (BUILD.asyncLoading && rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map((cb) => cb());\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    if (BUILD.asyncLoading) {\n        const childrenPromises = elm['s-p'];\n        const postUpdate = () => postUpdateComponent(hostRef);\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n    else {\n        postUpdateComponent(hostRef);\n    }\n};\nconst callRender = (hostRef, instance, elm) => {\n    // in order for bundlers to correctly treeshake the BUILD object\n    // we need to ensure BUILD is not deoptimized within a try/catch\n    // https://rollupjs.org/guide/en/#treeshake tryCatchDeoptimization\n    const allRenderFn = BUILD.allRenderFn ? true : false;\n    const lazyLoad = BUILD.lazyLoad ? true : false;\n    const taskQueue = BUILD.taskQueue ? true : false;\n    const updatable = BUILD.updatable ? true : false;\n    try {\n        renderingRef = instance;\n        instance = allRenderFn ? instance.render() : instance.render && instance.render();\n        if (updatable && taskQueue) {\n            hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n        }\n        if (updatable || lazyLoad) {\n            hostRef.$flags$ |= 2 /* hasRendered */;\n        }\n        if (BUILD.hasRenderFn || BUILD.reflect) {\n            if (BUILD.vdomRender || BUILD.reflect) {\n                // looks like we've got child nodes to render into this host element\n                // or we need to update the css class/attrs on the host element\n                // DOM WRITE!\n                if (BUILD.hydrateServerSide) {\n                    return Promise.resolve(instance).then((value) => renderVdom(hostRef, value));\n                }\n                else {\n                    renderVdom(hostRef, instance);\n                }\n            }\n            else {\n                elm.textContent = instance;\n            }\n        }\n    }\n    catch (e) {\n        consoleError(e, hostRef.$hostElement$);\n    }\n    renderingRef = null;\n    return null;\n};\nconst getRenderingRef = () => renderingRef;\nconst postUpdateComponent = (hostRef) => {\n    const tagName = hostRef.$cmpMeta$.$tagName$;\n    const elm = hostRef.$hostElement$;\n    const endPostUpdate = createTime('postUpdate', tagName);\n    const instance = BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    if (BUILD.cmpDidRender) {\n        if (BUILD.isDev) {\n            hostRef.$flags$ |= 1024 /* devOnRender */;\n        }\n        safeCall(instance, 'componentDidRender');\n        if (BUILD.isDev) {\n            hostRef.$flags$ &= ~1024 /* devOnRender */;\n        }\n    }\n    emitLifecycleEvent(elm, 'componentDidRender');\n    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* hasLoadedComponent */;\n        if (BUILD.asyncLoading && BUILD.cssAnnotations) {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        if (BUILD.cmpDidLoad) {\n            if (BUILD.isDev) {\n                hostRef.$flags$ |= 2048 /* devOnDidLoad */;\n            }\n            safeCall(instance, 'componentDidLoad');\n            if (BUILD.isDev) {\n                hostRef.$flags$ &= ~2048 /* devOnDidLoad */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidLoad');\n        endPostUpdate();\n        if (BUILD.asyncLoading) {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad(tagName);\n            }\n        }\n    }\n    else {\n        if (BUILD.cmpDidUpdate) {\n            // we've already loaded this component\n            // fire off the user's componentDidUpdate method (if one was provided)\n            // componentDidUpdate runs AFTER render() has been called\n            // and all child components have finished updating\n            if (BUILD.isDev) {\n                hostRef.$flags$ |= 1024 /* devOnRender */;\n            }\n            safeCall(instance, 'componentDidUpdate');\n            if (BUILD.isDev) {\n                hostRef.$flags$ &= ~1024 /* devOnRender */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidUpdate');\n        endPostUpdate();\n    }\n    if (BUILD.hotModuleReplacement) {\n        elm['s-hmr-load'] && elm['s-hmr-load']();\n    }\n    if (BUILD.method && BUILD.lazyLoad) {\n        hostRef.$onInstanceResolve$(elm);\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    if (BUILD.asyncLoading) {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* needsRerender */) {\n            nextTick(() => scheduleUpdate(hostRef, false));\n        }\n        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);\n    }\n    // ( _)\n    // ( _)>-\n    // (_)\n};\nconst forceUpdate = (ref) => {\n    if (BUILD.updatable) {\n        const hostRef = getHostRef(ref);\n        const isConnected = hostRef.$hostElement$.isConnected;\n        if (isConnected &&\n            (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n            scheduleUpdate(hostRef, false);\n        }\n        // Returns \"true\" when the forced update was successfully scheduled\n        return isConnected;\n    }\n    return false;\n};\nconst appDidLoad = (who) => {\n    // on appload\n    // we have finish the first big initial render\n    if (BUILD.cssAnnotations) {\n        addHydratedFlag(doc.documentElement);\n    }\n    if (BUILD.asyncQueue) {\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    nextTick(() => emitEvent(win, 'appload', { detail: { namespace: NAMESPACE } }));\n    if (BUILD.profile && performance.measure) {\n        performance.measure(`[Stencil] ${NAMESPACE} initial load (by ${who})`, 'st:app:start');\n    }\n};\nconst safeCall = (instance, method, arg) => {\n    if (instance && instance[method]) {\n        try {\n            return instance[method](arg);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    return undefined;\n};\nconst then = (promise, thenFn) => {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nconst emitLifecycleEvent = (elm, lifecycleName) => {\n    if (BUILD.lifecycleDOMEvents) {\n        emitEvent(elm, 'stencil_' + lifecycleName, {\n            bubbles: true,\n            composed: true,\n            detail: {\n                namespace: NAMESPACE,\n            },\n        });\n    }\n};\nconst addHydratedFlag = (elm) => BUILD.hydratedClass\n    ? elm.classList.add('hydrated')\n    : BUILD.hydratedAttribute\n        ? elm.setAttribute('hydrated', '')\n        : undefined;\nconst serverSideConnected = (elm) => {\n    const children = elm.children;\n    if (children != null) {\n        for (let i = 0, ii = children.length; i < ii; i++) {\n            const childElm = children[i];\n            if (typeof childElm.connectedCallback === 'function') {\n                childElm.connectedCallback();\n            }\n            serverSideConnected(childElm);\n        }\n    }\n};\nconst initializeClientHydrate = (hostElm, tagName, hostId, hostRef) => {\n    const endHydrate = createTime('hydrateClient', tagName);\n    const shadowRoot = hostElm.shadowRoot;\n    const childRenderNodes = [];\n    const slotNodes = [];\n    const shadowRootNodes = BUILD.shadowDom && shadowRoot ? [] : null;\n    const vnode = (hostRef.$vnode$ = newVNode(tagName, null));\n    if (!plt.$orgLocNodes$) {\n        initializeDocumentHydrate(doc.body, (plt.$orgLocNodes$ = new Map()));\n    }\n    hostElm[HYDRATE_ID] = hostId;\n    hostElm.removeAttribute(HYDRATE_ID);\n    clientHydrate(vnode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, hostElm, hostId);\n    childRenderNodes.map((c) => {\n        const orgLocationId = c.$hostId$ + '.' + c.$nodeId$;\n        const orgLocationNode = plt.$orgLocNodes$.get(orgLocationId);\n        const node = c.$elm$;\n        if (orgLocationNode && supportsShadow && orgLocationNode['s-en'] === '') {\n            orgLocationNode.parentNode.insertBefore(node, orgLocationNode.nextSibling);\n        }\n        if (!shadowRoot) {\n            node['s-hn'] = tagName;\n            if (orgLocationNode) {\n                node['s-ol'] = orgLocationNode;\n                node['s-ol']['s-nr'] = node;\n            }\n        }\n        plt.$orgLocNodes$.delete(orgLocationId);\n    });\n    if (BUILD.shadowDom && shadowRoot) {\n        shadowRootNodes.map((shadowRootNode) => {\n            if (shadowRootNode) {\n                shadowRoot.appendChild(shadowRootNode);\n            }\n        });\n    }\n    endHydrate();\n};\nconst clientHydrate = (parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node, hostId) => {\n    let childNodeType;\n    let childIdSplt;\n    let childVNode;\n    let i;\n    if (node.nodeType === 1 /* ElementNode */) {\n        childNodeType = node.getAttribute(HYDRATE_CHILD_ID);\n        if (childNodeType) {\n            // got the node data from the element's attribute\n            // `${hostId}.${nodeId}.${depth}.${index}`\n            childIdSplt = childNodeType.split('.');\n            if (childIdSplt[0] === hostId || childIdSplt[0] === '0') {\n                childVNode = {\n                    $flags$: 0,\n                    $hostId$: childIdSplt[0],\n                    $nodeId$: childIdSplt[1],\n                    $depth$: childIdSplt[2],\n                    $index$: childIdSplt[3],\n                    $tag$: node.tagName.toLowerCase(),\n                    $elm$: node,\n                    $attrs$: null,\n                    $children$: null,\n                    $key$: null,\n                    $name$: null,\n                    $text$: null,\n                };\n                childRenderNodes.push(childVNode);\n                node.removeAttribute(HYDRATE_CHILD_ID);\n                // this is a new child vnode\n                // so ensure its parent vnode has the vchildren array\n                if (!parentVNode.$children$) {\n                    parentVNode.$children$ = [];\n                }\n                // add our child vnode to a specific index of the vnode's children\n                parentVNode.$children$[childVNode.$index$] = childVNode;\n                // this is now the new parent vnode for all the next child checks\n                parentVNode = childVNode;\n                if (shadowRootNodes && childVNode.$depth$ === '0') {\n                    shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                }\n            }\n        }\n        // recursively drill down, end to start so we can remove nodes\n        for (i = node.childNodes.length - 1; i >= 0; i--) {\n            clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.childNodes[i], hostId);\n        }\n        if (node.shadowRoot) {\n            // keep drilling down through the shadow root nodes\n            for (i = node.shadowRoot.childNodes.length - 1; i >= 0; i--) {\n                clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.shadowRoot.childNodes[i], hostId);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        // `${COMMENT_TYPE}.${hostId}.${nodeId}.${depth}.${index}`\n        childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[1] === hostId || childIdSplt[1] === '0') {\n            // comment node for either the host id or a 0 host id\n            childNodeType = childIdSplt[0];\n            childVNode = {\n                $flags$: 0,\n                $hostId$: childIdSplt[1],\n                $nodeId$: childIdSplt[2],\n                $depth$: childIdSplt[3],\n                $index$: childIdSplt[4],\n                $elm$: node,\n                $attrs$: null,\n                $children$: null,\n                $key$: null,\n                $name$: null,\n                $tag$: null,\n                $text$: null,\n            };\n            if (childNodeType === TEXT_NODE_ID) {\n                childVNode.$elm$ = node.nextSibling;\n                if (childVNode.$elm$ && childVNode.$elm$.nodeType === 3 /* TextNode */) {\n                    childVNode.$text$ = childVNode.$elm$.textContent;\n                    childRenderNodes.push(childVNode);\n                    // remove the text comment since it's no longer needed\n                    node.remove();\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                    if (shadowRootNodes && childVNode.$depth$ === '0') {\n                        shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                    }\n                }\n            }\n            else if (childVNode.$hostId$ === hostId) {\n                // this comment node is specifcally for this host id\n                if (childNodeType === SLOT_NODE_ID) {\n                    // `${SLOT_NODE_ID}.${hostId}.${nodeId}.${depth}.${index}.${slotName}`;\n                    childVNode.$tag$ = 'slot';\n                    if (childIdSplt[5]) {\n                        node['s-sn'] = childVNode.$name$ = childIdSplt[5];\n                    }\n                    else {\n                        node['s-sn'] = '';\n                    }\n                    node['s-sr'] = true;\n                    if (BUILD.shadowDom && shadowRootNodes) {\n                        // browser support shadowRoot and this is a shadow dom component\n                        // create an actual slot element\n                        childVNode.$elm$ = doc.createElement(childVNode.$tag$);\n                        if (childVNode.$name$) {\n                            // add the slot name attribute\n                            childVNode.$elm$.setAttribute('name', childVNode.$name$);\n                        }\n                        // insert the new slot element before the slot comment\n                        node.parentNode.insertBefore(childVNode.$elm$, node);\n                        // remove the slot comment since it's not needed for shadow\n                        node.remove();\n                        if (childVNode.$depth$ === '0') {\n                            shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                        }\n                    }\n                    slotNodes.push(childVNode);\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                }\n                else if (childNodeType === CONTENT_REF_ID) {\n                    // `${CONTENT_REF_ID}.${hostId}`;\n                    if (BUILD.shadowDom && shadowRootNodes) {\n                        // remove the content ref comment since it's not needed for shadow\n                        node.remove();\n                    }\n                    else if (BUILD.slotRelocation) {\n                        hostElm['s-cr'] = node;\n                        node['s-cn'] = true;\n                    }\n                }\n            }\n        }\n    }\n    else if (parentVNode && parentVNode.$tag$ === 'style') {\n        const vnode = newVNode(null, node.textContent);\n        vnode.$elm$ = node;\n        vnode.$index$ = '0';\n        parentVNode.$children$ = [vnode];\n    }\n};\nconst initializeDocumentHydrate = (node, orgLocNodes) => {\n    if (node.nodeType === 1 /* ElementNode */) {\n        let i = 0;\n        for (; i < node.childNodes.length; i++) {\n            initializeDocumentHydrate(node.childNodes[i], orgLocNodes);\n        }\n        if (node.shadowRoot) {\n            for (i = 0; i < node.shadowRoot.childNodes.length; i++) {\n                initializeDocumentHydrate(node.shadowRoot.childNodes[i], orgLocNodes);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        const childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[0] === ORG_LOCATION_ID) {\n            orgLocNodes.set(childIdSplt[1] + '.' + childIdSplt[2], node);\n            node.nodeValue = '';\n            // useful to know if the original location is\n            // the root light-dom of a shadow dom component\n            node['s-en'] = childIdSplt[3];\n        }\n    }\n};\nconst parsePropertyValue = (propValue, propType) => {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (BUILD.propBoolean && propType & 4 /* Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return propValue === 'false' ? false : propValue === '' || !!propValue;\n        }\n        if (BUILD.propNumber && propType & 2 /* Number */) {\n            // force it to be a number\n            return parseFloat(propValue);\n        }\n        if (BUILD.propString && propType & 1 /* String */) {\n            // could have been passed as a number or boolean\n            // but we still want it as a string\n            return String(propValue);\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nconst getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);\nconst setValue = (ref, propName, newVal, cmpMeta) => {\n    // check our new property value against our internal value\n    const hostRef = getHostRef(ref);\n    const elm = BUILD.lazyLoad ? hostRef.$hostElement$ : ref;\n    const oldVal = hostRef.$instanceValues$.get(propName);\n    const flags = hostRef.$flags$;\n    const instance = BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if ((!BUILD.lazyLoad || !(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (BUILD.isDev) {\n            if (hostRef.$flags$ & 1024 /* devOnRender */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during rendering. This can potentially lead to infinite-loops and other bugs.`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n            else if (hostRef.$flags$ & 2048 /* devOnDidLoad */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during \"componentDidLoad()\", this triggers extra re-renders, try to setup on \"componentWillLoad()\"`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n        }\n        if (!BUILD.lazyLoad || instance) {\n            // get an array of method names of watch functions to call\n            if (BUILD.watchCallback && cmpMeta.$watchers$ && flags & 128 /* isWatchReady */) {\n                const watchMethods = cmpMeta.$watchers$[propName];\n                if (watchMethods) {\n                    // this instance is watching for when this property changed\n                    watchMethods.map((watchMethodName) => {\n                        try {\n                            // fire off each of the watch methods that are watching this property\n                            instance[watchMethodName](newVal, oldVal, propName);\n                        }\n                        catch (e) {\n                            consoleError(e, elm);\n                        }\n                    });\n                }\n            }\n            if (BUILD.updatable &&\n                (flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                if (BUILD.cmpShouldUpdate && instance.componentShouldUpdate) {\n                    if (instance.componentShouldUpdate(newVal, oldVal, propName) === false) {\n                        return;\n                    }\n                }\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\nconst proxyComponent = (Cstr, cmpMeta, flags) => {\n    if (BUILD.member && cmpMeta.$members$) {\n        if (BUILD.watchCallback && Cstr.watchers) {\n            cmpMeta.$watchers$ = Cstr.watchers;\n        }\n        // It's better to have a const than two Object.entries()\n        const members = Object.entries(cmpMeta.$members$);\n        const prototype = Cstr.prototype;\n        members.map(([memberName, [memberFlags]]) => {\n            if ((BUILD.prop || BUILD.state) &&\n                (memberFlags & 31 /* Prop */ ||\n                    ((!BUILD.lazyLoad || flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype, memberName, {\n                    get() {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set(newValue) {\n                        // only during dev time\n                        if (BUILD.isDev) {\n                            const ref = getHostRef(this);\n                            if (\n                            // we are proxying the instance (not element)\n                            (flags & 1 /* isElementConstructor */) === 0 &&\n                                // the element is not constructing\n                                (ref.$flags$ & 8 /* isConstructingInstance */) === 0 &&\n                                // the member is a prop\n                                (memberFlags & 31 /* Prop */) !== 0 &&\n                                // the member is not mutable\n                                (memberFlags & 1024 /* Mutable */) === 0) {\n                                consoleDevWarn(`@Prop() \"${memberName}\" on <${cmpMeta.$tagName$}> is immutable but was modified from within the component.\\nMore information: https://stenciljs.com/docs/properties#prop-mutability`);\n                            }\n                        }\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n            else if (BUILD.lazyLoad &&\n                BUILD.method &&\n                flags & 1 /* isElementConstructor */ &&\n                memberFlags & 64 /* Method */) {\n                // proxyComponent - method\n                Object.defineProperty(prototype, memberName, {\n                    value(...args) {\n                        const ref = getHostRef(this);\n                        return ref.$onInstancePromise$.then(() => ref.$lazyInstance$[memberName](...args));\n                    },\n                });\n            }\n        });\n        if (BUILD.observeAttribute && (!BUILD.lazyLoad || flags & 1 /* isElementConstructor */)) {\n            const attrNameToPropName = new Map();\n            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                plt.jmp(() => {\n                    const propName = attrNameToPropName.get(attrName);\n                    //  In a web component lifecycle the attributeChangedCallback runs prior to connectedCallback\n                    //  in the case where an attribute was set inline.\n                    //  ```html\n                    //    <my-component some-attribute=\"some-value\"></my-component>\n                    //  ```\n                    //\n                    //  There is an edge case where a developer sets the attribute inline on a custom element and then\n                    //  programmatically changes it before it has been upgraded as shown below:\n                    //\n                    //  ```html\n                    //    <!-- this component has _not_ been upgraded yet -->\n                    //    <my-component id=\"test\" some-attribute=\"some-value\"></my-component>\n                    //    <script>\n                    //      // grab non-upgraded component\n                    //      el = document.querySelector(\"#test\");\n                    //      el.someAttribute = \"another-value\";\n                    //      // upgrade component\n                    //      customElements.define('my-component', MyComponent);\n                    //    </script>\n                    //  ```\n                    //  In this case if we do not unshadow here and use the value of the shadowing property, attributeChangedCallback\n                    //  will be called with `newValue = \"some-value\"` and will set the shadowed property (this.someAttribute = \"another-value\")\n                    //  to the value that was set inline i.e. \"some-value\" from above example. When\n                    //  the connectedCallback attempts to unshadow it will use \"some-value\" as the initial value rather than \"another-value\"\n                    //\n                    //  The case where the attribute was NOT set inline but was not set programmatically shall be handled/unshadowed\n                    //  by connectedCallback as this attributeChangedCallback will not fire.\n                    //\n                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n                    //\n                    //  TODO(STENCIL-16) we should think about whether or not we actually want to be reflecting the attributes to\n                    //  properties here given that this goes against best practices outlined here\n                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#avoid-reentrancy\n                    if (this.hasOwnProperty(propName)) {\n                        newValue = this[propName];\n                        delete this[propName];\n                    }\n                    else if (prototype.hasOwnProperty(propName) &&\n                        typeof this[propName] === 'number' &&\n                        this[propName] == newValue) {\n                        // if the propName exists on the prototype of `Cstr`, this update may be a result of Stencil using native\n                        // APIs to reflect props as attributes. Calls to `setAttribute(someElement, propName)` will result in\n                        // `propName` to be converted to a `DOMString`, which may not be what we want for other primitive props.\n                        return;\n                    }\n                    this[propName] = newValue === null && typeof this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(([_, m]) => m[0] & 15 /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(([propName, m]) => {\n                const attrName = m[1] || propName;\n                attrNameToPropName.set(attrName, propName);\n                if (BUILD.reflect && m[0] & 512 /* ReflectAttr */) {\n                    cmpMeta.$attrsToReflect$.push([propName, attrName]);\n                }\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nconst initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {\n    // initializeComponent\n    if ((BUILD.lazyLoad || BUILD.hydrateServerSide || BUILD.style) &&\n        (hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0) {\n        if (BUILD.lazyLoad || BUILD.hydrateClientSide) {\n            // we haven't initialized this element yet\n            hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n            // lazy loaded components\n            // request the component's implementation to be\n            // wired up with the host element\n            Cstr = loadModule(cmpMeta, hostRef, hmrVersionId);\n            if (Cstr.then) {\n                // Await creates a micro-task avoid if possible\n                const endLoad = uniqueTime(`st:load:${cmpMeta.$tagName$}:${hostRef.$modeName$}`, `[Stencil] Load module for <${cmpMeta.$tagName$}>`);\n                Cstr = await Cstr;\n                endLoad();\n            }\n            if ((BUILD.isDev || BUILD.isDebug) && !Cstr) {\n                throw new Error(`Constructor for \"${cmpMeta.$tagName$}#${hostRef.$modeName$}\" was not found`);\n            }\n            if (BUILD.member && !Cstr.isProxied) {\n                // we've never proxied this Constructor before\n                // let's add the getters/setters to its prototype before\n                // the first time we create an instance of the implementation\n                if (BUILD.watchCallback) {\n                    cmpMeta.$watchers$ = Cstr.watchers;\n                }\n                proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                Cstr.isProxied = true;\n            }\n            const endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n            // ok, time to construct the instance\n            // but let's keep track of when we start and stop\n            // so that the getters/setters don't incorrectly step on data\n            if (BUILD.member) {\n                hostRef.$flags$ |= 8 /* isConstructingInstance */;\n            }\n            // construct the lazy-loaded component implementation\n            // passing the hostRef is very important during\n            // construction in order to directly wire together the\n            // host element and the lazy-loaded instance\n            try {\n                new Cstr(hostRef);\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            if (BUILD.member) {\n                hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n            }\n            if (BUILD.watchCallback) {\n                hostRef.$flags$ |= 128 /* isWatchReady */;\n            }\n            endNewInstance();\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        else {\n            // sync constructor component\n            Cstr = elm.constructor;\n            hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n            // wait for the CustomElementRegistry to mark the component as ready before setting `isWatchReady`. Otherwise,\n            // watchers may fire prematurely if `customElements.get()`/`customElements.whenDefined()` resolves _before_\n            // Stencil has completed instantiating the component.\n            customElements.whenDefined(cmpMeta.$tagName$).then(() => (hostRef.$flags$ |= 128 /* isWatchReady */));\n        }\n        if (BUILD.style && Cstr.style) {\n            // this component has styles but we haven't registered them yet\n            let style = Cstr.style;\n            if (BUILD.mode && typeof style !== 'string') {\n                style = style[(hostRef.$modeName$ = computeMode(elm))];\n                if (BUILD.hydrateServerSide && hostRef.$modeName$) {\n                    elm.setAttribute('s-mode', hostRef.$modeName$);\n                }\n            }\n            const scopeId = getScopeId(cmpMeta, hostRef.$modeName$);\n            if (!styles.has(scopeId)) {\n                const endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                if (!BUILD.hydrateServerSide &&\n                    BUILD.shadowDom &&\n                    BUILD.shadowDomShim &&\n                    cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n                    style = await import('./shadow-css.js').then((m) => m.scopeCss(style, scopeId, false));\n                }\n                registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));\n                endRegisterStyles();\n            }\n        }\n    }\n    // we've successfully created a lazy instance\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    const schedule = () => scheduleUpdate(hostRef, true);\n    if (BUILD.asyncLoading && ancestorComponent && ancestorComponent['s-rc']) {\n        // this is the initial load and this component it has an ancestor component\n        // but the ancestor component has NOT fired its will update lifecycle yet\n        // so let's just cool our jets and wait for the ancestor to continue first\n        // this will get fired off when the ancestor component\n        // finally gets around to rendering its lazy self\n        // fire off the initial update\n        ancestorComponent['s-rc'].push(schedule);\n    }\n    else {\n        schedule();\n    }\n};\nconst fireConnectedCallback = (instance) => {\n    if (BUILD.lazyLoad && BUILD.connectedCallback) {\n        safeCall(instance, 'connectedCallback');\n    }\n};\nconst connectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const cmpMeta = hostRef.$cmpMeta$;\n        const endConnected = createTime('connectedCallback', cmpMeta.$tagName$);\n        if (BUILD.hostListenerTargetParent) {\n            // only run if we have listeners being attached to a parent\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, true);\n        }\n        if (!(hostRef.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef.$flags$ |= 1 /* hasConnected */;\n            let hostId;\n            if (BUILD.hydrateClientSide) {\n                hostId = elm.getAttribute(HYDRATE_ID);\n                if (hostId) {\n                    if (BUILD.shadowDom && supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                        const scopeId = BUILD.mode\n                            ? addStyle(elm.shadowRoot, cmpMeta, elm.getAttribute('s-mode'))\n                            : addStyle(elm.shadowRoot, cmpMeta);\n                        elm.classList.remove(scopeId + '-h', scopeId + '-s');\n                    }\n                    initializeClientHydrate(elm, cmpMeta.$tagName$, hostId, hostRef);\n                }\n            }\n            if (BUILD.slotRelocation && !hostId) {\n                // initUpdate\n                // if the slot polyfill is required we'll need to put some nodes\n                // in here to act as original content anchors as we move nodes around\n                // host element has been connected to the DOM\n                if (BUILD.hydrateServerSide ||\n                    ((BUILD.slot || BUILD.shadowDom) &&\n                        cmpMeta.$flags$ & (4 /* hasSlotRelocation */ | 8 /* needsShadowDomShim */))) {\n                    setContentReference(elm);\n                }\n            }\n            if (BUILD.asyncLoading) {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                let ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if ((BUILD.hydrateClientSide &&\n                        ancestorComponent.nodeType === 1 /* ElementNode */ &&\n                        ancestorComponent.hasAttribute('s-id') &&\n                        ancestorComponent['s-p']) ||\n                        ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef, (hostRef.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (BUILD.prop && !BUILD.hydrateServerSide && cmpMeta.$members$) {\n                Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        const value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            if (BUILD.initializeNextTick) {\n                // connectedCallback, taskQueue, initialLoad\n                // angular sets attribute AFTER connectCallback\n                // https://github.com/angular/angular/issues/18909\n                // https://github.com/angular/angular/issues/19940\n                nextTick(() => initializeComponent(elm, hostRef, cmpMeta));\n            }\n            else {\n                initializeComponent(elm, hostRef, cmpMeta);\n            }\n        }\n        else {\n            // not the first time this has connected\n            // reattach any event listeners to the host\n            // since they would have been removed when disconnected\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n            // fire off connectedCallback() on component instance\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        endConnected();\n    }\n};\nconst setContentReference = (elm) => {\n    // only required when we're NOT using native shadow dom (slot)\n    // or this browser doesn't support native shadow dom\n    // and this host element was NOT created with SSR\n    // let's pick out the inner content for slot projection\n    // create a node to represent where the original\n    // content was first placed, which is useful later on\n    const contentRefElm = (elm['s-cr'] = doc.createComment(BUILD.isDebug ? `content-ref (host=${elm.localName})` : ''));\n    contentRefElm['s-cn'] = true;\n    elm.insertBefore(contentRefElm, elm.firstChild);\n};\nconst disconnectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const instance = BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n        if (BUILD.hostListener) {\n            if (hostRef.$rmListeners$) {\n                hostRef.$rmListeners$.map((rmListener) => rmListener());\n                hostRef.$rmListeners$ = undefined;\n            }\n        }\n        // clear CSS var-shim tracking\n        if (BUILD.cssVarShim && plt.$cssShim$) {\n            plt.$cssShim$.removeHost(elm);\n        }\n        if (BUILD.lazyLoad && BUILD.disconnectedCallback) {\n            safeCall(instance, 'disconnectedCallback');\n        }\n        if (BUILD.cmpDidUnload) {\n            safeCall(instance, 'componentDidUnload');\n        }\n    }\n};\nconst defineCustomElement = (Cstr, compactMeta) => {\n    customElements.define(compactMeta[1], proxyCustomElement(Cstr, compactMeta));\n};\nconst proxyCustomElement = (Cstr, compactMeta) => {\n    const cmpMeta = {\n        $flags$: compactMeta[0],\n        $tagName$: compactMeta[1],\n    };\n    if (BUILD.member) {\n        cmpMeta.$members$ = compactMeta[2];\n    }\n    if (BUILD.hostListener) {\n        cmpMeta.$listeners$ = compactMeta[3];\n    }\n    if (BUILD.watchCallback) {\n        cmpMeta.$watchers$ = Cstr.$watchers$;\n    }\n    if (BUILD.reflect) {\n        cmpMeta.$attrsToReflect$ = [];\n    }\n    if (BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n        cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n    }\n    const originalConnectedCallback = Cstr.prototype.connectedCallback;\n    const originalDisconnectedCallback = Cstr.prototype.disconnectedCallback;\n    Object.assign(Cstr.prototype, {\n        __registerHost() {\n            registerHost(this, cmpMeta);\n        },\n        connectedCallback() {\n            connectedCallback(this);\n            if (BUILD.connectedCallback && originalConnectedCallback) {\n                originalConnectedCallback.call(this);\n            }\n        },\n        disconnectedCallback() {\n            disconnectedCallback(this);\n            if (BUILD.disconnectedCallback && originalDisconnectedCallback) {\n                originalDisconnectedCallback.call(this);\n            }\n        },\n        __attachShadow() {\n            if (supportsShadow) {\n                if (BUILD.shadowDelegatesFocus) {\n                    this.attachShadow({\n                        mode: 'open',\n                        delegatesFocus: !!(cmpMeta.$flags$ & 16 /* shadowDelegatesFocus */),\n                    });\n                }\n                else {\n                    this.attachShadow({ mode: 'open' });\n                }\n            }\n            else {\n                this.shadowRoot = this;\n            }\n        },\n    });\n    Cstr.is = cmpMeta.$tagName$;\n    return proxyComponent(Cstr, cmpMeta, 1 /* isElementConstructor */ | 2 /* proxyState */);\n};\nconst forceModeUpdate = (elm) => {\n    if (BUILD.style && BUILD.mode && !BUILD.lazyLoad) {\n        const mode = computeMode(elm);\n        const hostRef = getHostRef(elm);\n        if (hostRef.$modeName$ !== mode) {\n            const cmpMeta = hostRef.$cmpMeta$;\n            const oldScopeId = elm['s-sc'];\n            const scopeId = getScopeId(cmpMeta, mode);\n            const style = elm.constructor.style[mode];\n            const flags = cmpMeta.$flags$;\n            if (style) {\n                if (!styles.has(scopeId)) {\n                    registerStyle(scopeId, style, !!(flags & 1 /* shadowDomEncapsulation */));\n                }\n                hostRef.$modeName$ = mode;\n                elm.classList.remove(oldScopeId + '-h', oldScopeId + '-s');\n                attachStyles(hostRef);\n                forceUpdate(elm);\n            }\n        }\n    }\n};\nconst hmrStart = (elm, cmpMeta, hmrVersionId) => {\n    // \\_()_/\n    const hostRef = getHostRef(elm);\n    // reset state flags to only have been connected\n    hostRef.$flags$ = 1 /* hasConnected */;\n    // TODO\n    // detatch any event listeners that may have been added\n    // because we're not passing an exact event name it'll\n    // remove all of this element's event, which is good\n    // create a callback for when this component finishes hmr\n    elm['s-hmr-load'] = () => {\n        // finished hmr for this element\n        delete elm['s-hmr-load'];\n    };\n    // re-initialize the component\n    initializeComponent(elm, hostRef, cmpMeta, hmrVersionId);\n};\nconst patchCloneNode = (HostElementPrototype) => {\n    const orgCloneNode = HostElementPrototype.cloneNode;\n    HostElementPrototype.cloneNode = function (deep) {\n        const srcNode = this;\n        const isShadowDom = BUILD.shadowDom ? srcNode.shadowRoot && supportsShadow : false;\n        const clonedNode = orgCloneNode.call(srcNode, isShadowDom ? deep : false);\n        if (BUILD.slot && !isShadowDom && deep) {\n            let i = 0;\n            let slotted, nonStencilNode;\n            let stencilPrivates = [\n                's-id',\n                's-cr',\n                's-lr',\n                's-rc',\n                's-sc',\n                's-p',\n                's-cn',\n                's-sr',\n                's-sn',\n                's-hn',\n                's-ol',\n                's-nr',\n                's-si',\n            ];\n            for (; i < srcNode.childNodes.length; i++) {\n                slotted = srcNode.childNodes[i]['s-nr'];\n                nonStencilNode = stencilPrivates.every((privateField) => !srcNode.childNodes[i][privateField]);\n                if (slotted) {\n                    if (BUILD.appendChildSlotFix && clonedNode.__appendChild) {\n                        clonedNode.__appendChild(slotted.cloneNode(true));\n                    }\n                    else {\n                        clonedNode.appendChild(slotted.cloneNode(true));\n                    }\n                }\n                if (nonStencilNode) {\n                    clonedNode.appendChild(srcNode.childNodes[i].cloneNode(true));\n                }\n            }\n        }\n        return clonedNode;\n    };\n};\nconst patchSlotAppendChild = (HostElementPrototype) => {\n    HostElementPrototype.__appendChild = HostElementPrototype.appendChild;\n    HostElementPrototype.appendChild = function (newChild) {\n        const slotName = (newChild['s-sn'] = getSlotName(newChild));\n        const slotNode = getHostSlotNode(this.childNodes, slotName);\n        if (slotNode) {\n            const slotChildNodes = getHostSlotChildNodes(slotNode, slotName);\n            const appendAfter = slotChildNodes[slotChildNodes.length - 1];\n            return appendAfter.parentNode.insertBefore(newChild, appendAfter.nextSibling);\n        }\n        return this.__appendChild(newChild);\n    };\n};\n/**\n * Patches the text content of an unnamed slotted node inside a scoped component\n * @param hostElementPrototype the `Element` to be patched\n * @param cmpMeta component runtime metadata used to determine if the component should be patched or not\n */\nconst patchTextContent = (hostElementPrototype, cmpMeta) => {\n    if (BUILD.scoped && cmpMeta.$flags$ & 2 /* scopedCssEncapsulation */) {\n        const descriptor = Object.getOwnPropertyDescriptor(Node.prototype, 'textContent');\n        Object.defineProperty(hostElementPrototype, '__textContent', descriptor);\n        Object.defineProperty(hostElementPrototype, 'textContent', {\n            get() {\n                var _a;\n                // get the 'default slot', which would be the first slot in a shadow tree (if we were using one), whose name is\n                // the empty string\n                const slotNode = getHostSlotNode(this.childNodes, '');\n                // when a slot node is found, the textContent _may_ be found in the next sibling (text) node, depending on how\n                // nodes were reordered during the vdom render. first try to get the text content from the sibling.\n                if (((_a = slotNode === null || slotNode === void 0 ? void 0 : slotNode.nextSibling) === null || _a === void 0 ? void 0 : _a.nodeType) === 3 /* TEXT_NODE */) {\n                    return slotNode.nextSibling.textContent;\n                }\n                else if (slotNode) {\n                    return slotNode.textContent;\n                }\n                else {\n                    // fallback to the original implementation\n                    return this.__textContent;\n                }\n            },\n            set(value) {\n                var _a;\n                // get the 'default slot', which would be the first slot in a shadow tree (if we were using one), whose name is\n                // the empty string\n                const slotNode = getHostSlotNode(this.childNodes, '');\n                // when a slot node is found, the textContent _may_ need to be placed in the next sibling (text) node,\n                // depending on how nodes were reordered during the vdom render. first try to set the text content on the\n                // sibling.\n                if (((_a = slotNode === null || slotNode === void 0 ? void 0 : slotNode.nextSibling) === null || _a === void 0 ? void 0 : _a.nodeType) === 3 /* TEXT_NODE */) {\n                    slotNode.nextSibling.textContent = value;\n                }\n                else if (slotNode) {\n                    slotNode.textContent = value;\n                }\n                else {\n                    // we couldn't find a slot, but that doesn't mean that there isn't one. if this check ran before the DOM\n                    // loaded, we could have missed it. check for a content reference element on the scoped component and insert\n                    // it there\n                    this.__textContent = value;\n                    const contentRefElm = this['s-cr'];\n                    if (contentRefElm) {\n                        this.insertBefore(contentRefElm, this.firstChild);\n                    }\n                }\n            },\n        });\n    }\n};\nconst patchChildSlotNodes = (elm, cmpMeta) => {\n    class FakeNodeList extends Array {\n        item(n) {\n            return this[n];\n        }\n    }\n    if (cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n        const childNodesFn = elm.__lookupGetter__('childNodes');\n        Object.defineProperty(elm, 'children', {\n            get() {\n                return this.childNodes.map((n) => n.nodeType === 1);\n            },\n        });\n        Object.defineProperty(elm, 'childElementCount', {\n            get() {\n                return elm.children.length;\n            },\n        });\n        Object.defineProperty(elm, 'childNodes', {\n            get() {\n                const childNodes = childNodesFn.call(this);\n                if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0 &&\n                    getHostRef(this).$flags$ & 2 /* hasRendered */) {\n                    const result = new FakeNodeList();\n                    for (let i = 0; i < childNodes.length; i++) {\n                        const slot = childNodes[i]['s-nr'];\n                        if (slot) {\n                            result.push(slot);\n                        }\n                    }\n                    return result;\n                }\n                return FakeNodeList.from(childNodes);\n            },\n        });\n    }\n};\nconst getSlotName = (node) => node['s-sn'] || (node.nodeType === 1 && node.getAttribute('slot')) || '';\n/**\n * Recursively searches a series of child nodes for a slot with the provided name.\n * @param childNodes the nodes to search for a slot with a specific name.\n * @param slotName the name of the slot to match on.\n * @returns a reference to the slot node that matches the provided name, `null` otherwise\n */\nconst getHostSlotNode = (childNodes, slotName) => {\n    let i = 0;\n    let childNode;\n    for (; i < childNodes.length; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && childNode['s-sn'] === slotName) {\n            return childNode;\n        }\n        childNode = getHostSlotNode(childNode.childNodes, slotName);\n        if (childNode) {\n            return childNode;\n        }\n    }\n    return null;\n};\nconst getHostSlotChildNodes = (n, slotName) => {\n    const childNodes = [n];\n    while ((n = n.nextSibling) && n['s-sn'] === slotName) {\n        childNodes.push(n);\n    }\n    return childNodes;\n};\nconst bootstrapLazy = (lazyBundles, options = {}) => {\n    if (BUILD.profile && performance.mark) {\n        performance.mark('st:app:start');\n    }\n    installDevTools();\n    const endBootstrap = createTime('bootstrapLazy');\n    const cmpTags = [];\n    const exclude = options.exclude || [];\n    const customElements = win.customElements;\n    const head = doc.head;\n    const metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    const deferredConnectedCallbacks = [];\n    const styles = /*@__PURE__*/ doc.querySelectorAll(`[${HYDRATED_STYLE_ID}]`);\n    let appLoadFallback;\n    let isBootstrapping = true;\n    let i = 0;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    if (BUILD.asyncQueue) {\n        if (options.syncQueue) {\n            plt.$flags$ |= 4 /* queueSync */;\n        }\n    }\n    if (BUILD.hydrateClientSide) {\n        // If the app is already hydrated there is not point to disable the\n        // async queue. This will improve the first input delay\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    if (BUILD.hydrateClientSide && BUILD.shadowDom) {\n        for (; i < styles.length; i++) {\n            registerStyle(styles[i].getAttribute(HYDRATED_STYLE_ID), convertScopedToShadow(styles[i].innerHTML), true);\n        }\n    }\n    lazyBundles.map((lazyBundle) => {\n        lazyBundle[1].map((compactMeta) => {\n            const cmpMeta = {\n                $flags$: compactMeta[0],\n                $tagName$: compactMeta[1],\n                $members$: compactMeta[2],\n                $listeners$: compactMeta[3],\n            };\n            if (BUILD.member) {\n                cmpMeta.$members$ = compactMeta[2];\n            }\n            if (BUILD.hostListener) {\n                cmpMeta.$listeners$ = compactMeta[3];\n            }\n            if (BUILD.reflect) {\n                cmpMeta.$attrsToReflect$ = [];\n            }\n            if (BUILD.watchCallback) {\n                cmpMeta.$watchers$ = {};\n            }\n            if (BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n            }\n            const tagName = BUILD.transformTagName && options.transformTagName\n                ? options.transformTagName(cmpMeta.$tagName$)\n                : cmpMeta.$tagName$;\n            const HostElement = class extends HTMLElement {\n                // StencilLazyHost\n                constructor(self) {\n                    // @ts-ignore\n                    super(self);\n                    self = this;\n                    registerHost(self, cmpMeta);\n                    if (BUILD.shadowDom && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                        // this component is using shadow dom\n                        // and this browser supports shadow dom\n                        // add the read-only property \"shadowRoot\" to the host element\n                        // adding the shadow root build conditionals to minimize runtime\n                        if (supportsShadow) {\n                            if (BUILD.shadowDelegatesFocus) {\n                                self.attachShadow({\n                                    mode: 'open',\n                                    delegatesFocus: !!(cmpMeta.$flags$ & 16 /* shadowDelegatesFocus */),\n                                });\n                            }\n                            else {\n                                self.attachShadow({ mode: 'open' });\n                            }\n                        }\n                        else if (!BUILD.hydrateServerSide && !('shadowRoot' in self)) {\n                            self.shadowRoot = self;\n                        }\n                    }\n                    if (BUILD.slotChildNodesFix) {\n                        patchChildSlotNodes(self, cmpMeta);\n                    }\n                }\n                connectedCallback() {\n                    if (appLoadFallback) {\n                        clearTimeout(appLoadFallback);\n                        appLoadFallback = null;\n                    }\n                    if (isBootstrapping) {\n                        // connectedCallback will be processed once all components have been registered\n                        deferredConnectedCallbacks.push(this);\n                    }\n                    else {\n                        plt.jmp(() => connectedCallback(this));\n                    }\n                }\n                disconnectedCallback() {\n                    plt.jmp(() => disconnectedCallback(this));\n                }\n                componentOnReady() {\n                    return getHostRef(this).$onReadyPromise$;\n                }\n            };\n            if (BUILD.cloneNodeFix) {\n                patchCloneNode(HostElement.prototype);\n            }\n            if (BUILD.appendChildSlotFix) {\n                patchSlotAppendChild(HostElement.prototype);\n            }\n            if (BUILD.hotModuleReplacement) {\n                HostElement.prototype['s-hmr'] = function (hmrVersionId) {\n                    hmrStart(this, cmpMeta, hmrVersionId);\n                };\n            }\n            if (BUILD.scopedSlotTextContentFix) {\n                patchTextContent(HostElement.prototype, cmpMeta);\n            }\n            cmpMeta.$lazyBundleId$ = lazyBundle[0];\n            if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n                cmpTags.push(tagName);\n                customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n            }\n        });\n    });\n    if (BUILD.invisiblePrehydration && (BUILD.hydratedClass || BUILD.hydratedAttribute)) {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map((host) => host.connectedCallback());\n    }\n    else {\n        if (BUILD.profile) {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30, 'timeout')));\n        }\n        else {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30)));\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\nconst getAssetPath = (path) => {\n    const assetUrl = new URL(path, plt.$resourcesUrl$);\n    return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;\n};\nconst setAssetPath = (path) => (plt.$resourcesUrl$ = path);\nconst getConnect = (_ref, tagName) => {\n    const componentOnReady = () => {\n        let elm = doc.querySelector(tagName);\n        if (!elm) {\n            elm = doc.createElement(tagName);\n            doc.body.appendChild(elm);\n        }\n        return typeof elm.componentOnReady === 'function' ? elm.componentOnReady() : Promise.resolve(elm);\n    };\n    const create = (...args) => {\n        return componentOnReady().then((el) => el.create(...args));\n    };\n    return {\n        create,\n        componentOnReady,\n    };\n};\nconst getContext = (_elm, context) => {\n    if (context in Context) {\n        return Context[context];\n    }\n    else if (context === 'window') {\n        return win;\n    }\n    else if (context === 'document') {\n        return doc;\n    }\n    else if (context === 'isServer' || context === 'isPrerender') {\n        return BUILD.hydrateServerSide ? true : false;\n    }\n    else if (context === 'isClient') {\n        return BUILD.hydrateServerSide ? false : true;\n    }\n    else if (context === 'resourcesUrl' || context === 'publicPath') {\n        return getAssetPath('.');\n    }\n    else if (context === 'queue') {\n        return {\n            write: writeTask,\n            read: readTask,\n            tick: {\n                then(cb) {\n                    return nextTick(cb);\n                },\n            },\n        };\n    }\n    return undefined;\n};\nconst insertVdomAnnotations = (doc, staticComponents) => {\n    if (doc != null) {\n        const docData = {\n            hostIds: 0,\n            rootLevelIds: 0,\n            staticComponents: new Set(staticComponents),\n        };\n        const orgLocationNodes = [];\n        parseVNodeAnnotations(doc, doc.body, docData, orgLocationNodes);\n        orgLocationNodes.forEach((orgLocationNode) => {\n            if (orgLocationNode != null) {\n                const nodeRef = orgLocationNode['s-nr'];\n                let hostId = nodeRef['s-host-id'];\n                let nodeId = nodeRef['s-node-id'];\n                let childId = `${hostId}.${nodeId}`;\n                if (hostId == null) {\n                    hostId = 0;\n                    docData.rootLevelIds++;\n                    nodeId = docData.rootLevelIds;\n                    childId = `${hostId}.${nodeId}`;\n                    if (nodeRef.nodeType === 1 /* ElementNode */) {\n                        nodeRef.setAttribute(HYDRATE_CHILD_ID, childId);\n                    }\n                    else if (nodeRef.nodeType === 3 /* TextNode */) {\n                        if (hostId === 0) {\n                            const textContent = nodeRef.nodeValue.trim();\n                            if (textContent === '') {\n                                // useless whitespace node at the document root\n                                orgLocationNode.remove();\n                                return;\n                            }\n                        }\n                        const commentBeforeTextNode = doc.createComment(childId);\n                        commentBeforeTextNode.nodeValue = `${TEXT_NODE_ID}.${childId}`;\n                        nodeRef.parentNode.insertBefore(commentBeforeTextNode, nodeRef);\n                    }\n                }\n                let orgLocationNodeId = `${ORG_LOCATION_ID}.${childId}`;\n                const orgLocationParentNode = orgLocationNode.parentElement;\n                if (orgLocationParentNode) {\n                    if (orgLocationParentNode['s-en'] === '') {\n                        // ending with a \".\" means that the parent element\n                        // of this node's original location is a SHADOW dom element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.`;\n                    }\n                    else if (orgLocationParentNode['s-en'] === 'c') {\n                        // ending with a \".c\" means that the parent element\n                        // of this node's original location is a SCOPED element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.c`;\n                    }\n                }\n                orgLocationNode.nodeValue = orgLocationNodeId;\n            }\n        });\n    }\n};\nconst parseVNodeAnnotations = (doc, node, docData, orgLocationNodes) => {\n    if (node == null) {\n        return;\n    }\n    if (node['s-nr'] != null) {\n        orgLocationNodes.push(node);\n    }\n    if (node.nodeType === 1 /* ElementNode */) {\n        node.childNodes.forEach((childNode) => {\n            const hostRef = getHostRef(childNode);\n            if (hostRef != null && !docData.staticComponents.has(childNode.nodeName.toLowerCase())) {\n                const cmpData = {\n                    nodeIds: 0,\n                };\n                insertVNodeAnnotations(doc, childNode, hostRef.$vnode$, docData, cmpData);\n            }\n            parseVNodeAnnotations(doc, childNode, docData, orgLocationNodes);\n        });\n    }\n};\nconst insertVNodeAnnotations = (doc, hostElm, vnode, docData, cmpData) => {\n    if (vnode != null) {\n        const hostId = ++docData.hostIds;\n        hostElm.setAttribute(HYDRATE_ID, hostId);\n        if (hostElm['s-cr'] != null) {\n            hostElm['s-cr'].nodeValue = `${CONTENT_REF_ID}.${hostId}`;\n        }\n        if (vnode.$children$ != null) {\n            const depth = 0;\n            vnode.$children$.forEach((vnodeChild, index) => {\n                insertChildVNodeAnnotations(doc, vnodeChild, cmpData, hostId, depth, index);\n            });\n        }\n        if (hostElm && vnode && vnode.$elm$ && !hostElm.hasAttribute('c-id')) {\n            const parent = hostElm.parentElement;\n            if (parent && parent.childNodes) {\n                const parentChildNodes = Array.from(parent.childNodes);\n                const comment = parentChildNodes.find((node) => node.nodeType === 8 /* CommentNode */ && node['s-sr']);\n                if (comment) {\n                    const index = parentChildNodes.indexOf(hostElm) - 1;\n                    vnode.$elm$.setAttribute(HYDRATE_CHILD_ID, `${comment['s-host-id']}.${comment['s-node-id']}.0.${index}`);\n                }\n            }\n        }\n    }\n};\nconst insertChildVNodeAnnotations = (doc, vnodeChild, cmpData, hostId, depth, index) => {\n    const childElm = vnodeChild.$elm$;\n    if (childElm == null) {\n        return;\n    }\n    const nodeId = cmpData.nodeIds++;\n    const childId = `${hostId}.${nodeId}.${depth}.${index}`;\n    childElm['s-host-id'] = hostId;\n    childElm['s-node-id'] = nodeId;\n    if (childElm.nodeType === 1 /* ElementNode */) {\n        childElm.setAttribute(HYDRATE_CHILD_ID, childId);\n    }\n    else if (childElm.nodeType === 3 /* TextNode */) {\n        const parentNode = childElm.parentNode;\n        const nodeName = parentNode.nodeName;\n        if (nodeName !== 'STYLE' && nodeName !== 'SCRIPT') {\n            const textNodeId = `${TEXT_NODE_ID}.${childId}`;\n            const commentBeforeTextNode = doc.createComment(textNodeId);\n            parentNode.insertBefore(commentBeforeTextNode, childElm);\n        }\n    }\n    else if (childElm.nodeType === 8 /* CommentNode */) {\n        if (childElm['s-sr']) {\n            const slotName = childElm['s-sn'] || '';\n            const slotNodeId = `${SLOT_NODE_ID}.${childId}.${slotName}`;\n            childElm.nodeValue = slotNodeId;\n        }\n    }\n    if (vnodeChild.$children$ != null) {\n        const childDepth = depth + 1;\n        vnodeChild.$children$.forEach((vnode, index) => {\n            insertChildVNodeAnnotations(doc, vnode, cmpData, hostId, childDepth, index);\n        });\n    }\n};\nconst setPlatformOptions = (opts) => Object.assign(plt, opts);\nconst Fragment = (_, children) => children;\nconst hostRefs = new WeakMap();\nconst getHostRef = (ref) => hostRefs.get(ref);\nconst registerInstance = (lazyInstance, hostRef) => hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef);\nconst registerHost = (elm, cmpMeta) => {\n    const hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    if (BUILD.isDev) {\n        hostRef.$renderCount$ = 0;\n    }\n    if (BUILD.method && BUILD.lazyLoad) {\n        hostRef.$onInstancePromise$ = new Promise((r) => (hostRef.$onInstanceResolve$ = r));\n    }\n    if (BUILD.asyncLoading) {\n        hostRef.$onReadyPromise$ = new Promise((r) => (hostRef.$onReadyResolve$ = r));\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n    return hostRefs.set(elm, hostRef);\n};\nconst isMemberInElement = (elm, memberName) => memberName in elm;\nconst consoleError = (e, el) => (customError || console.error)(e, el);\nconst STENCIL_DEV_MODE = BUILD.isTesting\n    ? ['STENCIL:'] // E2E testing\n    : [\n        '%cstencil',\n        'color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px',\n    ];\nconst consoleDevError = (...m) => console.error(...STENCIL_DEV_MODE, ...m);\nconst consoleDevWarn = (...m) => console.warn(...STENCIL_DEV_MODE, ...m);\nconst consoleDevInfo = (...m) => console.info(...STENCIL_DEV_MODE, ...m);\nconst setErrorHandler = (handler) => (customError = handler);\nconst cmpModules = /*@__PURE__*/ new Map();\nconst loadModule = (cmpMeta, hostRef, hmrVersionId) => {\n    // loadModuleImport\n    const exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    const bundleId = cmpMeta.$lazyBundleId$;\n    if (BUILD.isDev && typeof bundleId !== 'string') {\n        consoleDevError(`Trying to lazily load component <${cmpMeta.$tagName$}> with style mode \"${hostRef.$modeName$}\", but it does not exist.`);\n        return undefined;\n    }\n    const module = !BUILD.hotModuleReplacement ? cmpModules.get(bundleId) : false;\n    if (module) {\n        return module[exportName];\n    }\n    return import(\n    /* webpackInclude: /\\.entry\\.js$/ */\n    /* webpackExclude: /\\.system\\.entry\\.js$/ */\n    /* webpackMode: \"lazy\" */\n    `./${bundleId}.entry.js${BUILD.hotModuleReplacement && hmrVersionId ? '?s-hmr=' + hmrVersionId : ''}`).then((importedModule) => {\n        if (!BUILD.hotModuleReplacement) {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nconst styles = new Map();\nconst modeResolutionChain = [];\nconst queueDomReads = [];\nconst queueDomWrites = [];\nconst queueDomWritesLow = [];\nconst queueTask = (queue, write) => (cb) => {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n};\nconst consume = (queue) => {\n    for (let i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nconst consumeTimeout = (queue, timeout) => {\n    let i = 0;\n    let ts = 0;\n    while (i < queue.length && (ts = performance.now()) < timeout) {\n        try {\n            queue[i++](ts);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    if (i === queue.length) {\n        queue.length = 0;\n    }\n    else if (i !== 0) {\n        queue.splice(0, i);\n    }\n};\nconst flush = () => {\n    if (BUILD.asyncQueue) {\n        queueCongestion++;\n    }\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    if (BUILD.asyncQueue) {\n        const timeout = (plt.$flags$ & 6 /* queueMask */) === 2 /* appLoaded */\n            ? performance.now() + 14 * Math.ceil(queueCongestion * (1.0 / 10.0))\n            : Infinity;\n        consumeTimeout(queueDomWrites, timeout);\n        consumeTimeout(queueDomWritesLow, timeout);\n        if (queueDomWrites.length > 0) {\n            queueDomWritesLow.push(...queueDomWrites);\n            queueDomWrites.length = 0;\n        }\n        if ((queuePending = queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n        else {\n            queueCongestion = 0;\n        }\n    }\n    else {\n        consume(queueDomWrites);\n        if ((queuePending = queueDomReads.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n    }\n};\nconst nextTick = /*@__PURE__*/ (cb) => promiseResolve().then(cb);\nconst readTask = /*@__PURE__*/ queueTask(queueDomReads, false);\nconst writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\nconst Build = {\n    isDev: BUILD.isDev ? true : false,\n    isBrowser: true,\n    isServer: false,\n    isTesting: BUILD.isTesting ? true : false,\n};\nexport { BUILD, Env, NAMESPACE } from '@stencil/core/internal/app-data';\nexport { Build, CSS, Context, Fragment, H, H as HTMLElement, Host, STENCIL_DEV_MODE, addHostEventListeners, bootstrapLazy, cmpModules, connectedCallback, consoleDevError, consoleDevInfo, consoleDevWarn, consoleError, createEvent, defineCustomElement, disconnectedCallback, doc, forceModeUpdate, forceUpdate, getAssetPath, getConnect, getContext, getElement, getHostRef, getMode, getRenderingRef, getValue, h, insertVdomAnnotations, isMemberInElement, loadModule, modeResolutionChain, nextTick, parsePropertyValue, plt, postUpdateComponent, promiseResolve, proxyComponent, proxyCustomElement, readTask, registerHost, registerInstance, renderVdom, setAssetPath, setErrorHandler, setMode, setPlatformHelpers, setPlatformOptions, setValue, styles, supportsConstructibleStylesheets, supportsListenerOptions, supportsShadow, win, writeTask };\n","const BUILD = {\n    allRenderFn: false,\n    cmpDidLoad: true,\n    cmpDidUnload: false,\n    cmpDidUpdate: true,\n    cmpDidRender: true,\n    cmpWillLoad: true,\n    cmpWillUpdate: true,\n    cmpWillRender: true,\n    connectedCallback: true,\n    disconnectedCallback: true,\n    element: true,\n    event: true,\n    hasRenderFn: true,\n    lifecycle: true,\n    hostListener: true,\n    hostListenerTargetWindow: true,\n    hostListenerTargetDocument: true,\n    hostListenerTargetBody: true,\n    hostListenerTargetParent: false,\n    hostListenerTarget: true,\n    member: true,\n    method: true,\n    mode: true,\n    observeAttribute: true,\n    prop: true,\n    propMutable: true,\n    reflect: true,\n    scoped: true,\n    shadowDom: true,\n    slot: true,\n    cssAnnotations: true,\n    state: true,\n    style: true,\n    svg: true,\n    updatable: true,\n    vdomAttribute: true,\n    vdomXlink: true,\n    vdomClass: true,\n    vdomFunctional: true,\n    vdomKey: true,\n    vdomListener: true,\n    vdomRef: true,\n    vdomPropOrAttr: true,\n    vdomRender: true,\n    vdomStyle: true,\n    vdomText: true,\n    watchCallback: true,\n    taskQueue: true,\n    hotModuleReplacement: false,\n    isDebug: false,\n    isDev: false,\n    isTesting: false,\n    hydrateServerSide: false,\n    hydrateClientSide: false,\n    lifecycleDOMEvents: false,\n    lazyLoad: false,\n    profile: false,\n    slotRelocation: true,\n    appendChildSlotFix: false,\n    cloneNodeFix: false,\n    hydratedAttribute: false,\n    hydratedClass: true,\n    safari10: false,\n    scriptDataOpts: false,\n    scopedSlotTextContentFix: false,\n    shadowDomShim: false,\n    slotChildNodesFix: false,\n    invisiblePrehydration: true,\n    propBoolean: true,\n    propNumber: true,\n    propString: true,\n    cssVarShim: false,\n    constructableCSS: true,\n    cmpShouldUpdate: true,\n    devTools: false,\n    dynamicImportShim: false,\n    shadowDelegatesFocus: true,\n    initializeNextTick: false,\n    asyncLoading: false,\n    asyncQueue: false,\n    transformTagName: false,\n    attachStyles: true,\n};\nconst Env = {};\nconst NAMESPACE = /* default */ 'app';\n\nexport { BUILD, Env, NAMESPACE };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../core/handleUtils.js\";const t=Symbol(\"widget\"),r=[],n={},o=new WeakMap;function i(e,t){let o=t.children;if(o&&o.length)for(let r=0;r<o.length;++r)o[r]=i(e,o[r]);else o=r;const s=t.vnodeSelector;if(c(s)){const r=t.properties||n,i=r.key||s;return{vnodeSelector:\"div\",properties:{key:i,afterCreate:d,afterUpdate:a,afterRemoved:l,parentWidget:e,widgetConstructor:s,widgetProperties:{...r,key:i,children:o}},children:void 0,text:void 0,domNode:null}}return t}function d(t,r,n,{parentWidget:i,widgetConstructor:d,widgetProperties:a}){const c=new d(a);c.container=t,o.set(t,c),null==c.afterCreate||c.afterCreate(c,t),i._internalHandles.add(e((()=>l(t))))}function a(e,t,r,{widgetProperties:n}){const i=o.get(e);i&&(i.set(n),null==i.afterUpdate||i.afterUpdate(i,e))}function l(e){const t=o.get(e);t&&(t.destroy(),o.delete(e))}function c(e){return\"function\"==typeof e&&e[t]}export{t as WIDGET_SYMBOL,c as isWidgetConstructor,i as processWidgets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction e(){return getComputedStyle(document.body).getPropertyValue(\"--esri-calcite-theme-name\").replace(/\\s|'|\"/g,\"\")}function t(){return e().startsWith(\"dark\")}function r(){return\"calcite-theme-\"+(t()?\"dark\":\"light\")}export{r as getCalciteThemeClass,e as getThemeName,t as isDarkTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{deprecated as t}from\"../core/deprecate.js\";import{byId as r}from\"../core/domUtils.js\";import o from\"../core/Evented.js\";import s from\"../core/Handles.js\";import\"../core/has.js\";import{clone as i}from\"../core/lang.js\";import n from\"../core/Logger.js\";import{destroyMaybe as a}from\"../core/maybe.js\";import{EsriPromiseMixin as d}from\"../core/Promise.js\";import{debounce as l,throwIfNotAbortError as c,eachAlways as p}from\"../core/promiseUtils.js\";import{watch as h,when as m,initial as u}from\"../core/reactiveUtils.js\";import{generateUUID as g}from\"../core/uuid.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import{cast as v}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as _}from\"../core/accessorSupport/decorators/subclass.js\";import{runTracked as f}from\"../core/accessorSupport/tracking.js\";import{SimpleTrackingTarget as j}from\"../core/accessorSupport/tracking/SimpleTrackingTarget.js\";import{createAdvancedProjector as w}from\"../libs/maquette-advanced-projector/projector.js\";import{commitAssetPath as k}from\"./support/componentsUtils.js\";import{isWidgetConstructor as b,processWidgets as R,WIDGET_SYMBOL as S}from\"./support/jsxWidgetSupport.js\";import{getVNodeCache as C,setVNodeCache as T,deleteVNodeCache as H,clearVNodeCache as P}from\"./support/vnodeCache.js\";import{classes as E}from\"./support/widgetUtils.js\";import{getThemeName as L}from\"./support/widgetThemeUtils.js\";import{onLocaleChange as N}from\"../intl/locale.js\";import{fetchMessageBundle as I}from\"../intl/messages.js\";const U=\"esri.widgets.Widget\",F=n.getLogger(U);let $=0;const x={widgetIcon:\"esri-icon-checkbox-unchecked\"};function z(e,t){for(const r in t)null!=e[r]&&(\"object\"==typeof e[r]&&\"object\"==typeof t[r]?z(e[r],t[r]):e[r]=t[r]);return e}const A=w({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(e,o,s,i)=>{const n=t(e,o,s,i),a=r.test(e);if(!((e=e.replace(r,\"\")).toLowerCase()in s)||a){const t=e[2].toLowerCase()+e.slice(3),r=e=>n.call(s,e);s.addEventListener(t,r,a);const o=()=>s.removeEventListener(t,r,a),d=i.afterRemoved;i.afterRemoved=e=>{null==d||d(e),o()}}return n}},handleInterceptedEvent(e,t,r,o){const{eventPhase:s,type:i}=o,n=s===Event.CAPTURING_PHASE;let a=`on${i}${n?\"capture\":\"\"}`;const d=t.properties;(a in d||(a=`on${i[0].toUpperCase()}${i.slice(1)}${n?\"Capture\":\"\"}`,a in d))&&(P(),e.scheduleRender(),d[a].call(d.bind||r,o))}});let M=!1,O=class extends(d(o.EventedAccessor)){constructor(e,r){super(e,r),this._attached=!1,this._internalHandles=new s,this._projector=A,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=x.widgetIcon,this.label=this.declaredClass.split(\".\").pop(),this.visible=!0,this.key=this,this._loadLocale=l((async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const e=await p(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{let r=await I(e);this.uiStrings&&Object.keys(this.uiStrings)&&(r=z(i(r),this.uiStrings)),this[t]=r})));for(const t of e)t.error&&F.error(\"widget-intl:locale-error\",this.declaredClass,t.error)}await this.loadLocale()})),k();const o=[\"light\",\"dark\"],n=L()||\"light\";o.includes(n)||t(F,\"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.\",{version:\"4.19\",warnOnce:!0,see:\"https://developers.arcgis.com/javascript/latest/styling/\"});const a=\"esri-widget-uid-\"+g(),d=this.render.bind(this);this._trackingTarget=new j((()=>this.scheduleRender()));const c=()=>{var e;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:\"div\",properties:{key:a,class:\"\",styles:{display:\"none\"}},domNode:void 0,children:void 0,text:void 0};const t=d();let{properties:r}=t;r||(t.properties=r={});let{key:o,styles:s}=r;o||(r.key=a),s||(r.styles=s={}),s.display||(s.display=\"\");let i=0;return null==(e=t.children)||e.forEach((e=>{if(b(e.vnodeSelector))return;let{properties:t}=e;t||(e.properties=t={}),t.key||(t.key=`${this.id}--${i++}`)})),R(this,t)};this.render=()=>{if(M)return c();let e=C(this);if(e)return e;this._trackingTarget.clear(),M=!0;try{e=f(this._trackingTarget,c)}finally{M=!1}return T(this,e),e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{this._readyForTrueRender=!0,this._postInitialize()})))}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then((()=>{})).catch(c)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=a(this._trackingTarget),this.viewModel=a(this.viewModel),this._detach(this.container),this._set(\"container\",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,H(this))}set container(e){this._get(\"container\")||this._set(\"container\",e)}castContainer(e){return r(e)}get id(){return this._get(\"id\")||this.get(\"container.id\")||Date.now().toString(16)+\"-widget-\"+$++}set id(e){e&&this._set(\"id\",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error(\"not implemented\")}scheduleRender(){this.destroyed||(H(this),this._projector.scheduleRender())}classes(...e){return E.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){H(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(h((()=>this.viewModel),((e,t)=>{t&&this._internalHandles.remove(\"delegated-events\"),e&&this._internalHandles.add(this._delegatedEventNames.map((t=>e.on(t,(e=>{this.emit(t,e)})))),\"delegated-events\")}),u)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(c),this.scheduleRender()};this._internalHandles.add([N(t),h((()=>this.uiStrings),t),m((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};O[S]=!0,e([y()],O.prototype,\"_readyForTrueRender\",void 0),e([y({value:null})],O.prototype,\"container\",null),e([v(\"container\")],O.prototype,\"castContainer\",null),e([y({aliasOf:\"container\"})],O.prototype,\"domNode\",void 0),e([y()],O.prototype,\"iconClass\",void 0),e([y()],O.prototype,\"id\",null),e([y()],O.prototype,\"label\",void 0),e([y()],O.prototype,\"renderable\",null),e([y()],O.prototype,\"uiStrings\",void 0),e([y()],O.prototype,\"viewModel\",void 0),e([y()],O.prototype,\"visible\",void 0),e([y()],O.prototype,\"key\",void 0),e([y()],O.prototype,\"children\",void 0),e([y()],O.prototype,\"afterCreate\",void 0),e([y()],O.prototype,\"afterUpdate\",void 0),e([y()],O.prototype,\"afterRemoved\",void 0),O=e([_(U)],O);const B=O;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction e(e){return function(s,n){s.hasOwnProperty(\"_messageBundleProps\")||(s._messageBundleProps=s._messageBundleProps?s._messageBundleProps.slice():[]);s._messageBundleProps.push({bundlePath:e,propertyName:n})}}export{e as messageBundle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isWidgetConstructor as r}from\"./jsxWidgetSupport.js\";var e=function(r){return{vnodeSelector:\"\",properties:void 0,children:void 0,text:r.toString(),domNode:null}},o=function(r,t){for(var n=0,i=r.length;n<i;n++){var d=r[n];Array.isArray(d)?o(d,t):null!=d&&!1!==d&&(d.hasOwnProperty(\"vnodeSelector\")||(d=e(d)),t.push(d))}},t=function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(1===t.length&&\"string\"==typeof t[0])return{vnodeSelector:r,properties:e||void 0,children:void 0,text:t[0],domNode:null};var i=[];return o(t,i),{vnodeSelector:r,properties:e||void 0,children:i,text:void 0,domNode:null}};function n(e,o,...n){return\"function\"!=typeof e||r(e)?t(e,o,...n):e(o,...n)}function i(...r){return r}export{n as tsx,i as tsxFragment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const a={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},l=\"ArcGIS Online\";let p=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:p}=this,d=u(\"div\",{class:a.group},r(n?p.oAuthInfo:p.info,{server:/\\.arcgis\\.com/i.test(e)?l:e,resource:`(${t||p.lblItem})`})),c=n?null:u(\"div\",{class:a.group,key:\"username\"},u(\"label\",{class:a.label},p.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:a.esriInput}))),m=n?null:u(\"div\",{class:a.group,key:\"password\"},u(\"label\",{class:a.label},p.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:a.esriInput}))),h=u(\"div\",{class:this.classes(a.group,a.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?p.lblSigning:p.lblOk,class:a.esriButton}),u(\"input\",{type:\"button\",value:p.lblCancel,bind:this,onclick:this._cancel,class:this.classes(a.esriButton,a.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?p.invalidUser:p.noAuthService):null;return u(\"form\",{class:a.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],p.prototype,\"messages\",void 0),s([e()],p.prototype,\"signingIn\",void 0),s([e()],p.prototype,\"server\",void 0),s([e()],p.prototype,\"resource\",void 0),s([e()],p.prototype,\"error\",void 0),s([e()],p.prototype,\"oAuthPrompt\",void 0),p=s([t(\"esri.identity.IdentityForm\")],p);const d=p;export{d as default};\n","const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]:not(slot)',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element.getRootNode()\n    : (element) => element.ownerDocument;\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      const validShadowRoot =\n        !options.shadowRootFilter || options.shadowRootFilter(element);\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\nconst getTabindex = function (node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if (\n      (isScope ||\n        /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        node.isContentEditable) &&\n      isNaN(parseInt(node.getAttribute('tabindex'), 10))\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  const nodeRootHost = getRootNode(node).host;\n  const nodeIsAttached =\n    nodeRootHost?.ownerDocument.contains(nodeRootHost) ||\n    node.ownerDocument.contains(node);\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (nodeIsAttached) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck` mode\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scope;\n    const element = isScope ? item.scope : item;\n    const candidateTabindex = getTabindex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n","import { tabbable, focusable, isFocusable, isTabbable } from 'tabbable';\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  const containersContain = function (element) {\n    return !!(\n      element &&\n      state.containers.some((container) => container.contains(element))\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  const getNodeForOption = function (optionName, ...params) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\n          `\\`${optionName}\\` as selector refers to no known node`\n        );\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (containersContain(doc.activeElement)) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.tabbableGroups = state.containers\n      .map((container) => {\n        const tabbableNodes = tabbable(container);\n\n        // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n        //  are a superset of tabbable nodes\n        const focusableNodes = focusable(container);\n\n        if (tabbableNodes.length > 0) {\n          return {\n            container,\n            firstTabbableNode: tabbableNodes[0],\n            lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n\n            /**\n             * Finds the __tabbable__ node that follows the given node in the specified direction,\n             *  in this container, if any.\n             * @param {HTMLElement} node\n             * @param {boolean} [forward] True if going in forward tab order; false if going\n             *  in reverse.\n             * @returns {HTMLElement|undefined} The next tabbable node, if any.\n             */\n            nextTabbableNode(node, forward = true) {\n              // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n              //  from the DOM order), this __will not work__ because the list of focusableNodes,\n              //  while it contains tabbable nodes, does not sort its nodes in any order other\n              //  than DOM order, because it can't: Where would you place focusable (but not\n              //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n              // Support for positive tabindex is already broken and hard to manage (possibly\n              //  not supportable, TBD), so this isn't going to make things worse than they\n              //  already are, and at least makes things better for the majority of cases where\n              //  tabindex is either 0/unset or negative.\n              // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n              const nodeIdx = focusableNodes.findIndex((n) => n === node);\n              if (forward) {\n                return focusableNodes\n                  .slice(nodeIdx + 1)\n                  .find((n) => isTabbable(n));\n              }\n              return focusableNodes\n                .slice(0, nodeIdx)\n                .reverse()\n                .find((n) => isTabbable(n));\n            },\n          };\n        }\n\n        return undefined;\n      })\n      .filter((group) => !!group); // remove groups with no tabbable nodes\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const target = getActualTarget(e);\n    const targetContained = containersContain(target);\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    const target = getActualTarget(e);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findIndex(state.tabbableGroups, ({ container }) =>\n        container.contains(target)\n      );\n      const containerGroup =\n        containerIndex >= 0 ? state.tabbableGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target) &&\n              !isTabbable(target) &&\n              !containerGroup.nextTabbableNode(target, false)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target) &&\n              !isTabbable(target) &&\n              !containerGroup.nextTabbableNode(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (e) {\n    if (\n      isEscapeEvent(e) &&\n      valueOrHandler(config.escapeDeactivates, e) !== false\n    ) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      const onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(\n        deactivateOptions,\n        'checkCanReturnFocus'\n      );\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const returnFocus = getOption(\n        deactivateOptions,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../widgets/Widget.js\";import{isWidget as r}from\"../widgets/support/widget.js\";import{createFocusTrap as n}from\"focus-trap\";import{messageBundle as a}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as c}from\"../widgets/support/jsxFactory.js\";const l={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let d=class extends i{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[l.open]:r,[l.closed]:!r},a=c(\"button\",{class:l.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},c(\"span\",{\"aria-hidden\":\"true\",class:l.iconClose})),d=`${t}_title`,p=`${t}_content`,u=s?c(\"h1\",{id:d,class:l.title},s):null,m=r?c(\"div\",{bind:this,class:l.dialog,role:\"dialog\",\"aria-labelledby\":d,\"aria-describedby\":p,afterCreate:this._createFocusTrap},a,u,this._renderContent(p)):null;return c(\"div\",{tabIndex:-1,class:this.classes(l.base,n)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=n(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?c(\"div\",{class:l.content,id:t,innerHTML:e}):r(e)?c(\"div\",{class:l.content,id:t},e.render()):e instanceof HTMLElement?c(\"div\",{class:l.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],d.prototype,\"container\",void 0),t([o()],d.prototype,\"content\",void 0),t([o()],d.prototype,\"open\",void 0),t([o(),a(\"esri/t9n/common\")],d.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],d.prototype,\"title\",void 0),d=t([s(\"esri.identity.IdentityModal\")],d);const p=d;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nexport{accessibleHandler}from\"./decorators/accessibleHandler.js\";export{messageBundle}from\"./decorators/messageBundle.js\";export{renderable}from\"./decorators/renderable.js\";export{vmEvent}from\"./decorators/vmEvent.js\";export{tsx,tsxFragment}from\"./jsxFactory.js\";export{additionalAllowedTags,classes,cssTransition,discardNode,getDir,isActivationKey,isRTL,keepMenuItemWithinView,onResize,renderingSanitizer,safeAttrs,storeNode}from\"./widgetUtils.js\";export{getCalciteThemeClass,getThemeName,isDarkTheme}from\"./widgetThemeUtils.js\";function e(e){return e&&\"function\"==typeof e.render}function t(e){return e&&\"function\"==typeof e.postMixInProperties&&\"function\"==typeof e.buildRendering&&\"function\"==typeof e.postCreate&&\"function\"==typeof e.startup}export{t as hasDomNode,e as isWidget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class e{constructor(t,e){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=e,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token))if(null==this.expires&&this.refreshToken)t=!0;else{const e=Date.now();if(this.expires>e){(this.expires-e)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return!1;const e=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let r=e[s.authNamespace];r||(r=e[s.authNamespace]={}),this.appId||(this.appId=s.appId),r[s.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(e))}catch(i){return console.warn(i),!1}return!0}return!1}destroy(){const e=this._load(),s=this.oAuthInfo;if(s&&s.appId&&s.portalUrl&&(null==this.expires||this.expires>Date.now())&&(this.refreshToken||this.token)){const t=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",e=new FormData;if(e.append(\"f\",\"json\"),e.append(\"auth_token\",this.refreshToken||this.token),e.append(\"client_id\",s.appId),e.append(\"token_type_hint\",this.refreshToken?\"refresh_token\":\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,e);else{const s=new XMLHttpRequest;s.open(\"POST\",t),s.send(e)}}if(s&&s.authNamespace&&s.portalUrl&&this.storage){const r=e[s.authNamespace];if(r){delete r[s.portalUrl];try{this.storage.setItem(t,JSON.stringify(e))}catch(i){console.log(i)}}}s&&(s._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let s=t[e.authNamespace];s&&(s=s[e.portalUrl],s&&(this.appId=s.appId,this.codeVerifier=s.codeVerifier,this.expires=s.expires,this.refreshToken=s.refreshToken,this.ssl=s.ssl,this.stateUID=s.stateUID,this.token=s.token,this.userId=s.userId))}}_load(){let e={};if(this.storage){const i=this.storage.getItem(t);if(i)try{e=JSON.parse(i)}catch(s){console.warn(s)}}return e}}e.prototype.declaredClass=\"esri.identity.OAuthCredential\";export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var p;let s=p=class extends t{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.flowType=\"auto\",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return p.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],s.prototype,\"appId\",void 0),o([r({json:{write:!0}})],s.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],s.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"flowType\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],s.prototype,\"locale\",void 0),o([r({json:{write:!0}})],s.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"popup\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],s.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],s.prototype,\"userId\",void 0),s=p=o([e(\"esri.identity.OAuthInfo\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};o([e({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasServer\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),o([e({json:{write:!0}})],s.prototype,\"server\",void 0),o([e({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),o([e({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=o([t(\"esri.identity.ServerInfo\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import{id as r}from\"../kernel.js\";import s from\"../request.js\";import i from\"../core/Error.js\";import n from\"../core/Evented.js\";import{on as o}from\"../core/events.js\";import{fixJson as a}from\"../core/lang.js\";import{getDeepValue as h}from\"../core/object.js\";import{createResolver as l,onAbort as c,isAborted as d}from\"../core/promiseUtils.js\";import{Url as u,urlToObject as p,hasSameOrigin as _,queryToObject as f,base64UrlEncode as g,objectToQuery as m,normalize as v,getProxyRule as S,makeAbsolute as w,addQueryParameters as I}from\"../core/urlUtils.js\";import{property as A}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as k}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"./IdentityForm.js\";import U from\"./IdentityModal.js\";import T from\"./OAuthCredential.js\";import x from\"./OAuthInfo.js\";import O from\"./ServerInfo.js\";const P={},R=e=>{const t=new u(e.owningSystemUrl).host,r=new u(e.server).host,s=/.+\\.arcgis\\.com$/i;return s.test(t)&&s.test(r)},C=(e,t)=>!!(R(e)&&t&&t.some((t=>t.test(e.server))));let b=null,D=null;try{b=window.localStorage,D=window.sessionStorage}catch{}class q extends n{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=y,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=\"null\"!==window.origin?window.origin:window.location.origin,this._appUrlObj=p(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthLocationParams(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const r of e){const e=this.findOAuthInfo(r.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),r=this._isServerRsrc(t);let s,i=this.findServerInfo(t),n=!0;i||(i=new O,i.server=this._getServerInstanceRoot(t),r?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),s=this._findCredential(t),s?(delete e.server,Object.assign(s,e),n=!1):(s=new j({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:r?\"server\":\"portal\"}),s.resources=[t],this.credentials.push(s)),s.emitTokenChange(!1),n||s.refreshServerTokens()}toJSON(){return a({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,r=e.oAuthInfos,s=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new O(t))})),e.length&&this.registerServers(e)}if(r){const e=[];r.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new x(t))})),e.length&&this.registerOAuthInfos(e)}s&&s.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new j(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const r of this.serverInfos)if(this._hasSameServerInstance(r.server,e)){t=r;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const r of this.oAuthInfos)if(this._hasSameServerInstance(r.portalUrl,e)){t=r;break}return t}findCredential(e,t){let r;e=this._sanitizeUrl(e);const s=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===s){r=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===s){r=i;break}return r}getCredential(e,t){let r,s,n=!0;t&&(r=!!t.token,s=t.error,n=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=new AbortController,a=l();if(t.signal&&c(t.signal,(()=>{o.abort()})),c(o,(()=>{a.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))})),d(o))return a.promise;t.signal=o.signal;const h=this._isAdminResource(e),u=r?this.findCredential(e):null;let p;if(u&&s&&s.details&&498===s.details.httpStatus)u.destroy();else if(u)return p=new i(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+u.userId+\"'. You do not have access to this resource: \"+e,{error:s}),a.reject(p),a.promise;const f=this._findCredential(e,t);if(f)return a.resolve(f),a.promise;let g=this.findServerInfo(e);if(g)!g.hasServer&&this._isServerRsrc(e)&&(g._restInfoPms=this._getTokenSvcUrl(e),g.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return p=new i(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),a.reject(p),a.promise;g=new O,g.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(g.tokenServiceUrl=t,g.hasPortal=!0):(g._restInfoPms=t,g.hasServer=!0),this.registerServers([g])}return g.hasPortal&&void 0===g._selfReq&&(n||_(g.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===g.tokenServiceUrl)))&&(g._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(g.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,g,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,r){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),o=new u(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,p,f,g,m;t&&(m=this.tokenValidity||a||this.defaultTokenValidity,m>a&&a>0&&(m=a)),r&&(h=r.isAdmin,l=r.serverUrl,c=r.token,f=r.signal,g=r.ssl,e.customParameters=r.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,p=new u(d.toLowerCase()),e.webTierAuth&&null!=r&&r.serverUrl&&!g&&\"http\"===o.scheme&&(_(o.uri,d,!0)||\"https\"===p.scheme&&o.host===p.host&&\"7080\"===o.port&&\"7443\"===p.port)&&(d=d.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const v={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:l,token:c,expiration:m,referer:h||n?this._appOrigin:null,client:h?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,r),signal:f,...null==r?void 0:r.ioArgs};n||(v.withCredentials=!1);return s(d,v).then((r=>{const s=r.data;if(!s||!s.token)return new i(\"identity-manager:authentication-failed\",\"Unable to generate token\");const n=e.server;return P[n]||(P[n]={}),t&&(P[n][t.username]=t.password),s.validity=m,s}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,r){let n=!1;return this.getCredential(e,{prompt:!1}).then((o=>{let a;const h={f:\"json\"};if(\"portal\"===o.scope)if(t&&(this._doPortalSignIn(e)||r&&r.force))a=o.server+\"/sharing/rest/oauth2/validateAppAccess\",h.client_id=t;else{if(!o.token)return{credential:o};a=o.server+\"/sharing/rest\"}else{if(!o.token)return{credential:o};a=o.server+\"/rest/services\"}return o.token&&(h.token=o.token),s(a,{query:h,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new i(\"identity-manager:not-authorized\",`You are currently signed in as: '${o.userId}'.`,e.data);return n=!!e.data.viewOnlyUserTypeApp,{credential:o}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw o.destroy(),new i(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new i(\"identity-manager:invalid-request\");return{credential:o}}))})).then((e=>({credential:e.credential,viewOnly:n})))}setOAuthResponseHash(e){e&&(\"#\"===e.charAt(0)&&(e=e.substring(1)),this._processOAuthPopupParams(f(e)))}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,r={}){const s=l(),n=()=>{var e,t,r,s,i;null==(e=h)||e.remove(),null==(t=d)||t.remove(),null==(r=u)||r.remove(),null==(s=a)||s.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=a=h=d=u=null},o=()=>{n(),this._oAuthDfd=null,s.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))};r.signal&&c(r.signal,(()=>{o()}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new U,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");let h=a.on(\"cancel\",o),d=this.dialog.watch(\"open\",o),u=a.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:r.isAdmin,signal:r.signal}).then((i=>{n();const o=new j({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:r.isAdmin,validity:i.validity});s.resolve(o)})).catch((e=>{a.error=e,a.signingIn=!1}))}));return s.promise}oAuthSignIn(e,t,r,s){this._oAuthDfd=l();const n=this._oAuthDfd;let o;null!=s&&s.signal&&c(s.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&_()})),n.resUrl_=e,n.sinfo_=t,n.oinfo_=r;const a=r._oAuthCred;if(a.storage&&(\"authorization-code\"===r.flowType||\"auto\"===r.flowType&&!r.popup&&t.currentVersion>=8.4)){let e=crypto.getRandomValues(new Uint8Array(32));o=g(e),a.codeVerifier=o,e=crypto.getRandomValues(new Uint8Array(32)),a.stateUID=g(e),a.save()||(a.codeVerifier=o=null)}else a.codeVerifier=null;let h,d,u,p;this._getCodeChallenge(o).then((i=>{const n=!s||!1!==s.oAuthPopupConfirmation;r.popup&&n?(h=new this.formConstructor,h.oAuthPrompt=!0,h.server=t.server,this.dialog=new U,this.dialog.content=h,this.dialog.open=!0,this.emit(\"dialog-create\"),d=h.on(\"cancel\",_),u=this.dialog.watch(\"open\",_),p=h.on(\"submit\",(()=>{f(),this._doOAuthSignIn(e,t,r,i)}))):this._doOAuthSignIn(e,t,r,i)}));const _=()=>{f(),this._oAuthDfd=null,n.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))},f=()=>{var e,t,r,s,i;null==(e=d)||e.remove(),null==(t=u)||t.remove(),null==(r=p)||r.remove(),null==(s=h)||s.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=null};return n.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=o(window,\"message\",(t=>{var r;if((t.origin===this._appOrigin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(r=t.data)?void 0:r.type)){const r=t.source;this.getCredential(e).then((e=>{r.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{r.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthLocationParams(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const r=f(e);let s=!1;if(r.access_token&&r.expires_in&&r.state&&r.hasOwnProperty(\"username\"))try{r.state=JSON.parse(r.state),r.state.portalUrl&&(this._oAuthLocationParams=r,s=!0)}catch{}else if(r.error&&r.error_description&&(console.log(\"IdentityManager OAuth Error: \",r.error,\" - \",r.error_description),\"access_denied\"===r.error&&(s=!0,r.state)))try{r.state=JSON.parse(r.state)}catch{}var t;if(s)window.location.hash=(null==(t=r.state)?void 0:t.hash)||\"\"}let r=window.location.search;if(r){\"?\"===r.charAt(0)&&(r=r.substring(1));const e=f(r);let t=!1;if(e.code&&e.state)try{e.state=JSON.parse(e.state),e.state.portalUrl&&e.state.uid&&(this._oAuthLocationParams=e,t=!0)}catch{}else if(e.error&&e.error_description&&(console.log(\"IdentityManager OAuth Error: \",e.error,\" - \",e.error_description),\"access_denied\"===e.error&&(t=!0,e.state)))try{e.state=JSON.parse(e.state)}catch{}if(t){var s;const t={...e};[\"code\",\"error\",\"error_description\",\"message_code\",\"persist\",\"state\"].forEach((e=>{delete t[e]}));const r=m(t),i=window.location.pathname+(r?`?${r}`:\"\")+((null==(s=e.state)?void 0:s.hash)||\"\");window.history.replaceState(window.history.state,\"\",i)}}}_getOAuthToken(e,t,r,i,n){return e=e.replace(/^http:/i,\"https:\"),s(`${e}/sharing/rest/oauth2/token`,{authMode:\"anonymous\",method:\"post\",query:i&&n?{grant_type:\"authorization_code\",code:t,redirect_uri:i,client_id:r,code_verifier:n}:{grant_type:\"refresh_token\",refresh_token:t,client_id:r}}).then((e=>e.data))}_getCodeChallenge(e){if(e&&globalThis.isSecureContext){const t=(new TextEncoder).encode(e);return crypto.subtle.digest(\"SHA-256\",t).then((e=>g(new Uint8Array(e))))}return Promise.resolve(null)}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new i(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let r,s,i,n,o=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(r=c[0],n=this.findServerInfo(r.server),s=n&&n.owningSystemUrl,i=s&&this.findCredential(s,r.userId),o=this._getIdenticalSvcIdx(e,r),!a)return-1===o&&r.resources.push(e),this._addResource(e,i),r;-1!==o&&(r.resources.splice(o,1),this._removeResource(e,i))}else{let t,r;if(c.some((a=>(r=this._getIdenticalSvcIdx(e,a),-1!==r&&(t=a,n=this.findServerInfo(t.server),s=n&&n.owningSystemUrl,i=s&&this.findCredential(s,t.userId),o=r,!0)))),a)t&&(t.resources.splice(o,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const r of this.oAuthInfos)if(this._isIdProvider(r.portalUrl,e)){t=r;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let r=-1;t&&(r=this._getIdenticalSvcIdx(e,t),r>-1&&t.resources.splice(r,1))}_useProxy(e,t){return t&&t.isAdmin&&!_(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!_(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new u(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let r=t.indexOf(this._agsRest);return-1===r&&this._isAdminResource(e)&&(r=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===r&&(r=t.indexOf(\"/sharing\")),-1===r&&\"/\"===t.substr(-1)&&(r=t.length-1),r>-1?e.substring(0,r):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):r.test(e)?e=e.replace(r,\"https://devext.arcgis.com\"):s.test(e)&&(e=e.replace(s,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const r=(t.request.proxyUrl||\"\").toLowerCase(),s=r?e.toLowerCase().indexOf(r+\"?\"):-1;return-1!==s&&(e=e.substring(s+r.length+1)),e=v(e),p(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let r;if(this._isRESTService(e)&&this._isRESTService(t)){const s=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(r=s===i,!r){const e=/(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;r=s.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?r=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(r=!0);return r}_isPortalDomain(e){const r=new u(e.toLowerCase()),s=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(r.uri)));return!i&&s&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(s.restBaseUrl),r.uri)),i||t.portalUrl&&(i=_(r,t.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,r.uri)))),i=i||this._agsPortal.test(r.path),i}_isIdProvider(e,t){let r=-1,s=-1;this._gwDomains.forEach(((i,n)=>{-1===r&&i.regex.test(e)&&(r=n),-1===s&&i.regex.test(t)&&(s=n)}));let i=!1;if(r>-1&&s>-1&&(0===r||4===r?0!==s&&4!==s||(i=!0):1===r?1!==s&&2!==s||(i=!0):2===r?2===s&&(i=!0):3===r&&3===s&&(i=!0)),!i){const r=this.findServerInfo(t),s=r&&r.owningSystemUrl;s&&R(r)&&this._isPortalDomain(s)&&this._isIdProvider(e,s)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let r=-1;for(let s=0;s<t.resources.length;s++){const i=t.resources[s];if(this._isIdenticalService(e,i)){r=s;break}}return r}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,r,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+\"/admin/generateToken\",r=s(e=i+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:r}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((r=>(r.regex.test(e)&&(t=r.tokenServiceUrl),!!t))),t||this._portals.some((r=>(this._hasSameServerInstance(r,e)&&(t=r+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf(\"/sharing\"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const r=new u(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===r&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_processOAuthResponseParams(e,t,r){const s=t._oAuthCred;if(e.code){const i=s.codeVerifier;return s.codeVerifier=null,s.stateUID=null,s.save(),this._getOAuthToken(r.server,e.code,t.appId,this._getRedirectURI(t,!0),i).then((i=>{const n=new j({userId:i.username,server:r.server,token:i.access_token,expires:Date.now()+1e3*i.expires_in,ssl:i.ssl,oAuthState:e.state,_oAuthCred:s});return t.userId=n.userId,s.storage=i.persist?b:D,s.refreshToken=i.refresh_token,s.token=null,s.expires=i.refresh_token_expires_in?Date.now()+1e3*i.refresh_token_expires_in:null,s.userId=n.userId,s.ssl=n.ssl,s.save(),n}))}const i=new j({userId:e.username,server:r.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:s});return t.userId=i.userId,s.storage=e.persist?b:D,s.refreshToken=null,s.token=i.token,s.expires=i.expires,s.userId=i.userId,s.ssl=i.ssl,s.save(),Promise.resolve(i)}_processOAuthPopupParams(e){var t;const r=this._oAuthDfd;if(this._oAuthDfd=null,r)if(clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnPopupHandle)||t.remove(),e.error){const t=\"access_denied\"===e.error,s=new i(t?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",t?\"ABORTED\":\"OAuth: \"+e.error+\" - \"+e.error_description);r.reject(s)}else this._processOAuthResponseParams(e,r.oinfo_,r.sinfo_).then((e=>{r.resolve(e)})).catch((e=>{r.reject(e)}))}_setOAuthResponseQueryString(e){e&&(\"?\"===e.charAt(0)&&(e=e.substring(1)),this._processOAuthPopupParams(f(e)))}_exchangeToken(e,t,r){return s(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:r}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return e=e.replace(/^http:/i,\"https:\"),s(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\",expiration:30},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let r;if(this._gwDomains.some((t=>(t.regex.test(e)&&(r=t.customBaseUrl),!!r))),r)return Promise.resolve({allSSL:!0,currentVersion:\"8.4\",customBaseUrl:r,portalMode:\"multitenant\",supportsOAuth:!0});this._appOrigin.startsWith(\"https:\")?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return s(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,r=window.location.href,s=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(r)||!(s?s.hasPortal||s.owningSystemUrl&&this._isPortalDomain(s.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(r,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||_(r,e,!0)))}_checkProtocol(e,t,r,s){let n=!0;const o=s?t.adminTokenServiceUrl:t.tokenServiceUrl;if(o.trim().toLowerCase().startsWith(\"https:\")&&!this._appOrigin.startsWith(\"https:\")&&S(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!n)){r(new i(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return n}_enqueue(e,t,r,s,i,n){return s||(s=l()),s.resUrl_=e,s.sinfo_=t,s.options_=r,s.admin_=i,s.refresh_=n,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(s)):this._xoReqs.push(s):this._doSignIn(s),s.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const r=e.options_&&e.options_.resource,s=e.resUrl_,i=e.refresh_;let n=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,n=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.includes(r||s)||t.resources.push(r||s),t.scope=this._isServerRsrc(s)?\"server\":\"portal\",t.emitTokenChange();const o=this._soReqs,a={};this._soReqs=[],o.forEach((e=>{if(!this._isIdenticalService(s,e.resUrl_)){const r=this._getSuffix(e.resUrl_);a[r]||(a[r]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),o.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(s),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,n||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=(n,a,h,l)=>{var d,u;const p=e.sinfo_,f=!e.options_||!1!==e.options_.prompt,g=p.hasPortal&&this._findOAuthInfo(e.resUrl_);let m,v;if(n)t(new j({userId:n,server:p.server,token:h||null,expires:null!=l?Number(l):null,ssl:!!a}));else if(window!==window.parent&&null!=(d=this._appUrlObj.query)&&d[\"arcgis-auth-origin\"]&&null!=(u=this._appUrlObj.query)&&u[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var S;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const s=o(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(s.remove(),e.data.credential.expires<Date.now()?r(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):t(new j(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(s.remove(),\"tokenExpiredError\"===e.data.error.name?r(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):r(i.fromJSON(e.data.error))))}));c(null==(S=e.options_)?void 0:S.signal,(()=>{s.remove()}))}else if(g){let n=g._oAuthCred;if(!n){const e=new T(g,b),t=new T(g,D);e.isValid()&&t.isValid()?e.expires>t.expires?(n=e,t.destroy()):(n=t,e.destroy()):n=e.isValid()?e:t,g._oAuthCred=n}if(n.isValid()){m=new j({userId:n.userId,server:p.server,token:n.token,expires:n.expires,ssl:n.ssl,_oAuthCred:n});const r=g.appId!==n.appId&&this._doPortalSignIn(e.resUrl_);r||n.refreshToken?(e._pendingDfd=n.refreshToken?this._getOAuthToken(p.server,n.refreshToken,n.appId).then((e=>(m.expires=Date.now()+1e3*e.expires_in,m.token=e.access_token,m))):Promise.resolve(m),e._pendingDfd.then((e=>r?this._exchangeToken(e.server,g.appId,e.token).then((t=>(e.token=t,e))).catch((()=>e)):e)).then((e=>{t(e)})).catch((()=>{n.destroy(),s()}))):t(m)}else if(this._oAuthLocationParams&&this._hasSameServerInstance(g.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===n.stateUID&&n.codeVerifier)){const s=this._oAuthLocationParams;this._oAuthLocationParams=null,e._pendingDfd=this._processOAuthResponseParams(s,g,p).then((e=>{t(e)})).catch(r)}else{const s=()=>{f?e._pendingDfd=this.oAuthSignIn(e.resUrl_,p,g,e.options_).then(t,r):(v=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),r(v))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(p.server,g.appId).then((e=>{_(e.portalUrl,this._appOrigin,!0)?(m=new j({userId:e.username,server:p.server,expires:Date.now()+1e3*e.expires_in,token:e.token}),t(m)):s()})).catch(s):s()}}else if(f){if(this._checkProtocol(e.resUrl_,p,r,e.admin_)){let s=e.options_;e.admin_&&(s=s||{},s.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,p,s).then(t,r)}}else v=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),r(v)},n=()=>{const s=e.sinfo_,i=s.owningSystemUrl,n=e.options_;let o,a,h,l;if(n&&(o=n.token,a=n.error,h=n.prompt),l=this._findCredential(i,{token:o,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(C(s,this._legacyFed)){const e=l.toJSON();e.server=s.server,e.resources=null,t(new j(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((r=>{t(new j({userId:l.userId,server:s.server,token:r.token,expires:null!=r.expires?Number(r.expires):null,ssl:!!r.ssl,isAdmin:e.admin_,validity:r.validity}))}),r)}}else{this._busy=null,o&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:s.owningTenant,signal:e.options_.signal,token:o,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(t=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))}};this._errbackFunc=r;const a=e.sinfo_.owningSystemUrl,l=this._isServerRsrc(e.resUrl_),d=e.sinfo_._restInfoPms;d?d.promise.then((t=>{const r=e.sinfo_;if(r._restInfoPms){r.adminTokenServiceUrl=r._restInfoPms.adminUrl,r._restInfoPms=null,r.tokenServiceUrl=h(\"authInfo.tokenServicesUrl\",t)||h(\"authInfo.tokenServiceUrl\",t)||h(\"tokenServiceUrl\",t),r.shortLivedTokenValidity=h(\"authInfo.shortLivedTokenValidity\",t),r.currentVersion=t.currentVersion,r.owningTenant=t.owningTenant;const e=r.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}l&&r.owningSystemUrl?n():s()}),(()=>{e.sinfo_._restInfoPms=null;const t=new i(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");r(t)})):l&&a?n():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const r={};let s,i,n,o;return t&&(s=t.user&&t.user.username,r.username=s,r.allSSL=t.allSSL,i=t.supportsOAuth,n=parseFloat(t.currentVersion),\"multitenant\"===t.portalMode&&(o=t.customBaseUrl),e.sinfo_.currentVersion=n),e.sinfo_.webTierAuth=!!s,s&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:r.allSSL}).catch((()=>null)).then((e=>(r.portalToken=e&&e.token,r.tokenExpiration=e&&e.expires,r))):!s&&i&&n>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>r)):r})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?s(t.username,t.allSSL,t.portalToken,t.tokenExpiration):s()})):s()}_generateOAuthInfo(e){let t,r,i=e.portalUrl;const n=e.customBaseUrl,o=e.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){r=window.location.href;let e=r.indexOf(\"?\");e>-1&&(r=r.slice(0,e)),e=r.search(/\\/(apps|home)\\//),r=e>-1?r.slice(0,e):null}return a&&r?(this._hasTestedIfAppIsOnPortal=!0,t=s(r+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new x({appId:\"arcgisonline\",popupCallbackUrl:r+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return i=i.replace(/^http:/i,\"https:\"),s(i+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:w(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&n?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+n:t.portalUrl=i,t.popup=window!==window.top||!(_(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,r,s){const n=r._oAuthCred,a={portalUrl:r.portalUrl};!r.popup&&r.preserveUrlHash&&window.location.hash&&(a.hash=window.location.hash),n.stateUID&&(a.uid=n.stateUID);const h={client_id:r.appId,response_type:n.codeVerifier?\"code\":\"token\",state:JSON.stringify(a),expiration:r.expiration,locale:r.locale,redirect_uri:this._getRedirectURI(r,!!n.codeVerifier)};r.forceLogin&&(h.force_login=!0),r.forceUserId&&r.userId&&(h.prepopulatedusername=r.userId),!r.popup&&this._doPortalSignIn(e)&&(h.redirectToUserOrgUrl=!0),n.codeVerifier&&(h.code_challenge=s||n.codeVerifier,h.code_challenge_method=s?\"S256\":\"plain\");const l=r.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",c=l+\"?\"+m(h);if(r.popup){const e=window.open(c,\"esriJSAPIOAuth\",r.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const e=this._oAuthDfd;if(e){const t=new i(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnPopupHandle=o(window,[\"arcgis:auth:hash\",\"arcgis:auth:location:search\"],(e=>{\"arcgis:auth:hash\"===e.type?this.setOAuthResponseHash(e.detail):this._setOAuthResponseQueryString(e.detail)}));else{const e=new i(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:h,authorizeUrl:l,resourceUrl:e,serverInfo:t,oAuthInfo:r}):window.location.href=c}_getRedirectURI(e,t){const r=window.location.href.replace(/#.*$/,\"\");if(e.popup)return w(e.popupCallbackUrl);if(t){const e=p(r);return e.query&&[\"code\",\"error\",\"error_description\",\"message_code\",\"persist\",\"state\"].forEach((t=>{delete e.query[t]})),I(e.path,e.query)}return r}}q.prototype.declaredClass=\"esri.identity.IdentityManagerBase\";let j=class extends n.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=r.findServerInfo(this.server),t=e&&e.owningSystemUrl,s=!!t&&\"server\"===this.scope,i=s&&C(e,r._legacyFed),n=e.webTierAuth,o=n&&r.normalizeWebTierAuth,a=P[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=s&&r.findServerInfo(t),u={username:this.userId,password:h};if(n&&!o)return;s&&!d&&r.serverInfos.some((e=>(r._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d&&r.findCredential(d.server,this.userId);if(!s||p){if(!i){if(s)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(o)u=null,l={ssl:this.ssl};else{if(!h){let t;return c&&(c=r._sanitizeUrl(c),this._enqueued=1,t=r._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(l={isAdmin:!0})}return r.generateToken(s?d:e,s?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}p.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&r.credentials.forEach((e=>{const t=r.findServerInfo(e.server),s=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&s&&\"server\"===e.scope&&(r._hasSameServerInstance(this.server,s)||r._isIdProvider(s,this.server))&&(C(t,r._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&r.findServerInfo(this.server),s=t&&t.owningSystemUrl,i=s&&r.findServerInfo(s);!1===e||s&&\"portal\"!==this.scope&&(!i||!i.webTierAuth||r.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=r.credentials.indexOf(this);e>-1&&r.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=a({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let r=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();r<0?r=0:r>t&&(r=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),r>e?r-e:r)}};e([A()],j.prototype,\"creationTime\",void 0),e([A()],j.prototype,\"expires\",void 0),e([A()],j.prototype,\"isAdmin\",void 0),e([A()],j.prototype,\"oAuthState\",void 0),e([A()],j.prototype,\"resources\",void 0),e([A()],j.prototype,\"scope\",void 0),e([A()],j.prototype,\"server\",void 0),e([A()],j.prototype,\"ssl\",void 0),e([A()],j.prototype,\"token\",void 0),e([A()],j.prototype,\"tokenRefreshBuffer\",void 0),e([A()],j.prototype,\"userId\",void 0),e([A()],j.prototype,\"validity\",void 0),j=e([k(\"esri.identity.Credential\")],j);export{j as Credential,q as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{setId as e}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";class r extends t{}r.prototype.declaredClass=\"esri.identity.IdentityManager\";const s=new r;e(s);export{s as default};\n"],"names":["t","crypto","getRandomValues","Uint16Array","n","toString","Element","prototype","closest","e","matches","msMatchesSelector","func","transform","funcProto","Function","objectProto","Object","funcToString","hasOwnProperty","objectCtorString","call","objectToString","getPrototype","getPrototypeOf","arg","lodash_isplainobject","value","isObjectLike","result","isHostObject","proto","Ctor","constructor","lib$1","exports","_default$1","lib","_default","getDefaultWhiteList$1","whiteList","REGEXP_URL_JAVASCRIPT","getDefaultWhiteList","onAttr","name","options","onIgnoreAttr","safeAttrValue","test","util$1","indexOf","arr","item","i","j","Array","length","forEach","fn","scope","trim","str","String","replace","trimRight","_$3","parser$2","css","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","slice","ret","c","DEFAULT$1","parseStyle","isNull$1","obj","undefined","FilterCSS$2","shallowCopyObject$1","this","process","sourcePosition","position","check","isWhite","RegExp","opts","module","DEFAULT","FilterCSS","html","util","spaceIndex","match","exec","index","FilterCSS$1","getDefaultCSSWhiteList","_$2","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","p","pre","s","section","small","span","sub","summary","sup","strong","strike","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","escapeHtml","REGEXP_LT","REGEXP_GT","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeQuote","unescapeQuote","escapeHtmlEntities","fromCharCode","parseInt","substr","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","charCodeAt","charAt","friendlyAttrValue","escapeAttrValue","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","cssFilter","lastIndex","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isArray","removeList","posStart","isRemoveTag","isClosing","end","push","remove","rethtml","pos","stripCommentTag","retHtml","stripBlankChar","chars","split","filter","char","join","parser$1","_$1","getTagName","tagName","toLowerCase","REGEXP_ILLEGAL_ATTR_NAME","findNextEqual","findBeforeEqual","stripQuoteWrap","text","isQuoteWrapString","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","parseAttr","retAttrs","tmpName","addAttr","parser","_","isNull","FilterXSS","shallowCopyObject","stripIgnoreTag","console","error","allowCommentTag","stripIgnoreTagBody","info","attrs","closing","getAttrs","whiteAttrList","attrsHtml","isWhiteAttr","xss","filterXSS","self","DedicatedWorkerGlobalScope","Sanitizer","filterOptions","extendDefaults","xssFilterOptions","_this","arcgisWhiteList","allowedProtocols","arcgisFilterOptions","sanitizeUrl","create","keys","key","_extendObjectOfArrays","_xssFilter","sanitize","isNaN","isFinite","_iterateOverObject","allowUndefined","protocol","_trim","substring","sanitizeHTMLAttribute","attribute","validate","sanitized","isValid","objects","finalObj","concat","hasChanged_1","changedObj","reduce","prev","validation","err","val","Map","clear","o","delete","r","arguments","apply","ResizeObserver","get","target","v","getAttribute","y","E","includes","l","vnodeSelector","properties","bind","Error","d","f","enterAnimation","domNode","h","children","afterRemoved","m","window","requestIdleCallback","timeout","setTimeout","exitAnimation","style","pointerEvents","parentNode","removeChild","N","w","textContent","eventHandlerInterceptor","x","classList","add","styleApplyer","lastIndexOf","namespace","setAttributeNS","setAttribute","g","afterCreate","ownerDocument","createTextNode","insertBefore","appendChild","id","createElementNS","createElement","type","toggle","replaceChild","firstChild","A","removeAttribute","k","afterUpdate","updateAnimation","S","getLastRender","update","performanceLogger","setProperty","find","handleInterceptedEvent","scheduleRender","win","plt","CSS","document","HTMLElement","$flags$","$resourcesUrl$","jmp","raf","requestAnimationFrame","ael","el","eventName","listener","addEventListener","rel","removeEventListener","ce","CustomEvent","WeakMap","path","Symbol","parentWidget","widgetConstructor","widgetProperties","container","set","_internalHandles","destroy","getComputedStyle","body","getPropertyValue","U","F","$","z","currentTarget","some","customElements","eventPhase","Event","CAPTURING_PHASE","composedPath","getRootNode","reverse","postProcessProjectionOptions","afterFirstVNodeRendered","modifyDoRenderImplementation","renderNow","stop","cancelAnimationFrame","resume","append","merge","detach","splice","toUpperCase","P","M","O","_attached","_projector","_readyForTrueRender","iconClass","label","declaredClass","pop","visible","_loadLocale","_messageBundleProps","map","bundlePath","propertyName","I","uiStrings","loadLocale","L","version","warnOnce","see","render","_trackingTarget","destroyed","class","styles","display","R","C","T","addResolvingPromise","_resourcesFetch","beforeFirstRender","then","_postInitialize","Promise","all","loadDependencies","catch","viewModel","_detach","_set","_emitter","H","_get","getElementById","Date","now","projector","handles","_delegatedEventNames","on","emit","postInitialize","_attach","initial","once","aliasOf","B","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","oAuthPrompt","oAuthInfo","lblItem","lblUser","required","autocomplete","spellcheck","lblPwd","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","httpStatus","invalidUser","noAuthService","onsubmit","_submit","preventDefault","username","password","candidateSelectors","candidateSelector","NoElement","webkitMatchesSelector","element","getCandidates","includeContainer","candidates","querySelectorAll","unshift","getCandidatesIteratively","elements","elementsToCheck","from","shift","assigned","assignedElements","nestedCandidates","flatten","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","getTabindex","node","isScope","tabIndex","isContentEditable","sortOrderedTabbables","documentOrder","isInput","isNonTabbableRadio","isRadio","radioSet","radioScope","form","queryRadios","escape","message","checked","nodes","getCheckedRadio","isTabbableRadio","isZeroArea","getBoundingClientRect","width","height","isNodeMatchingSelectorFocusable","isHiddenInput","_ref","displayCheck","visibility","nodeUnderDetails","parentElement","nodeRootHost","host","nodeIsAttached","contains","originalNode","rootNode","assignedSlot","getClientRects","isHidden","child","isDetailsWithSummary","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","content","sort","acc","sortable","tabbable","isTabbable","focusableCandidateSelector","isFocusable","activeFocusTraps","trapQueue","activateTrap","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","delay","findIndex","idx","every","valueOrHandler","params","getActualTarget","event","createFocusTrap","userOptions","doc","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","containersContain","getNodeForOption","optionValue","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbableNodes","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","group","tryFocus","focus","preventScroll","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","containerGroup","shiftKey","startOfGroupIndex","destinationGroupIndex","lastOfGroupIndex","checkTab","checkClick","addListeners","capture","passive","removeListeners","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","clearTimeout","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","open","_close","own","watch","_toggleFocusTrap","_destroyFocusTrap","title","close","role","_createFocusTrap","_renderContent","_focusTrap","initialFocus","innerHTML","_attachToNode","readOnly","storage","appId","codeVerifier","expires","refreshToken","ssl","stateUID","token","userId","_init","minTimeUntilExpiration","_load","authNamespace","portalUrl","setItem","JSON","stringify","warn","FormData","navigator","sendBeacon","XMLHttpRequest","send","log","_oAuthCred","getItem","parse","expiration","flowType","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","fromJSON","toJSON","json","write","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","D","localStorage","sessionStorage","q","_portalConfig","globalThis","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","tokenValidity","normalizeWebTierAuth","_appOrigin","origin","location","_appUrlObj","href","_busy","_rejectOnPersistedPageShow","_oAuthLocationParams","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthLocationParams","_pageShowHandler","findServerInfo","findOAuthInfo","_sanitizeUrl","_isServerRsrc","_getServerInstanceRoot","_getTokenSvcUrl","registerServers","_findCredential","assign","resources","emitTokenChange","refreshServerTokens","registerOAuthInfos","_hasSameServerInstance","_getIdenticalSvcIdx","prompt","AbortController","signal","abort","reject","promise","_isAdminResource","findCredential","resolve","_restInfoPms","_selfReq","selfDfd","_getPortalSelf","_enqueue","_isRESTService","isAdmin","serverUrl","customParameters","scheme","uri","port","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","validity","checkAppAccess","credential","getCredential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","viewOnly","_processOAuthPopupParams","_oAuthRedirectFunc","_protocolFunc","_oAuthDfd","getResourceName","generateToken","Number","oAuthWin_","closed","resUrl_","sinfo_","oinfo_","Uint8Array","save","_getCodeChallenge","oAuthPopupConfirmation","_doOAuthSignIn","_postMessageAuthHandle","endsWith","postMessage","hash","access_token","expires_in","error_description","search","uid","pathname","history","replaceState","grant_type","redirect_uri","code_verifier","refresh_token","isSecureContext","TextEncoder","encode","subtle","digest","persisted","isBusy","_errbackFunc","_addResource","_removeResource","_isIdProvider","_isPortalDomain","_normalizeAGOLorgDomain","_getSuffix","restBaseUrl","_isIdenticalService","adminUrl","_getOrigin","_getOAuthToken","_getRedirectURI","oAuthState","persist","refresh_token_expires_in","clearInterval","_oAuthIntervalId","_oAuthOnPopupHandle","_processOAuthResponseParams","headers","allSSL","portalMode","supportsOAuth","startsWith","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","creationTime","_findOAuthInfo","parent","_pendingDfd","_exchangeToken","oAuthSignIn","_getPlatformSelf","_checkProtocol","signIn","user","parseFloat","portalToken","tokenExpiration","_generateOAuthInfo","accountId","clone","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","code_challenge","code_challenge_method","setInterval","setOAuthResponseHash","detail","_setOAuthResponseQueryString","authorizeParams","authorizeUrl","tokenRefreshBuffer","_enqueued","_refreshTimer","_startRefreshTimer"],"sourceRoot":""}