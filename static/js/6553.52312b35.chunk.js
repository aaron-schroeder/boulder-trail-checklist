"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6553],{16553:function(e,r,t){t.r(r),t.d(r,{createLabelFunction:function(){return y},formatField:function(){return h}});var n=t(37762),a=t(15861),u=t(87757),i=t(10064),l=t(32718),s=t(76969),c=t(6291),o=t(80031),f=t(93253),p=t(819),d=l.Z.getLogger("esri.layers.support.labelFormatUtils"),v={type:"simple",evaluate:function(){return null}},b={getAttribute:function(e,r){return e.field(r)}};function y(e,r,t){return x.apply(this,arguments)}function x(){return x=(0,a.Z)(u.mark((function e(r,n,a){var l,s,c,o,y,x,m;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.symbol){e.next=2;break}return e.abrupt("return",v);case 2:if(l=r.where,s=(0,f.hV)(r),!l){e.next=10;break}return e.next=7,Promise.resolve().then(t.bind(t,48562));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(c=e.t0,"arcade"!==s.type){e.next=19;break}return e.next=15,(0,p.WW)(s.expression,a,n);case 15:y=e.sent,o={type:"arcade",evaluate:function(e){try{var r=y.evaluate({$feature:"attributes"in e?y.repurposeFeature(e):e});if(null!=r)return r.toString()}catch(a){d.error(new i.Z("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:s}))}return null},needsHydrationToEvaluate:function(){return null==(0,f.el)(s.expression)}},e.next=20;break;case 19:o={type:"simple",evaluate:function(e){return s.expression.replace(/{[^}]*}/g,(function(r){var t=r.slice(1,-1),a=n.get(t);if(!a)return r;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":h(u,a)}))}};case 20:if(!l){e.next=30;break}e.prev=21,x=c.WhereClause.create(l,n),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",v);case 28:m=o.evaluate,o.evaluate=function(e){var r="attributes"in e?void 0:b;return x.testFeature(e,r)?m(e):null};case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[21,25]])}))),x.apply(this,arguments)}function h(e,r){if(null==e)return"";var t=r.domain;if(t)if("codedValue"===t.type||"coded-value"===t.type){var a,u=e,i=(0,n.Z)(t.codedValues);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.code===u)return l.name}}catch(b){i.e(b)}finally{i.f()}}else if("range"===t.type){var f=+e,p="range"in t?t.range[0]:t.minValue,d="range"in t?t.range[1]:t.maxValue;if(p<=f&&f<=d)return t.name}var v=e;return"date"===r.type||"esriFieldTypeDate"===r.type?v=(0,s.p6)(v,(0,s.Ze)("short-date")):(0,o.H7)(r)&&(v=(0,c.uf)(+v)),v||""}}}]);
//# sourceMappingURL=6553.52312b35.chunk.js.map