{"version":3,"file":"static/js/5418.f1a52295.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/scaleUtils.js","../node_modules/@arcgis/core/rest/operations/urlUtils.js","../node_modules/@arcgis/core/rest/query/executeForCount.js","../node_modules/@arcgis/core/rest/query/executeForIds.js","../node_modules/@arcgis/core/rest/query/executeQueryJSON.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js","../node_modules/@arcgis/core/layers/support/exifUtils.js","../node_modules/@arcgis/core/rest/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{inchesPerMeter as t,getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";const e=96;function r(r,i){const o=i||r.extent,c=r.width,u=n(o&&o.spatialReference);return o&&c?o.width/c*u*t*e:0}function i(r,i){return r/(n(i)*t*e)}function o(r,i){return r*(n(i)*t*e)}function c(t,n){const e=t.extent,r=t.width,o=i(n,e.spatialReference);return e.clone().expand(o*r/e.width)}export{c as getExtentForScale,i as getResolutionForScale,r as getScale,o as getScaleForResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForCount as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function n(n,s,m){const p=o(n);return r(p,t.from(s),{...m}).then((o=>o.data.count))}export{n as executeForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForIds as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function s(s,e,m){const n=o(s);return r(n,t.from(e),{...m}).then((o=>o.data.objectIds))}export{s as executeForIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{executeQuery as t}from\"./operations/query.js\";import o from\"../support/FeatureSet.js\";import e from\"../support/Query.js\";async function s(r,t,e){const s=await a(r,t,e);return o.fromJSON(s)}async function a(o,s,a){const n=r(o),i={...a},p=e.from(s),{data:u}=await t(n,p,p.sourceSpatialReference,i);return u}export{s as executeQueryJSON,a as executeRawQueryJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{isSome as t}from\"../../../core/maybe.js\";import{join as r,urlToObject as n}from\"../../../core/urlUtils.js\";import{getJsonType as i}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{mapParameters as a}from\"../../operations/urlUtils.js\";import{parsePBFFeatureQuery as s}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";const l=\"Layer does not support extent calculation.\";function m(e,t){if(t&&\"extent\"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&\"point\"===e.type)return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function y(e,r){const n=e.geometry,o=e.toJSON();delete o.compactGeometryEnabled,delete o.defaultSpatialReferenceEnabled;const a=o,s=e.outSpatialReference;let u,l;if(t(n)&&(u=n.spatialReference,l=n.spatialReference.wkid||JSON.stringify(n.spatialReference),a.geometryType=i(n),a.geometry=m(n,e.compactGeometryEnabled),a.inSR=l),o.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(a.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(a.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete a.outFields:-1!==o.outFields.indexOf(\"*\")?a.outFields=\"*\":a.outFields=o.outFields.join(\",\"),o.outSR?a.outSR=o.outSR.wkid||JSON.stringify(o.outSR):n&&(o.returnGeometry||o.returnCentroid)&&(a.outSR=a.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(a.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(a.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&t(u)&&t(e.quantizationParameters)&&t(e.quantizationParameters.extent)&&u.equals(e.quantizationParameters.extent.spatialReference)&&delete o.quantizationParameters.extent.spatialReference,a.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(a.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(a.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(a.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const e=o.timeExtent,{start:t,end:r}=e;null==t&&null==r||(a.time=t===r?t:`${null==t?\"null\":t},${null==r?\"null\":r}`),delete o.timeExtent}return e.defaultSpatialReferenceEnabled&&t(u)&&t(s)&&u.equals(s)&&(a.defaultSR=a.inSR,delete a.inSR,delete a.outSR),a}async function c(e,r,n,i){const o=t(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await E(e,r,\"json\",i);return u(r,n,o.data),o}async function d(e,r,n,i){if(t(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await f(e,r,i),a=o;return a.data=s(o.data,n),a}function f(e,t,r){return E(e,t,\"pbf\",r)}function p(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(e,r,\"json\",n,{returnIdsOnly:!0})}function S(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(e,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function x(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):E(e,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((e=>{const t=e.data;if(t.hasOwnProperty(\"extent\"))return e;if(t.features)throw new Error(l);if(t.hasOwnProperty(\"count\"))throw new Error(l);return e}))}function E(i,s,u,l={},m={}){const c=\"string\"==typeof i?n(i):i,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===u?\"array-buffer\":\"json\",o(d,null,l).then((n=>{const i=n&&n[0];t(i)&&((s=s.clone()).geometry=i);const o=a({...c.query,f:u,...m,...y(s,m)});return e(r(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{m as encodeGeometry,c as executeQuery,S as executeQueryForCount,x as executeQueryForExtent,p as executeQueryForIds,d as executeQueryPBF,f as executeQueryPBFBuffer,y as queryToQueryStringParameters,E as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{Integer as e}from\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getExifValue as n}from\"../../../layers/support/exifUtils.js\";var s;const p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let a=s=class extends o{constructor(t){super(t),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:t}=this,o=n({exifName:\"Exif IFD0\",tagName:\"Orientation\",exifInfo:t});return p[o]||null}clone(){return new s({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};t([r({type:String})],a.prototype,\"contentType\",void 0),t([r()],a.prototype,\"exifInfo\",void 0),t([r({readOnly:!0})],a.prototype,\"orientationInfo\",null),t([r({type:e})],a.prototype,\"id\",void 0),t([r({type:String})],a.prototype,\"globalId\",void 0),t([r({type:String})],a.prototype,\"keywords\",void 0),t([r({type:String})],a.prototype,\"name\",void 0),t([r({json:{read:!1}})],a.prototype,\"parentGlobalId\",void 0),t([r({json:{read:!1}})],a.prototype,\"parentObjectId\",void 0),t([r({type:e})],a.prototype,\"size\",void 0),t([r({json:{read:!1}})],a.prototype,\"url\",void 0),a=s=t([i(\"esri.layers.support.AttachmentInfo\")],a);const l=a;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n){const{exifInfo:e,exifName:a,tagName:u}=n;if(!e||!a||!u)return null;const f=e.find((n=>n.name===a));return f?t({tagName:u,tags:f.tags}):null}function t(n){const{tagName:t,tags:e}=n;if(!e||!t)return null;const a=e.find((n=>n.name===t));return a&&a.value||null}export{n as getExifValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{getScale as t}from\"../geometry/support/scaleUtils.js\";import{getLayerFloorFilterClause as i,combineFloorsDefinitionExpression as r}from\"../views/support/floorFilterUtils.js\";function s(e,n){return n?{...n,query:{...e,...n.query}}:{query:e}}function o(e){return\"string\"==typeof e?n(e):e}function l(e,n,t){const i={};for(const r in e){if(\"declaredClass\"===r)continue;const s=e[r];if(null!=s&&\"function\"!=typeof s)if(Array.isArray(s)){i[r]=[];for(let e=0;e<s.length;e++)i[r][e]=l(s[e])}else if(\"object\"==typeof s)if(s.toJSON){const e=s.toJSON(t&&t[r]);i[r]=n?e:JSON.stringify(e)}else i[r]=n?s:JSON.stringify(s);else i[r]=s}return i}function f({mapExtent:e,floors:n,width:r,sublayers:s,layerIds:o}){const l={},f={extent:e,width:r,spatialReference:null==e?void 0:e.spatialReference};let u=s;null!=o&&o.length&&s&&(u=s.filter((e=>o.includes(e.id))));const c=t(f),y=[],p=e=>{const n=0===c,t=0===e.minScale||c<=e.minScale,i=0===e.maxScale||c>=e.maxScale;e.visible&&(n||t&&i)&&(e.sublayers?e.sublayers.forEach(p):y.unshift(e))};if(u&&u.forEach(p),u&&u.length){const e=y.map((e=>{const t=i(n,e);return e.toExportImageJSON(t)})),t=e.some((e=>\"mapLayer\"===e.source.type?e.source.mapLayerId!==e.id:\"dataLayer\"===e.source.type));if(t){let n=JSON.stringify(e);\"[]\"===n&&(n=\"[{}]\"),l.dynamicLayers=n}else if(!t){if(null!=o&&o.length)l.layerIds=o;else{const e=u.map((({id:e})=>e));e.length&&(l.layerIds=e)}const e=a({floors:n,visibleSublayers:y});if(e&&e.length){const n=e.reduce(((e,n)=>(n.definitionExpression&&(e[n.id]=n.definitionExpression),e)),{});Object.keys(n).length&&(l.layerDefs=JSON.stringify(n))}}}else null!=o&&o.length&&(l.layerIds=o);return l}function a({floors:n,visibleSublayers:t}){const s=!(null==n||!n.length),o=t.filter((e=>null!=e.definitionExpression||s&&null!=e.floorInfo));if(!o.length)return null;return o.map((t=>{const s=i(n,t),o=e(s)?r(s,t):t.definitionExpression,l={id:t.id,definitionExpression:null};return o&&(l.definitionExpression=o),l}))}export{s as asValidOptions,l as encode,o as parseUrl,f as toDynamicLayersJSON};\n"],"names":["r","i","o","extent","c","width","u","n","spatialReference","t","e","Array","isArray","length","toJSON","JSON","stringify","s","m","p","then","data","count","objectIds","a","sourceSpatialReference","l","type","xmin","ymin","xmax","ymax","x","y","geometry","compactGeometryEnabled","defaultSpatialReferenceEnabled","outSpatialReference","wkid","geometryType","inSR","groupByFieldsForStatistics","join","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","equals","parameterValues","rangeValues","dynamicDataSource","layer","source","timeExtent","start","end","time","defaultSR","isEmpty","features","E","d","Promise","resolve","createFeatureResult","f","S","hasOwnProperty","Error","responseType","clone","query","path","exifInfo","exifName","tagName","find","name","tags","value","id","rotation","mirrored","contentType","globalId","keywords","parentGlobalId","parentObjectId","size","url","this","String","prototype","readOnly","json","read"],"sourceRoot":""}