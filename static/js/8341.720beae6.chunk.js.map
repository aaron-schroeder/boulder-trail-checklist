{"version":3,"file":"static/js/8341.720beae6.chunk.js","mappings":"4PAIiKA,EAAE,EAAFA,G,qEAAf,WAAiBC,EAAEC,GAAnB,+EAAmCD,EAAEE,OAArC,gCAA4CC,EAAEH,EAAEC,IAAhD,4C,+BAAkEE,EAAE,EAAFA,G,qEAAf,WAAiBJ,EAAEI,GAAnB,gFAA4BC,EAAE,GAAGC,EAAE,SAAFA,IAAU,2BAAJL,EAAI,yBAAJA,EAAI,gBAAC,cAAeA,EAAf,gBAAI,IAAMC,EAAC,MAAMK,EAAAA,EAAAA,IAAEL,KAAKM,MAAMC,QAAQP,GAAGI,EAAC,WAAD,UAAKJ,IAAGQ,EAAAA,EAAAA,aAAeR,GAAGA,EAAES,SAAS,SAAAV,GAAC,OAAEK,EAAEL,MAAKW,EAAAA,EAAAA,WAAaV,IAAIG,EAAEQ,KAAKX,MAAKE,EAAEE,GAAOQ,EAAE,KAA5K,UAA0Lb,EAAAA,EAAAA,IAAEI,EAAD,iCAAI,WAAMJ,GAAN,4EAAU,EAAV,UAAsBC,EAAAA,EAAAA,IAAEa,EAAEd,GAAGA,EAAEe,UAAUf,EAAEE,QAA3C,sBAAoDc,GAApD,2CAAwDH,EAAxD,0CAA4DA,EAAEb,EAA9D,4CAAJ,uDAA3L,WAAmQa,EAAnQ,sBAA2QA,EAAEI,UAA7Q,gCAA8RlB,GAA9R,2C,wBAAgS,SAASe,EAAEd,GAAG,MAAM,YAAYA,GAAG,mBAAmBA,EAAEe,U,iWCA9B,SAAST,EAAEO,GAAG,OAAOA,GAAG,UAAUA,EAAEK,KAAK,SAASC,EAAEN,EAAEZ,EAAEU,GAAG,IAAIG,EAAEd,EAAE,GAAGa,EAAE,IAAI,IAAIV,EAAE,EAAEM,EAAEI,EAAEO,OAAOjB,EAAEM,EAAEN,IAAI,CAAC,IAAGW,EAAED,EAAEQ,UAAUlB,IAAKF,KAAKU,EAAE,OAAOG,EAAE,GAAGR,EAAEQ,KAAKd,EAAEmB,EAAEL,EAAEQ,OAAOrB,EAAEU,IAAM,OAAOX,GAAG,IAAMuB,EAAET,EAAAA,EAAAA,UAAY,4BCA/RL,EAAE,2BAA2BV,EAAEe,EAAAA,EAAAA,UAAYL,GAAG,SAASH,EAAEK,GAAG,OAAOA,GAAG,UAAUA,EAAEO,KAAK,SAASM,EAAEb,EAAEE,EAAEZ,GAAG,GAAGU,EAAE,IAAI,IAAIG,EAAE,EAAEd,EAAEW,EAAES,OAAON,EAAEd,EAAEc,IAAI,CAAC,IAAMd,EAAEW,EAAEU,UAAUP,GAAG,GAAGd,EAAEa,KAAKZ,EAAE,OAAOD,EAAE,GAAGM,EAAEN,GAAG,CAAC,IAAMW,EAAEa,EAAExB,EAAEyB,OAAOZ,EAAEZ,GAAG,GAAGU,EAAE,OAAOA,IAAI,I,WCAwWe,EAAC,0CAAuC,WAAYvB,GAAE,6BAAC,cAAMA,IAAQwB,mBAAmB,GAAG,EAAKC,gBAAW,EAAO,EAAKC,qBAAqB,aAAa,EAAKC,sBAAiB,EAAO,EAAKZ,KAAK,QAAQ,EAAKa,mBAAmB,EAAKA,mBAAmBC,MAAxB,WAA1K,EAArD,yCAAkQ,WAAaC,KAAKC,mBAAmBD,KAAKE,eAAeF,KAAKG,SAASH,KAAKI,MAAM,UAAUJ,KAAKK,gBAAgBN,KAAKC,OAAM,KAA9X,0BAAkY,SAAa9B,EAAEU,EAAEC,EAAEb,GAAG,IAAMD,EAAE,GAAG,IAAIG,EAAE,OAAOH,EAAEG,EAAEO,SAAS,SAAAP,GAAI,IAAMU,GAAE0B,EAAAA,EAAAA,IAAEpC,EAAEF,EAAEuC,OAAOvC,EAAEuC,OAAOC,6BAA6BtC,GAAG,KAAKF,IAAGU,EAAAA,EAAAA,IAAEE,IAAIA,EAAE6B,WAAW1C,EAAEY,KAAKC,MAAMA,EAAES,OAAOtB,IAAhjB,sBAAkjB,SAAeG,GAAG8B,KAAKU,KAAK,aAAaxC,KAA3lB,0BAA8lB,SAAmBA,GAAG,IAAMU,EAAEoB,KAAKW,KAAK,oBAAoBzC,EAAE8B,KAAKU,KAAK,iBAAiBxC,GAAGU,GAAGoB,KAAKC,mBAAmB/B,EAAE8B,KAAKG,WAA5tB,kBAAquB,SAAKjC,GAAG,OAAO8B,KAAKY,oBAAoBZ,KAAKa,eAAe,CAACC,eAAe,CAAC,kBAAkB,qBAAqB,kBAAkB5C,IAAI6C,QAAQC,QAAQhB,QAA/3B,qBAAq4B,WAAS,WAAC,OAAOpB,EAAAA,EAAAA,GAAEoB,MAAM,SAAA9B,GAAIA,EAAE,EAAKmB,OAAO,EAAKG,aAAr7B,wBAAg8B,SAAWtB,GAAGA,EAAEiC,SAAS,cAAcH,KAAKE,eAAeF,KAAKiB,oBAAoB/C,GAAG,cAAc8B,KAAKE,iBAAiBhC,EAAEiC,QAAQH,KAAKG,SAASH,KAAKN,mBAAmBxB,EAAEgD,KAAKhD,EAAEkC,MAAM,UAAUJ,KAAKF,oBAAmB,KAA5pC,0BAAgqC,SAAa5B,GAAG,IAAMU,EAAEoB,KAAKN,mBAAmBxB,EAAEgD,KAAKtC,IAAIA,EAAEuC,gBAAgBnB,KAAKN,mBAAmBxB,EAAEgD,MAAMlB,KAAKC,mBAAmBD,KAAKE,eAAeF,KAAKG,WAA9zC,iCAAu0C,SAAoBjC,GAAG8B,KAAKX,OAAOZ,SAAS,SAAAG,GAAIA,IAAIV,IAAIU,EAAEuB,SAAQ,QAAz4C,gCAAg5C,SAAmBjC,EAAEU,GAAG,IAAIb,EAAAA,EAAAA,IAAEiC,MAAMoB,YAAZ,CAA+B,IAAM1C,EAAEsB,KAAKX,OAAWR,EAAEH,EAAE2C,MAAM,SAAAnD,GAAC,OAAEA,EAAEiC,WAAU,OAAOjC,GAAG,IAAI,YAAYQ,EAAES,SAASN,KAAIA,EAAEH,EAAEU,UAAU,IAAKe,SAAQ,GAAIH,KAAKiB,oBAAoBpC,GAAG,MAAM,IAAI,YAAYH,EAAED,SAAS,SAAAP,GAAIA,EAAEiC,QAAQvB,SAA3oD,6BAAipD,SAAgBV,GAAG,cAAc8B,KAAKE,gBAAgBF,KAAKX,OAAOZ,SAAS,SAAAG,GAAIA,EAAEuB,QAAQjC,OAA1uD,gCAA+uD,SAAmBA,EAAEU,EAAEF,EAAEG,GAAG,IAAMb,EAAEa,EAAE,OAAOmB,KAAKE,gBAAgB,IAAI,YAAYhC,EAAE8B,KAAKiB,oBAAoBjD,GAAGgC,KAAKsB,uBAAuBtD,EAAEmC,SAAQ,GAAI,MAAM,IAAI,YAAYnC,EAAEmC,QAAQH,KAAKG,WAA96D,gCAAu7D,WAAqB,OAAOH,KAAKX,OAAOkC,MAAM,SAAArD,GAAC,OAAEA,EAAEiC,eAA1+D,IAAerC,EAAAA,EAAAA,IAAEK,EAAAA,EAAAA,IAAEmB,EAAAA,EAAAA,IAAEkC,EAAAA,EAAAA,GDAtX,SAAA3C,GAAI,IAAIR,EAAC,0CAAiB,aAAiB,iDAAFK,EAAE,yBAAFA,EAAE,uBAAC,+BAASA,KAAQc,OAAO,IAAIZ,EAAAA,EAAE,EAAKY,OAAOiC,GAAG,aAAa,SAAA/C,GAAI,IAAME,EAAEF,EAAEgD,KAAK9C,EAAE+C,QAAQ/C,EAAE+C,UAAF,WAAiB,WAAW/C,EAAE+C,QAAQ/C,EAAE+C,OAAOnC,OAAO2B,OAAOvC,GAAGA,EAAE+C,QAAF,UAAc,YAAY/C,EAAEK,MAAMnB,EAAE8D,MAAF,uBAAwBhD,EAAEiD,MAA1B,gBAAuCjD,EAAEkD,GAAzC,sBAAyDlD,EAAEK,KAA3D,oEAAkI,EAAKO,OAAOiC,GAAG,gBAAgB,SAAA/C,GAAIA,EAAEgD,KAAKC,OAAO,QAA7W,EAAlC,sCAAuZ,WAAU,IAAD,EAAOjD,EAAEsB,KAAKR,OAAOuC,YAArB,UAAgDrD,GAAhD,IAAiC,oCAAmBsD,WAApD,8BAA8DhC,KAAKR,OAAOwC,YAA1e,kBAAof,SAAWtD,GAAGsB,KAAKU,KAAK,UAAS1C,EAAAA,EAAAA,GAAEU,EAAEsB,KAAKW,KAAK,cAAniB,2BAA+iB,SAAcjC,GAAG,OAAOa,EAAES,KAAKR,OAAO,KAAKd,KAA1lB,4BAA6lB,SAAeA,GAAG,OAAOa,EAAES,KAAKR,OAAO,MAAMd,OAA1oB,GAAeG,GAAgoB,OAAOH,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKM,EAAE4D,UAAU,SAAS,MAAM5D,GAAEK,EAAAA,EAAAA,GAAE,EAACR,EAAAA,EAAAA,GAAEM,IAAIH,GCArV6D,CFA9S,SAAArD,GAAI,IAAIR,EAAC,0CAAiB,aAAiB,iDAAFO,EAAE,yBAAFA,EAAE,iBAAC,+BAASA,KAAQS,OAAO,IAAIrB,EAAAA,EAAE,IAAMU,EAAE,SAAAE,GAAIA,EAAE+C,QAAQ,WAAW/C,EAAE+C,QAAQ/C,EAAE+C,OAAOR,OAAOvC,IAAIC,EAAE,SAAAD,GAAIA,EAAE+C,QAAF,UAAc,EAAKQ,WAAWvD,GAAG,cAAcA,EAAEK,MAAM,mBAAmBL,EAAEK,MAAMK,EAAEsC,MAAF,uBAAwBhD,EAAEiD,MAA1B,gBAAuCjD,EAAEkD,GAAzC,sBAAyDlD,EAAEK,KAA3D,+EAA6IlB,EAAE,SAAAa,GAAIA,EAAE+C,OAAO,KAAK,EAAKS,aAAaxD,IAAzW,OAA6W,EAAKS,OAAOoC,GAAG,cAAc,SAAA7C,GAAC,OAAEF,EAAEE,EAAE8C,SAAQ,EAAKrC,OAAOoC,GAAG,aAAa,SAAA7C,GAAC,OAAEC,EAAED,EAAE8C,SAAQ,EAAKrC,OAAOoC,GAAG,gBAAgB,SAAA7C,GAAC,OAAEb,EAAEa,EAAE8C,SAA1e,EAAlC,sCAAohB,WAAU,IAAD,EAAO9C,EAAEoB,KAAKX,OAAO0C,YAArB,UAAgDnD,GAAhD,IAAiC,gCAAUZ,EAAV,QAAiBgC,KAAKoC,aAAapE,GAAGA,EAAEgE,WAAzE,8BAAmFhC,KAAKX,OAAO2C,YAA5nB,kBAAsoB,SAAWpD,GAAGoB,KAAKU,KAAK,UAAShC,EAAAA,EAAAA,GAAEE,EAAEoB,KAAKW,KAAK,cAArrB,iBAAisB,SAAI/B,EAAEZ,GAAE,WAAOU,EAAEsB,KAAKX,OAAO,GAAGrB,EAAEU,EAAE2D,aAAarE,GAAGY,aAAad,EAAAA,EAAE,CAAC,IAAMe,EAAED,EAAEC,EAAE8C,SAAS3B,KAAKA,KAAKsC,QAAQzD,EAAEb,GAAGU,EAAE6D,IAAI1D,EAAEb,QAAQD,EAAAA,EAAAA,IAAEa,GAAGA,EAAE4D,MAAM,SAAA5D,GAAI,EAAK6D,WAAW,EAAKF,IAAI3D,EAAEZ,MAAMsB,EAAEsC,MAAM,SAAS,gFAAp4B,qBAAk9B,SAAQhD,EAAEZ,GAAE,WAAOU,EAAEsB,KAAKX,OAAOrB,EAAEU,EAAE2D,aAAarE,GAAGY,EAAE8D,QAAQjE,SAAS,SAAAG,GAAIA,EAAE+C,SAAS,GAAMjD,EAAE6D,IAAI3D,EAAEZ,GAAGA,GAAG,GAAG,EAAKsE,QAAQ1D,EAAEZ,QAA/kC,2BAAqlC,SAAcY,GAAG,OAAOM,EAAEc,KAAKX,OAAO,KAAKT,KAAhoC,4BAAmoC,SAAeA,GAAG,OAAOM,EAAEc,KAAKX,OAAO,MAAMT,KAAhrC,oBAAmrC,SAAOA,GAAG,OAAOoB,KAAKX,OAAO8B,OAAOvC,KAAvtC,wBAA0tC,SAAWA,GAAG,OAAOoB,KAAKX,OAAOsD,WAAW/D,KAAtwC,uBAAywC,WAAY,OAAOoB,KAAKX,OAAO0C,cAAxyC,qBAAozC,SAAQnD,EAAEZ,GAAG,OAAOgC,KAAKX,OAAOiD,QAAQ1D,EAAEZ,KAA91C,wBAAi2C,SAAWY,MAA52C,0BAAg3C,SAAaA,QAA73C,GAAeC,GAAo3C,OAAOD,EAAAA,EAAAA,GAAE,EAACV,EAAAA,EAAAA,OAAKG,EAAE4D,UAAU,SAAS,MAAM5D,GAAEO,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,GAAE,6BAA6BH,GEA1qCa,EAAEL,EAAAA,EAAAA,GAAEU,EAAAA,WAAy9DrB,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAKyB,EAAEwC,UAAU,kBAAa,IAAQ/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAAC4E,KAAK,CAACC,MAAK,EAAGC,MAAM,CAACC,cAAa,OAAQtD,EAAEwC,UAAU,cAAS,IAAQ/D,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,GAAE,WAAWiB,EAAEwC,UAAU,eAAe,OAAM/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACiB,KAAK,CAAC,iBAAiBQ,EAAEwC,UAAU,4BAAuB,IAAQ/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAAC4E,KAAK,CAACI,QAAQ,CAAC,eAAe,CAACH,MAAK,EAAGC,OAAM,QAASrD,EAAEwC,UAAU,aAAa,OAAM/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,OAAKyB,EAAEwC,UAAU,wBAAmB,IAAQ/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAAC4E,KAAK,CAACC,MAAK,GAAII,UAAS,EAAGC,MAAM,WAAWzD,EAAEwC,UAAU,YAAO,IAAQ/D,EAAAA,EAAAA,GAAE,EAACF,EAAAA,EAAAA,IAAE,CAACiB,KAAK,CAAC,cAAc,YAAY,aAAaiE,MAAM,cAAcN,KAAK,CAACE,OAAM,EAAGE,QAAQ,CAAC,UAAU,CAACH,MAAK,EAAGC,OAAM,QAASrD,EAAEwC,UAAU,iBAAiB,MAA2C,IAAMkB,EAA3C1D,GAAEvB,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,GAAE,2BAA2BoB,I,kHCAx2G1B,EAAE,IAAIqF,IAAI,CAAC,YAAY,UAAU,eAAe,YAAY,kBAAkB,OAAO,UAAU,cAAc,cAAc,WAAW,MAAM,SAAS/E,EAAE,IAAI+E,IAAI,CAAC,MAAM,UAAU,UAAU,UAAU,QAAQ,UAAU,eAAe,MAAM,YAAY,YAAY,cAAc,QAAQ,OAAO,UAAU,cAAc,cAAc,WAAW,MAAM,MAAM,SAAyL,SAAS3D,EAAEb,GAAG,QAAQ,YAAYA,EAAEK,MAAML,EAAEyE,MAAMzE,EAAE0E,QAAQ,WAAW1E,EAAE0E,OAAOrE,MAAM,SAASkE,EAAEvE,EAAEF,GAAG,GAAGA,EAAE6E,wBAAwB,CAAC,IAAMvF,EAApP,SAAWY,GAAG,MAAM,YAAYA,EAAE4E,mBAAmBzF,EAAE,uBAAuBa,EAAE4E,mBAAmBnF,EAAE,KAAiJF,CAAEO,GAAG,QAAOZ,EAAAA,EAAAA,IAAEE,IAAIA,EAAEyF,IAAI7E,EAAEK,QAAQQ,EAAEb,GAAG,OAAM,EAAmN,SAASM,EAAEN,EAAEF,GAAG,aAAaE,IAAIF,EAAEgF,UAASxF,EAAAA,EAAAA,GAAEU,EAAE8E,WAAW,aAAa9E,IAAIF,EAAEiF,UAASzF,EAAAA,EAAAA,GAAEU,EAAE+E,WAAW,SAASvF,EAAEQ,EAAEF,GAAG,GAAtU,SAAWE,EAAEF,GAAG,GAAGe,EAAEb,GAAG,CAAC,IAAMd,GAAEE,EAAAA,EAAAA,IAAE,2BAA2BU,GAAGR,EAAEJ,GAAGA,EAAE,IAAIA,EAAE,GAAG8F,gBAAgB1F,GAAGgB,EAAEN,EAAEV,OAAW,WAAWU,EAAEK,KAAMC,EAAEN,EAAEF,EAAEkF,gBAAgBlF,EAAEkF,iBAAiB,IAAQ,UAAUhF,EAAEK,MAAMC,EAAEN,EAAEF,GAA4Ha,CAAEX,EAAEF,GAAG,cAAcE,IAAIF,EAAEmF,UAAUjF,EAAEiF,UAAU,WAAWnF,EAAEmF,kBAAkBnF,EAAEmF,WAAWnF,EAAEoF,SAAQ5F,EAAAA,EAAAA,GAAEU,EAAEkF,SAASpF,EAAEmD,MAAMjD,EAAEiD,OAAO,QAAQnD,EAAEqF,WAAWnF,EAAEuB,QAAQ,kBAAkBvB,GAAG,SAASA,EAAEK,KAAK,GAAGQ,EAAEb,GAAG,CAAC,IAAMd,EAAEY,EAAEsF,kBAAkBlG,IAAIA,EAAEmG,WAAWrF,EAAEsF,oBAAoBxF,EAAEuF,WAAWrF,EAAEsF,cAAc,SAAS5E,EAAEtB,EAAEE,EAAEH,GAAG,KAAK,UAAUC,KAAKA,EAAE8E,MAAM,OAAO/E,GAAGA,EAAEoG,UAAUpG,EAAEoG,SAASxF,KAAK,IAAIC,EAAAA,EAAE,oBAAN,kBAAqCZ,EAAE6D,MAAvC,aAAiD7D,EAAE8D,GAAnD,sBAAmE9D,EAAEoG,cAArE,yBAA0G,CAACC,MAAMrG,KAAK,KAAK,GAAGmF,EAAEnF,EAAED,GAAG,CAAC,IAAMa,EAAE,GAAG,OAAOZ,EAAE8E,MAAMlE,EAAEb,GAAGa,EAAE,KAAK,OAAOd,EAAAA,EAAAA,IAAEI,IAAIE,EAAEJ,EAAEE,GAAEQ,EAAAA,EAAAA,IAAER,IAAIA","sources":["../node_modules/@arcgis/core/core/loadAll.js","../node_modules/@arcgis/core/support/LayersMixin.js","../node_modules/@arcgis/core/support/TablesMixin.js","../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/webdoc/support/writeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{map as o,result as r}from\"./asyncUtils.js\";import a from\"./Collection.js\";import t from\"./Loadable.js\";import{isNone as l}from\"./maybe.js\";async function n(o,r){return await o.load(),i(o,r)}async function i(n,i){const c=[],f=(...o)=>{for(const r of o)l(r)||(Array.isArray(r)?f(...r):a.isCollection(r)?r.forEach((o=>f(o))):t.isLoadable(r)&&c.push(r))};i(f);let e=null;if(await o(c,(async o=>{!1!==(await r(s(o)?o.loadAll():o.load())).ok||e||(e=o)})),e)throw e.loadError;return n}function s(o){return\"loadAll\"in o&&\"function\"==typeof o.loadAll}export{n as loadAll,i as loadAllChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function l(e){return e&&\"group\"===e.type}function d(e,r,t){let s,o;if(e)for(let i=0,a=e.length;i<a;i++){if(s=e.getItemAt(i),s[r]===t)return s;if(l(s)&&(o=d(s.layers,r,t),o))return o}}const y=s.getLogger(\"esri.support.LayersMixin\"),p=s=>{let l=class extends s{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},s=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||y.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},o=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on(\"before-add\",(e=>t(e.item))),this.layers.on(\"after-add\",(e=>s(e.item))),this.layers.on(\"after-remove\",(e=>o(e.item)))}destroy(){const e=this.layers.removeAll();for(const r of e)this.layerRemoved(r),r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):y.error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;r=t.getNextIndex(r),e.slice().forEach((e=>{e.parent!==this?(t.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([i()],l.prototype,\"layers\",null),l=e([a(\"esri.support.LayersMixin\")],l),l};export{p as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";const a=\"esri.support.TablesMixin\",n=s.getLogger(a);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=s=>{let l=class extends s{constructor(...t){super(...t),this.tables=new e,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&n.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(a)],l),l};export{c as TablesMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as b}from\"../support/TablesMixin.js\";import{getLayerJSON as v}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(b(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=v(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers,this.tables)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);const u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as t}from\"../../core/lang.js\";import{isSome as n}from\"../../core/maybe.js\";import{getDeepValue as r}from\"../../core/object.js\";import{numberToJSON as i}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";const o=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wms\",\"wmts\"]),l=new Set([\"csv\",\"feature\",\"geo-rss\",\"geojson\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"map-image\",\"map-notes\",\"ogc-feature\",\"route\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wfs\",\"wms\",\"wmts\"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function c(e){return\"basemap\"===e.layerContainerType?o:\"operational-layers\"===e.layerContainerType?l:null}function m(e){return!(\"feature\"!==e.type||e.url||!e.source||\"memory\"!==e.source.type)}function u(e,t){if(t.restrictedWebMapWriting){const r=c(t);return!n(r)||r.has(e.type)&&!m(e)}return!0}function p(e,t){if(m(e)){const n=r(\"featureCollection.layers\",t),i=n&&n[0]&&n[0].layerDefinition;i&&d(e,i)}else if(\"stream\"===e.type){d(e,t.layerDefinition=t.layerDefinition||{})}else\"group\"!==e.type&&d(e,t)}function d(e,t){\"maxScale\"in e&&(t.maxScale=i(e.maxScale)),\"minScale\"in e&&(t.minScale=i(e.minScale))}function f(e,t){if(p(e,t),\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=i(e.opacity),t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type)if(m(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(r,i,o){if(!(\"write\"in r)||!r.write)return o&&o.messages&&o.messages.push(new e(\"layer:unsupported\",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted`,{layer:r})),null;if(u(r,o)){const e={};return r.write(e,o)?e:null}return n(i)&&f(r,i=t(i)),i}export{s as disableRestrictedWriting,a as enableRestrictedWriting,y as getLayerJSON};\n"],"names":["n","o","r","load","i","c","f","l","Array","isArray","a","forEach","t","push","e","s","loadAll","ok","loadError","type","d","length","getItemAt","layers","y","p","tables","m","_visibilityHandles","fullExtent","operationalLayerType","spatialReference","_visibilityWatcher","bind","this","_enforceVisibility","visibilityMode","visible","watch","_visibleWatcher","v","webmap","getLayerJSONFromResourceInfo","layerType","_set","_get","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","_turnOffOtherLayers","uid","remove","initialized","find","_isAnyLayerVisible","some","h","on","item","parent","error","title","id","removeAll","destroy","prototype","b","layerAdded","layerRemoved","getNextIndex","reorder","add","then","destroyed","slice","removeMany","json","read","write","ignoreOrigin","origins","readOnly","value","u","Set","url","source","restrictedWebMapWriting","layerContainerType","has","maxScale","minScale","layerDefinition","blendMode","opacity","visibility","featureCollection","showLegend","legendEnabled","messages","declaredClass","layer"],"sourceRoot":""}