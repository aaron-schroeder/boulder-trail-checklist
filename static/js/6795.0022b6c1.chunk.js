"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6795],{16795:function(e,r,t){t.r(r),t.d(r,{default:function(){return q}});var n=t(15671),a=t(43144),i=t(60136),o=t(29388),s=t(27366),l=t(49861),u=(t(63780),t(93169),t(25243),t(69912)),p=t(1413),c=t(15861),f=t(87757),y=t(76200),v=t(43813),d=t(41862),g=t(69732),B=t(23084),Z=(t(59486),t(52639)),m=t(46784),b=t(92026),k=t(38511),_=t(78952),h=t(89677),P=t(7882),A=t(29909),S=t(80885),C=t(77981);function N(e){return e.features.map((function(r){var t=_.Z.fromJSON(e.spatialReference),n=Z.Z.fromJSON(r);return(0,b.Wg)(n.geometry).spatialReference=t,n}))}function O(e){return(0,b.lV)(e.features.map((function(r){return(0,b.pC)(r.geometry)&&(r.geometry.spatialReference=e.spatialReference),(0,C.im)(r.geometry)})))}var R=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).facilities=null,a.messages=null,a.pointBarriers=null,a.polylineBarriers=null,a.polygonBarriers=null,a.serviceAreaPolylines=null,a.serviceAreaPolygons=null,a}return(0,a.Z)(t,[{key:"readFacilities",value:function(e){return O(e)}},{key:"readPointBarriers",value:function(e,r){return O(r.barriers)}},{key:"readPolylineBarriers",value:function(e){return O(e)}},{key:"readPolygonBarriers",value:function(e){return O(e)}},{key:"readIncidents",value:function(e,r){return N(r.saPolylines)}},{key:"readServiceAreaPolygons",value:function(e,r){return N(r.saPolygons)}}]),t}(m.wq);(0,s._)([(0,l.Cb)({type:[P.Z]})],R.prototype,"facilities",void 0),(0,s._)([(0,k.r)("facilities")],R.prototype,"readFacilities",null),(0,s._)([(0,l.Cb)({type:[h.Z]})],R.prototype,"messages",void 0),(0,s._)([(0,l.Cb)({type:[P.Z]})],R.prototype,"pointBarriers",void 0),(0,s._)([(0,k.r)("pointBarriers",["barriers"])],R.prototype,"readPointBarriers",null),(0,s._)([(0,l.Cb)({type:[A.Z]})],R.prototype,"polylineBarriers",void 0),(0,s._)([(0,k.r)("polylineBarriers")],R.prototype,"readPolylineBarriers",null),(0,s._)([(0,l.Cb)({type:[S.Z]})],R.prototype,"polygonBarriers",void 0),(0,s._)([(0,k.r)("polygonBarriers")],R.prototype,"readPolygonBarriers",null),(0,s._)([(0,l.Cb)({type:[Z.Z]})],R.prototype,"serviceAreaPolylines",void 0),(0,s._)([(0,k.r)("serviceAreaPolylines",["saPolylines"])],R.prototype,"readIncidents",null),(0,s._)([(0,l.Cb)({type:[Z.Z]})],R.prototype,"serviceAreaPolygons",void 0),(0,s._)([(0,k.r)("serviceAreaPolygons",["saPolygons"])],R.prototype,"readServiceAreaPolygons",null);var w=R=(0,s._)([(0,u.j)("esri.rest.support.ServiceAreaSolveResult")],R),J=(0,v.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});function x(){return x=(0,c.Z)(f.mark((function e(r,t,n){var a,i,o,s,l,u,c,v,Z,m,b,k,_,h,P;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i=[],o={},s={},l=(0,B.en)(r),u=l.path,t.facilities&&t.facilities.features&&(0,g.et)(t.facilities.features,i,"facilities.features",o),t.pointBarriers&&t.pointBarriers.features&&(0,g.et)(t.pointBarriers.features,i,"pointBarriers.features",o),t.polylineBarriers&&t.polylineBarriers.features&&(0,g.et)(t.polylineBarriers.features,i,"polylineBarriers.features",o),t.polygonBarriers&&t.polygonBarriers.features&&(0,g.et)(t.polygonBarriers.features,i,"polygonBarriers.features",o),e.next=4,(0,d.aX)(i);case 4:for(v in c=e.sent,o)Z=o[v],a.push(v),s[v]=c.slice(Z[0],Z[1]);if(!(0,g.Wf)(s,a)){e.next=17;break}return m=null,e.prev=8,e.next=11,(0,g.bI)(u,t.apiKey,n);case 11:m=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:m&&!m.hasZ&&(0,g.ef)(s,a);case 17:for(k in b=function(e){s[e].forEach((function(r,n){t.get(e)[n].geometry=r}))},s)b(k);return _=(0,p.Z)((0,p.Z)({},n),{},{query:(0,p.Z)((0,p.Z)((0,p.Z)({},l.query),J.toQueryParams(t)),{},{f:"json"})}),e.next=22,(0,y.default)("".concat(u,"/solveServiceArea"),_);case 22:return h=e.sent,P=h.data,e.abrupt("return",w.fromJSON(P));case 25:case"end":return e.stop()}}),e,null,[[8,14]])}))),x.apply(this,arguments)}var j=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(e){var a;return(0,n.Z)(this,t),(a=r.call(this,e)).url=null,a}return(0,a.Z)(t,[{key:"solve",value:function(e,r){return function(e,r,t){return x.apply(this,arguments)}(this.url,e,r)}}]),t}(t(4338).Z);(0,s._)([(0,l.Cb)()],j.prototype,"url",void 0);var q=j=(0,s._)([(0,u.j)("esri.tasks.ServiceAreaTask")],j)},4338:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(1413),a=t(15671),i=t(43144),o=t(60136),s=t(29388),l=t(27366),u=t(85015),p=t(35995),c=t(49861),f=(t(63780),t(93169),t(25243),t(69912)),y=function(e){(0,o.Z)(t,e);var r=(0,s.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=r.call.apply(r,[this].concat(i))).requestOptions=null,e.url=null,e}return(0,i.Z)(t,[{key:"normalizeCtorArgs",value:function(e,r){return"string"!=typeof e?e:(0,n.Z)({url:e},r)}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}},{key:"_parseUrl",value:function(e){return e?(0,p.mN)(e):null}},{key:"_encode",value:function(e,r,t){var n={};for(var a in e)if("declaredClass"!==a){var i=e[a];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){n[a]=[];for(var o=0;o<i.length;o++)n[a][o]=this._encode(i[o])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(t&&t[a]);n[a]=r?s:JSON.stringify(s)}else n[a]=r?i:JSON.stringify(i);else n[a]=i}return n}}]),t}(u.Z);(0,l._)([(0,c.Cb)({readOnly:!0})],y.prototype,"parsedUrl",null),(0,l._)([(0,c.Cb)()],y.prototype,"requestOptions",void 0),(0,l._)([(0,c.Cb)({type:String})],y.prototype,"url",void 0);var v=y=(0,l._)([(0,f.j)("esri.tasks.Task")],y)}}]);
//# sourceMappingURL=6795.0022b6c1.chunk.js.map