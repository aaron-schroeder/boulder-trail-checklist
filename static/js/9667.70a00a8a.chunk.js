"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9667],{79347:function(e,t,r){r.d(t,{e:function(){return s}});var n,o,a,i={exports:{}};n=i,o=function(){function e(e,r,o){o=o||2;var a,i,s,l,c,f,p,h=r&&r.length,v=h?r[0]*o:e.length,g=t(e,0,v,o,!0),y=[];if(!g||g.next===g.prev)return y;if(h&&(g=u(e,r,g,o)),e.length>80*o){a=s=e[0],i=l=e[1];for(var d=o;d<v;d+=o)(c=e[d])<a&&(a=c),(f=e[d+1])<i&&(i=f),c>s&&(s=c),f>l&&(l=f);p=0!==(p=Math.max(s-a,l-i))?1/p:0}return n(g,y,o,a,i,p),y}function t(e,t,r,n,o){var a,i;if(o===_(e,t,r,n)>0)for(a=t;a<r;a+=n)i=T(a,e[a],e[a+1],i);else for(a=r-n;a>=t;a-=n)i=T(a,e[a],e[a+1],i);if(i&&x(i,i.next)){var s=i.next;M(i),i=s}return i}function r(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!x(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{var o=n.prev;if(M(n),(n=t=o)===n.next)break;r=!0}}while(r||n!==t);return t}function n(e,t,u,l,c,f,p){if(e){!p&&f&&h(e,l,c,f);for(var v,g,y=e;e.prev!==e.next;)if(v=e.prev,g=e.next,f?a(e,l,c,f):o(e))t.push(v.i/u),t.push(e.i/u),t.push(g.i/u),M(e),e=g.next,y=g.next;else if((e=g)===y){p?1===p?n(e=i(r(e),t,u),t,u,l,c,f,2):2===p&&s(e,t,u,l,c,f):n(r(e),t,u,l,c,f,1);break}}}function o(e){var t=e.prev,r=e,n=e.next;if(m(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(y(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&m(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(e,t,r,n){var o=e.prev,a=e,i=e.next;if(m(o,a,i)>=0)return!1;for(var s=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,u=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,l=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,c=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,f=v(s,u,t,r,n),p=v(l,c,t,r,n),h=e.prevZ,g=e.nextZ;h&&h.z>=f&&g&&g.z<=p;){if(h!==e.prev&&h!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,h.x,h.y)&&m(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,g!==e.prev&&g!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,h.x,h.y)&&m(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=p;){if(g!==e.prev&&g!==e.next&&y(o.x,o.y,a.x,a.y,i.x,i.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function i(e,t,n){var o=e;do{var a=o.prev,i=o.next.next;!x(a,i)&&w(a,o,o.next,i)&&A(a,i)&&A(i,a)&&(t.push(a.i/n),t.push(o.i/n),t.push(i.i/n),M(o),M(o.next),o=e=i),o=o.next}while(o!==e);return r(o)}function s(e,t,o,a,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&d(u,l)){var c=Z(u,l);return u=r(u,u.next),c=r(c,c.next),n(u,t,o,a,i,s),void n(c,t,o,a,i,s)}l=l.next}u=u.next}while(u!==e)}function u(e,n,o,a){var i,s,u,c=[];for(i=0,s=n.length;i<s;i++)(u=t(e,n[i]*a,i<s-1?n[i+1]*a:e.length,a,!1))===u.next&&(u.steiner=!0),c.push(g(u));for(c.sort(l),i=0;i<c.length;i++)o=r(o=f(c[i],o),o.next);return o}function l(e,t){return e.x-t.x}function c(e){if(e.next.prev===e)return e;for(var t=e;;){var r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function f(e,t){var n=function(e,t){var r,n=t,o=e.x,a=e.y,i=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>i){if(i=s,s===o){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===i)return r;var u,l=r,c=r.x,f=r.y,h=1/0;n=r;do{o>=n.x&&n.x>=c&&o!==n.x&&y(a<f?o:i,a,c,f,a<f?i:o,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(o-n.x),A(n,e)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&p(r,n)))&&(r=n,h=u)),n=n.next}while(n!==l);return r}(e,t);if(!n)return t;var o=Z(n,e),a=r(n,n.next),i=c(o);return r(i,i.next),a=c(a),c(t===n?a:t)}function p(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function h(e,t,r,n){var o=e;do{null===o.z&&(o.z=v(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,a,i,s,u,l=1;do{for(r=e,e=null,a=null,i=0;r;){for(i++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),a?a.nextZ=o:e=o,o.prevZ=a,a=o;r=n}a.nextZ=null,l*=2}while(i>1)}(o)}function v(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function g(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function y(e,t,r,n,o,a,i,s){return(o-i)*(t-s)-(e-i)*(a-s)>=0&&(e-i)*(n-s)-(r-i)*(t-s)>=0&&(r-i)*(a-s)-(o-i)*(n-s)>=0}function d(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&w(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(A(e,t)&&A(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&o<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||x(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function w(e,t,r,n){var o=C(m(e,t,r)),a=C(m(e,t,n)),i=C(m(r,n,e)),s=C(m(r,n,t));return o!==a&&i!==s||!(0!==o||!b(e,r,t))||!(0!==a||!b(e,n,t))||!(0!==i||!b(r,e,n))||!(0!==s||!b(r,t,n))}function b(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function C(e){return e>0?1:e<0?-1:0}function A(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function Z(e,t){var r=new F(e.i,e.x,e.y),n=new F(t.i,t.x,t.y),o=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function T(e,t,r,n){var o=new F(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function F(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(e,t,r,n){for(var o=0,a=t,i=r-n;a<r;a+=n)o+=(e[i]-e[a])*(e[a+1]+e[i+1]),i=a;return o}return e.deviation=function(e,t,r,n){var o=t&&t.length,a=o?t[0]*r:e.length,i=Math.abs(_(e,0,a,r));if(o)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;i-=Math.abs(_(e,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var p=n[s]*r,h=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((e[p]-e[v])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[v+1]-e[p+1]))}return 0===i&&0===f?0:Math.abs((f-i)/i)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var a=0;a<e[o].length;a++)for(var i=0;i<t;i++)r.vertices.push(e[o][a][i]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r},e},void 0!==(a=o())&&(n.exports=a);var s=i.exports},64995:function(e,t,r){r.d(t,{Z:function(){return b}});var n,o=r(15671),a=r(43144),i=r(60136),s=r(29388),u=r(27366),l=r(46784),c=r(84652),f=r(32718),p=r(49861),h=r(89125),v=r(69912),g=r(25243),y=r(10891),d=r(53942),m=r(27474),x=f.Z.getLogger("esri.geometry.support.MeshComponent"),w=n=function(e){(0,i.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).faces=null,n.material=null,n.shading="source",n.trustSourceNormals=!1,n}return(0,a.Z)(r,[{key:"castFaces",value:function(e){return(0,m.X)(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},x)}},{key:"castMaterial",value:function(e){return(0,g.TJ)(e&&"object"==typeof e&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?d.Z:y.Z,e)}},{key:"clone",value:function(){return new n({faces:(0,c.d9)(this.faces),shading:this.shading,material:(0,c.d9)(this.material),trustSourceNormals:this.trustSourceNormals})}},{key:"cloneWithDeduplication",value:function(e,t){var r={faces:(0,c.d9)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals};return new n(r)}}],[{key:"from",value:function(e){return(0,g.TJ)(n,e)}}]),r}(l.wq);(0,u._)([(0,p.Cb)({json:{write:!0}})],w.prototype,"faces",void 0),(0,u._)([(0,h.p)("faces")],w.prototype,"castFaces",null),(0,u._)([(0,p.Cb)({type:y.Z,json:{write:!0}})],w.prototype,"material",void 0),(0,u._)([(0,h.p)("material")],w.prototype,"castMaterial",null),(0,u._)([(0,p.Cb)({type:String,json:{write:!0}})],w.prototype,"shading",void 0),(0,u._)([(0,p.Cb)({type:Boolean})],w.prototype,"trustSourceNormals",void 0);var b=w=n=(0,u._)([(0,v.j)("esri.geometry.support.MeshComponent")],w)},10891:function(e,t,r){r.d(t,{Z:function(){return y}});var n,o=r(15671),a=r(43144),i=r(60136),s=r(29388),u=r(27366),l=r(51995),c=r(46784),f=r(92026),p=r(49861),h=(r(63780),r(93169),r(25243),r(69912)),v=r(22736),g=n=function(e){(0,i.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).color=null,n.colorTexture=null,n.normalTexture=null,n.alphaMode="auto",n.alphaCutoff=.5,n.doubleSided=!0,n}return(0,a.Z)(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=(0,f.pC)(e)?e.get(this):null;if(r)return r;var o=new n(this.clonePropertiesWithDeduplication(t));return(0,f.pC)(e)&&e.set(this,o),o}},{key:"clonePropertiesWithDeduplication",value:function(e){return{color:(0,f.pC)(this.color)?this.color.clone():null,colorTexture:(0,f.pC)(this.colorTexture)?this.colorTexture.cloneWithDeduplication(e):null,normalTexture:(0,f.pC)(this.normalTexture)?this.normalTexture.cloneWithDeduplication(e):null,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided}}}]),r}(c.wq);(0,u._)([(0,p.Cb)({type:l.Z,json:{write:!0}})],g.prototype,"color",void 0),(0,u._)([(0,p.Cb)({type:v.Z,json:{write:!0}})],g.prototype,"colorTexture",void 0),(0,u._)([(0,p.Cb)({type:v.Z,json:{write:!0}})],g.prototype,"normalTexture",void 0),(0,u._)([(0,p.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"alphaMode",void 0),(0,u._)([(0,p.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"alphaCutoff",void 0),(0,u._)([(0,p.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"doubleSided",void 0);var y=g=n=(0,u._)([(0,h.j)("esri.geometry.support.MeshMaterial")],g)},53942:function(e,t,r){r.d(t,{Z:function(){return x}});var n,o=r(1413),a=r(15671),i=r(43144),s=r(11752),u=r(61120),l=r(60136),c=r(29388),f=r(27366),p=r(51995),h=r(92026),v=r(49861),g=(r(63780),r(93169),r(25243),r(69912)),y=r(10891),d=r(22736),m=n=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).emissiveColor=null,n.emissiveTexture=null,n.occlusionTexture=null,n.metallic=1,n.roughness=1,n.metallicRoughnessTexture=null,n}return(0,i.Z)(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=(0,h.pC)(e)?e.get(this):null;if(r)return r;var o=new n(this.clonePropertiesWithDeduplication(t));return(0,h.pC)(e)&&e.set(this,o),o}},{key:"clonePropertiesWithDeduplication",value:function(e){return(0,o.Z)((0,o.Z)({},(0,s.Z)((0,u.Z)(r.prototype),"clonePropertiesWithDeduplication",this).call(this,e)),{},{emissiveColor:(0,h.pC)(this.emissiveColor)?this.emissiveColor.clone():null,emissiveTexture:(0,h.pC)(this.emissiveTexture)?this.emissiveTexture.cloneWithDeduplication(e):null,occlusionTexture:(0,h.pC)(this.occlusionTexture)?this.occlusionTexture.cloneWithDeduplication(e):null,metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:(0,h.pC)(this.metallicRoughnessTexture)?this.metallicRoughnessTexture.cloneWithDeduplication(e):null})}}]),r}(y.Z);(0,f._)([(0,v.Cb)({type:p.Z,json:{write:!0}})],m.prototype,"emissiveColor",void 0),(0,f._)([(0,v.Cb)({type:d.Z,json:{write:!0}})],m.prototype,"emissiveTexture",void 0),(0,f._)([(0,v.Cb)({type:d.Z,json:{write:!0}})],m.prototype,"occlusionTexture",void 0),(0,f._)([(0,v.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],m.prototype,"metallic",void 0),(0,f._)([(0,v.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],m.prototype,"roughness",void 0),(0,f._)([(0,v.Cb)({type:d.Z,json:{write:!0}})],m.prototype,"metallicRoughnessTexture",void 0);var x=m=n=(0,f._)([(0,g.j)("esri.geometry.support.MeshMaterialMetallicRoughness")],m)},22736:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(15671),o=r(43144),a=r(60136),i=r(29388),s=r(27366),u=(r(93169),r(46784)),l=r(49861),c=(r(63780),r(25243)),f=r(38511),p=r(69912),h=r(31201),v=r(53283);r(16889);function g(e,t,r){return r||(y||((y=document.createElement("canvas")).width=1,y.height=1),r=y),r.getContext("2d").createImageData(e,t)}var y=null,d=!0;var m,x=new WeakMap,w=0,b=m=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(e){var o;return(0,n.Z)(this,r),(o=t.call(this,e)).wrap="repeat",o}return(0,o.Z)(r,[{key:"url",get:function(){return this._get("url")||null},set:function(e){this._set("url",e),e&&this._set("data",null)}},{key:"data",get:function(){return this._get("data")||null},set:function(e){this._set("data",e),e&&this._set("url",null)}},{key:"writeData",value:function(e,t,r,n){if(e instanceof HTMLImageElement){var o={type:"image-element",src:(0,v.t)(e.src,n),crossOrigin:e.crossOrigin};t[r]=o}else if(e instanceof HTMLCanvasElement){var a=e.getContext("2d").getImageData(0,0,e.width,e.height),i={type:"canvas-element",imageData:this._encodeImageData(a)};t[r]=i}else if(e instanceof HTMLVideoElement){var s={type:"video-element",src:(0,v.t)(e.src,n),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[r]=s}else{var u={type:"image-data",imageData:this._encodeImageData(e)};t[r]=u}}},{key:"readData",value:function(e){switch(e.type){case"image-element":var t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t;case"canvas-element":var r=this._decodeImageData(e.imageData),n=document.createElement("canvas");return n.width=r.width,n.height=r.height,n.getContext("2d").putImageData(r,0,0),n;case"image-data":return this._decodeImageData(e.imageData);case"video-element":var o=document.createElement("video");return o.src=e.src,o.crossOrigin=e.crossOrigin,o.autoplay=e.autoplay,o.loop=e.loop,o.muted=e.muted,o.preload=e.preload,o;default:return}}},{key:"transparent",get:function(){var e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this._imageDataContainsTransparent(e);if(t){var r=t.substr(t.length-4,4).toLowerCase(),n=t.substr(0,15).toLocaleLowerCase();if(".png"===r||"data:image/png;"===n)return!0}return!1},set:function(e){null!=e?this._override("transparent",e):this._clearOverride("transparent")}},{key:"contentHash",get:function(){var e=this,t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"d:".concat(r,",t:").concat(e.transparent,",w:").concat(t)};return null!=this.url?r(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?r(this.data.src):(x.has(this.data)||x.set(this.data,++w),r(x.get(this.data))):r()}},{key:"clone",value:function(){var e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new m(e)}},{key:"cloneWithDeduplication",value:function(e){var t=e.get(this);if(t)return t;var r=this.clone();return e.set(this,r),r}},{key:"_cloneWrap",value:function(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}},{key:"_encodeImageData",value:function(e){for(var t="",r=0;r<e.data.length;r++)t+=String.fromCharCode(e.data[r]);return{data:btoa(t),width:e.width,height:e.height}}},{key:"_decodeImageData",value:function(e){for(var t=atob(e.data),r=new Uint8ClampedArray(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return function(e,t,r,n){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(d)try{return new ImageData(e,t,r)}catch(a){d=!1}var o=g(t,r,n);return o.data.set(e,0),o}(r,e.width,e.height)}},{key:"_imageDataContainsTransparent",value:function(e){for(var t=3;t<e.data.length;t+=4)if(255!==e.data[t])return!0;return!1}}],[{key:"from",value:function(e){return"string"==typeof e?new m({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new m({data:e}):(0,c.TJ)(m,e)}}]),r}(u.wq);(0,s._)([(0,l.Cb)({type:String,json:{write:v.w}})],b.prototype,"url",null),(0,s._)([(0,l.Cb)({json:{write:{overridePolicy:function(){return{enabled:!this.url}}}}}),(0,l.Cb)()],b.prototype,"data",null),(0,s._)([(0,h.c)("data")],b.prototype,"writeData",null),(0,s._)([(0,f.r)("data")],b.prototype,"readData",null),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:{overridePolicy:function(){return{enabled:this._isOverridden("transparent")}}}}})],b.prototype,"transparent",null),(0,s._)([(0,l.Cb)({json:{write:!0}})],b.prototype,"wrap",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],b.prototype,"contentHash",null);var C=b=m=(0,s._)([(0,p.j)("esri.geometry.support.MeshTexture")],b)},76046:function(e,t,r){r.d(t,{Z:function(){return M}});var n,o=r(70885),a=r(15671),i=r(43144),s=r(60136),u=r(29388),l=r(27366),c=r(46784),f=r(92026),p=r(49861),h=(r(63780),r(93169),r(25243),r(69912)),v=r(14226),g=r(81949),y=r(11186),d=r(71353),m=r(7882),x=r(52587),w=r(92183),b=r(45238),C=r(25158),A=r(32035),Z=r(92770),T=n=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).origin=(0,d.c)(),n.translation=(0,d.c)(),n.rotation=(0,b.Ue)(),n.scale=(0,d.f)(1,1,1),n.geographic=!0,n}return(0,i.Z)(r,[{key:"localMatrix",get:function(){var e=(0,g.c)();return(0,v.u)(e,this.scale),(0,v.e)(e,e,(0,b.WH)(this.rotation),(0,b.ZZ)(this.rotation)),(0,v.j)(e,e,this.translation),e}},{key:"localMatrixInverse",get:function(){return(0,v.a)((0,g.c)(),this.localMatrix)}},{key:"applyLocal",value:function(e,t){return(0,y.m)(t,e,this.localMatrix)}},{key:"applyLocalInverse",value:function(e,t){return(0,y.m)(t,e,this.localMatrixInverse)}},{key:"project",value:function(e,t){var r=new Float64Array(e.length),n=C.fP.fromTypedArray(r),o=C.fP.fromTypedArray(e);if(this.geographic){var a=(0,w.rS)(t),i=(0,g.c)();return(0,x.Bm)(t,this.origin,i,a),(0,v.m)(i,i,this.localMatrix),(0,A.t)(n,o,i),(0,x.CM)(r,a,0,r,t,0,r.length/3),r}var s=this.localMatrix,u=this.origin;(0,v.v)(s,g.I)?(0,Z.c)(n,o):(0,A.t)(n,o,s);for(var l=0;l<r.length;l+=3)r[l+0]+=u[0],r[l+1]+=u[1],r[l+2]+=u[2];return r}},{key:"getOriginPoint",value:function(e){var t=(0,o.Z)(this.origin,3),r=t[0],n=t[1],a=t[2];return new m.Z({x:r,y:n,z:a,spatialReference:e})}},{key:"equals",value:function(e){return(0,f.pC)(e)&&this.geographic===e.geographic&&(0,y.k)(this.origin,e.origin)&&(0,v.w)(this.localMatrix,e.localMatrix)}},{key:"clone",value:function(){var e={origin:(0,d.a)(this.origin),translation:(0,d.a)(this.translation),rotation:(0,b.Ue)(this.rotation),scale:(0,d.a)(this.scale),geographic:this.geographic};return new n(e)}}]),r}(c.wq);(0,l._)([(0,p.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],T.prototype,"origin",void 0),(0,l._)([(0,p.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],T.prototype,"translation",void 0),(0,l._)([(0,p.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],T.prototype,"rotation",void 0),(0,l._)([(0,p.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],T.prototype,"scale",void 0),(0,l._)([(0,p.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],T.prototype,"geographic",void 0),(0,l._)([(0,p.Cb)()],T.prototype,"localMatrix",null),(0,l._)([(0,p.Cb)()],T.prototype,"localMatrixInverse",null);var M=T=n=(0,l._)([(0,h.j)("esri.geometry.support.MeshTransform")],T)},27474:function(e,t,r){r.d(t,{Q:function(){return d},X:function(){return x}});var n,o=r(37762),a=r(15671),i=r(43144),s=r(60136),u=r(29388),l=r(27366),c=r(46784),f=r(84652),p=r(32718),h=r(49861),v=r(89125),g=r(69912),y=p.Z.getLogger("esri.geometry.support.MeshVertexAttributes"),d=n=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).color=null,n.position=new Float64Array(0),n.uv=null,n.normal=null,n.tangent=null,n}return(0,i.Z)(r,[{key:"castColor",value:function(e){return x(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},y)}},{key:"castPosition",value:function(e){return e&&e instanceof Float32Array&&y.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),x(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},y)}},{key:"castUv",value:function(e){return x(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},y)}},{key:"castNormal",value:function(e){return x(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},y)}},{key:"castTangent",value:function(e){return x(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},y)}},{key:"clone",value:function(){var e={position:(0,f.d9)(this.position),uv:(0,f.d9)(this.uv),normal:(0,f.d9)(this.normal),tangent:(0,f.d9)(this.tangent),color:(0,f.d9)(this.color)};return new n(e)}},{key:"clonePositional",value:function(){var e={position:(0,f.d9)(this.position),normal:(0,f.d9)(this.normal),tangent:(0,f.d9)(this.tangent),uv:this.uv,color:this.color};return new n(e)}}]),r}(c.wq);function m(e,t,r,n){var o=t.loggerTag,a=t.stride;return e.length%a!=0?(n.error(o,"Invalid array length, expected a multiple of ".concat(a)),new r([])):e}function x(e,t,r,n,a){if(!e)return e;if(e instanceof t)return m(e,n,t,a);var i,s=(0,o.Z)(r);try{for(s.s();!(i=s.n()).done;){if(e instanceof i.value)return m(new t(e),n,t,a)}}catch(l){s.e(l)}finally{s.f()}if(Array.isArray(e))return m(new t(e),n,t,a);var u=r.map((function(e){return"'".concat(e.name,"'")}));return a.error("Failed to set property, expected one of ".concat(u,", but got ").concat(e.constructor.name)),new t([])}function w(e,t,r){t[r]=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}(e)}(0,l._)([(0,h.Cb)({json:{write:w}})],d.prototype,"color",void 0),(0,l._)([(0,v.p)("color")],d.prototype,"castColor",null),(0,l._)([(0,h.Cb)({nonNullable:!0,json:{write:w}})],d.prototype,"position",void 0),(0,l._)([(0,v.p)("position")],d.prototype,"castPosition",null),(0,l._)([(0,h.Cb)({json:{write:w}})],d.prototype,"uv",void 0),(0,l._)([(0,v.p)("uv")],d.prototype,"castUv",null),(0,l._)([(0,h.Cb)({json:{write:w}})],d.prototype,"normal",void 0),(0,l._)([(0,v.p)("normal")],d.prototype,"castNormal",null),(0,l._)([(0,h.Cb)({json:{write:w}})],d.prototype,"tangent",void 0),(0,l._)([(0,v.p)("tangent")],d.prototype,"castTangent",null),d=n=(0,l._)([(0,g.j)("esri.geometry.support.MeshVertexAttributes")],d)},45238:function(e,t,r){r.d(t,{Ue:function(){return s},WH:function(){return f},ZZ:function(){return c},qC:function(){return l},uT:function(){return u}});var n=r(16889),o=r(48976),a=r(98131),i=r(11186);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return[e[0],e[1],e[2],e[3]]}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,i.g)(r,e),r[3]=t,r}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,o.s)(v,e,f(e)),(0,o.s)(g,t,f(t)),(0,o.m)(v,g,v),p(r,(0,n.BV)((0,o.g)(r,v)))}function c(e){return e}function f(e){return(0,n.Vl)(e[3])}function p(e,t){return e[3]=t,e}var h=[0,0,1,0],v=(0,a.a)(),g=(0,a.a)();s()},35888:function(e,t,r){r.d(t,{d:function(){return o}});var n=r(16889);function o(e,t,r){var o,l=e.byteLength/(4*t),c=new Uint32Array(e,0,l*t),f=new Uint32Array(l),p=null!=(o=null==r?void 0:r.minReduction)?o:0,h=(null==r?void 0:r.originalIndices)||null,v=h?h.length:0,g=(null==r?void 0:r.componentOffsets)||null,y=0;if(g)for(var d=0;d<g.length-1;d++){var m=g[d+1]-g[d];m>y&&(y=m)}else y=l;var x=Math.floor(1.1*y)+1;(null==u||u.length<2*x)&&(u=new Uint32Array((0,n.Sf)(2*x)));for(var w=0;w<2*x;w++)u[w]=0;for(var b=0,C=!!g&&!!h,A=C?v:l,Z=C?new Uint32Array(v):null,T=1.96,M=0!==p?Math.ceil(4*T*T/(p*p)*p*(1-p)):A,F=1,_=g?g[1]:A,P=0;P<A;P++){if(P===M){var k=1-b/P;if(k+T*Math.sqrt(k*(1-k)/P)<p)return null;M*=2}if(P===_){for(var R=0;R<2*x;R++)u[R]=0;if(h)for(var E=g[F-1];E<g[F];E++)Z[E]=f[h[E]];_=g[++F]}for(var O=C?h[P]:P,I=O*t,L=s(c,I,t),D=L%x,S=b;0!==u[2*D+1];){if(u[2*D]===L){var z=u[2*D+1]-1;if(a(c,I,z*t,t)){S=f[z];break}}++D>=x&&(D-=x)}S===b&&(u[2*D]=L,u[2*D+1]=O+1,b++),f[O]=S}if(0!==p&&1-b/l<p)return null;if(C){for(var N=g[F-1];N<Z.length;N++)Z[N]=f[h[N]];f=Z}var j=new Uint32Array(t*b);b=0;for(var W=0;W<A;W++)f[W]===b&&(i(c,(C?h[W]:W)*t,j,b*t,t),b++);if(h&&!C){for(var U=new Uint32Array(v),B=0;B<U.length;B++)U[B]=f[h[B]];f=U}return{buffer:j.buffer,indices:f,uniqueCount:b}}function a(e,t,r,n){for(var o=0;o<n;o++)if(e[t+o]!==e[r+o])return!1;return!0}function i(e,t,r,n,o){for(var a=0;a<o;a++)r[n+a]=e[t+a]}function s(e,t,r){for(var n=0,o=0;o<r;o++)n=(n=e[t+o]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}var u=null},26548:function(e,t,r){function n(e,t){var r;return e.isGeographic||e.isWebMercator&&(null==(r=null==t?void 0:t.geographic)||r)}r.d(t,{h:function(){return n}})},57898:function(e,t,r){r.d(t,{FF:function(){return x},I5:function(){return d},Yq:function(){return w},iv:function(){return y},w1:function(){return m}});var n=r(92026),o=r(68860),a=r(11873),i=r(14226),s=r(81949),u=r(22753),l=r(52587),c=r(92183),f=r(76046),p=r(25158),h=r(32035),v=r(26548),g=r(11700);function y(e,t,r){return(0,v.h)(t.spatialReference,r)?function(e,t,r){var n=t.spatialReference,o=T(t,r,P),a=new Float64Array(e.position.length),i=function(e,t,r,n){(0,h.t)(p.fP.fromTypedArray(n),p.fP.fromTypedArray(e),t);var o=new Float64Array(e.length);return(0,g.To)(n,o,r)}(e.position,o,n,a),s=(0,u.a)(R,o);return{position:i,normal:b(i,a,e.normal,s,n),tangent:C(i,a,e.tangent,s,n)}}(e,t,r):function(e,t,r){for(var n=new Float64Array(e.position.length),o=e.position,a=t.x,i=t.y,s=t.z||0,u=_(r?r.unit:null,t.spatialReference),l=u.horizontal,c=u.vertical,f=0;f<o.length;f+=3)n[f+0]=o[f+0]*l+a,n[f+1]=o[f+1]*l+i,n[f+2]=o[f+2]*c+s;return{position:n,normal:e.normal,tangent:e.tangent}}(e,t,r)}function d(e,t,r){var o=e.position,a=e.normal,i=e.tangent;if((0,n.Wi)(t))return{position:o,normal:a,tangent:i};var s=t.localMatrix;return y({position:(0,g.zZ)(o,new Float64Array(o.length),s),normal:(0,n.pC)(a)?(0,g.w9)(a,new Float32Array(a.length),s):null,tangent:(0,n.pC)(i)?(0,g.VS)(i,new Float32Array(i.length),s):null},t.getOriginPoint(r),{geographic:t.geographic})}function m(e,t,r){var n;return null!=r&&r.useTransform?{vertexAttributes:{position:e.position,normal:e.normal,tangent:e.tangent},transform:new f.Z({origin:[t.x,t.y,null!=(n=t.z)?n:0],geographic:(0,v.h)(t.spatialReference,r)})}:{vertexAttributes:y(e,t,r),transform:null}}function x(e,t,r){return(0,v.h)(t.spatialReference,r)?Z(e,t,r):A(e,t,r)}function w(e,t,r,o){if((0,n.Wi)(t))return x(e,r,o);var a=d(e,t,r.spatialReference);return r.equals(t.getOriginPoint(r.spatialReference))?A(a,r,o):(0,v.h)(r.spatialReference,o)?Z(a,r,o):A(a,r,o)}function b(e,t,r,o,a){if((0,n.Wi)(r))return null;var i=new Float32Array(r.length);return(0,h.a)(p.ct.fromTypedArray(i),p.ct.fromTypedArray(r),o),(0,g.Yk)(i,e,t,a,i),i}function C(e,t,r,o,a){if((0,n.Wi)(r))return null;var i=new Float32Array(r.length);(0,h.a)(p.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT),p.ct.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),o);for(var s=3;s<i.length;s+=4)i[s]=r[s];return(0,g.M2)(i,e,t,a,i),i}function A(e,t,r){for(var n=new Float64Array(e.position.length),o=e.position,a=t.x,i=t.y,s=t.z||0,u=_(r?r.unit:null,t.spatialReference),l=u.horizontal,c=u.vertical,f=0;f<o.length;f+=3)n[f+0]=(o[f+0]-a)/l,n[f+1]=(o[f+1]-i)/l,n[f+2]=(o[f+2]-s)/c;return{position:n,normal:e.normal,tangent:e.tangent}}function Z(e,t,r){var n=t.spatialReference;T(t,r,P);var o=(0,i.a)(k,P),a=new Float64Array(e.position.length),s=function(e,t,r,n){var o=(0,g.XO)(e,t,n),a=p.fP.fromTypedArray(o),i=new Float64Array(o.length),s=p.fP.fromTypedArray(i);return(0,h.t)(s,a,r),i}(e.position,n,o,a),l=(0,u.a)(R,o);return{position:s,normal:M(e.normal,e.position,a,n,l),tangent:F(e.tangent,e.position,a,n,l)}}function T(e,t,r){(0,l.Bm)(e.spatialReference,[e.x,e.y,e.z||0],r,(0,c.rS)(e.spatialReference));var n=_(t?t.unit:null,e.spatialReference),o=n.horizontal,a=n.vertical;return(0,i.h)(r,r,[o,o,a]),r}function M(e,t,r,o,a){if((0,n.Wi)(e))return null;var i=(0,g.Iz)(e,t,r,o,new Float32Array(e.length)),s=p.ct.fromTypedArray(i);return(0,h.a)(s,s,a),i}function F(e,t,r,o,a){if((0,n.Wi)(e))return null;var i=(0,g.wi)(e,t,r,o,new Float32Array(e.length)),s=p.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT);return(0,h.a)(s,s,a),i}function _(e,t){if((0,n.Wi)(e))return E;var r=t.isGeographic?1:(0,o.Z7)(t),a=t.isGeographic?1:(0,o._R)(t),i=(0,o.En)(1,e,"meters");return{horizontal:i*r,vertical:i*a}}var P=(0,s.c)(),k=(0,s.c)(),R=(0,a.c)(),E={horizontal:1,vertical:1}},11700:function(e,t,r){r.d(t,{Iz:function(){return x},M2:function(){return F},To:function(){return C},VS:function(){return T},XO:function(){return b},Yk:function(){return w},w9:function(){return Z},wi:function(){return M},zZ:function(){return A}});var n,o,a=r(32718),i=r(92026),s=r(22753),u=r(11873),l=r(81949),c=r(11186),f=r(71353),p=r(52587),h=r(92183),v=r(92975),g=r(81753),y=r(25158),d=r(32035),m=a.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function x(e,t,r,o,a){return P(o)?(_(n.TO_PCPF,y.ct.fromTypedArray(e),y.fP.fromTypedArray(t),y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(a)),a):(m.error("Cannot convert spatial reference to PCPF"),a)}function w(e,t,r,o,a){return P(o)?(_(n.FROM_PCPF,y.ct.fromTypedArray(e),y.fP.fromTypedArray(t),y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(a)),a):(m.error("Cannot convert to spatial reference from PCPF"),a)}function b(e,t,r){return(0,p.CM)(e,t,0,r,(0,h.rS)(t),0,e.length/3),r}function C(e,t,r){return(0,p.CM)(e,(0,h.rS)(r),0,t,r,0,e.length/3),t}function A(e,t,r){if((0,i.Wi)(e))return t;var n=y.fP.fromTypedArray(e),o=y.fP.fromTypedArray(t);return(0,d.t)(o,n,r),t}function Z(e,t,r){if((0,i.Wi)(e))return t;(0,s.a)(I,r);var n=y.ct.fromTypedArray(e),o=y.ct.fromTypedArray(t);return(0,d.a)(o,n,I),(0,s.i)(I)||(0,d.n)(o,o),t}function T(e,t,r){if((0,i.Wi)(e))return t;(0,s.a)(I,r);var n=y.ct.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),o=y.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT);if((0,d.a)(o,n,I),(0,s.i)(I)||(0,d.n)(o,o),e!==t)for(var a=3;a<e.length;a+=4)t[a]=e[a];return t}function M(e,t,r,o,a){if(!P(o))return m.error("Cannot convert spatial reference to PCPF"),a;_(n.TO_PCPF,y.ct.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),y.fP.fromTypedArray(t),y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(a,4*Float32Array.BYTES_PER_ELEMENT));for(var i=3;i<e.length;i+=4)a[i]=e[i];return a}function F(e,t,r,o,a){if(!P(o))return m.error("Cannot convert to spatial reference from PCPF"),a;_(n.FROM_PCPF,y.ct.fromTypedArray(e,16),y.fP.fromTypedArray(t),y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(a,16));for(var i=3;i<e.length;i+=4)a[i]=e[i];return a}function _(e,t,r,o,a,i){if(t){var u=r.count,l=(0,h.rS)(a);if(k(a))for(var f=0;f<u;f++)o.getVec(f,R),t.getVec(f,E),(0,p.Bm)(l,R,O,l),(0,s.f)(I,O),e===n.FROM_PCPF&&(0,s.t)(I,I),(0,c.t)(E,E,I),i.setVec(f,E);else for(var v=0;v<u;v++){o.getVec(v,R),t.getVec(v,E),(0,p.Bm)(l,R,O,l),(0,s.f)(I,O);var y=(0,g.mZ)(r.get(v,1)),d=Math.cos(y);e===n.TO_PCPF&&(d=1/d),I[0]*=d,I[1]*=d,I[2]*=d,I[3]*=d,I[4]*=d,I[5]*=d,e===n.FROM_PCPF&&(0,s.t)(I,I),(0,c.t)(E,E,I),(0,c.n)(E,E),i.setVec(v,E)}return i}}function P(e){return k(e)||function(e){return e.isWebMercator}(e)}function k(e){return e.isWGS84||(0,v.yW)(e)||(0,v.BZ)(e)||(0,v.V2)(e)}(o=n||(n={}))[o.TO_PCPF=0]="TO_PCPF",o[o.FROM_PCPF=1]="FROM_PCPF";var R=(0,f.c)(),E=(0,f.c)(),O=(0,l.c)(),I=(0,u.c)()},79667:function(e,t,r){r.r(t),r.d(t,{meshFeatureSetFromJSON:function(){return Je}});var n,o,a=r(37762),i=r(52639),s=r(92026),u=r(53866),l=r(1413),c=r(15861),f=r(15671),p=r(43144),h=r(60136),v=r(29388),g=r(87757),y=r(27366),d=r(10064),m=r(41691),x=r(54472),w=r(32718),b=r(67426),C=r(75298),A=r(94172),Z=r(49861),T=(r(63780),r(93169),r(25243),r(69912)),M=r(71353),F=r(32238),_=r(7882),P=r(80885),k=r(45238),R=r(64995),E=r(76046),O=r(27474),I=r(79347),L=r(69662),D=r(35888);function S(e){var t,r=z(e.rings,e.hasZ,n.CCW_IS_HOLE),o=[],i=0,s=0,u=(0,a.Z)(r.polygons);try{var l=function(){var e=t.value,n=e.count,a=e.index,u=new Float64Array(r.position.buffer,3*a*r.position.BYTES_PER_ELEMENT,3*n),l=e.holeIndices.map((function(e){return e-a})),c=new Uint32Array((0,I.e)(u,l,3));o.push({position:u,faces:c}),i+=u.length,s+=c.length};for(u.s();!(t=u.n()).done;)l()}catch(p){u.e(p)}finally{u.f()}var c=function(e,t,r){if(1===e.length)return e[0];var n,o=new Float64Array(t),i=new Uint32Array(r),s=0,u=0,l=0,c=(0,a.Z)(e);try{for(c.s();!(n=c.n()).done;){for(var f=n.value,h=0;h<f.position.length;h++)o[s++]=f.position[h];for(var v=0;v<f.faces.length;v++)i[u++]=f.faces[v]+l;l=s/3}}catch(p){c.e(p)}finally{c.f()}return{position:o,faces:i}}(o,i,s),f=(0,D.d)(c.position.buffer,6,{originalIndices:c.faces});return c.position=new Float64Array(f.buffer),c.faces=f.indices,c}function z(e,t,r){for(var o=e.length,a=new Array(o),i=new Array(o),s=new Array(o),u=0,l=0,c=0,f=0,p=0;p<o;++p)f+=e[p].length;for(var h=new Float64Array(3*f),v=0,g=o-1;g>=0;g--){var y=e[g],d=r===n.CCW_IS_HOLE&&j(y);if(d&&1!==o)a[u++]=y;else{for(var m=y.length,x=0;x<u;++x)m+=a[x].length;var w={index:v,pathLengths:new Array(u+1),count:m,holeIndices:new Array(u)};w.pathLengths[0]=y.length,y.length>0&&(s[c++]={index:v,count:y.length}),v=d?N(y,y.length-1,-1,h,v,y.length,t):N(y,0,1,h,v,y.length,t);for(var b=0;b<u;++b){var C=a[b];w.holeIndices[b]=v,w.pathLengths[b+1]=C.length,C.length>0&&(s[c++]={index:v,count:C.length}),v=N(C,0,1,h,v,C.length,t)}u=0,w.count>0&&(i[l++]=w)}}for(var A=0;A<u;++A){var Z=a[A];Z.length>0&&(s[c++]={index:v,count:Z.length}),v=N(Z,0,1,h,v,Z.length,t)}return l<o&&(i.length=l),c<o&&(s.length=c),{position:h,polygons:i,outlines:s}}function N(e,t,r,n,o,a,i){o*=3;for(var s=0;s<a;++s){var u=e[t];n[o++]=u[0],n[o++]=u[1],n[o++]=i?u[2]:0,t+=r}return o/3}function j(e){return!(0,L.bu)(e,!1,!1)}(o=n||(n={}))[o.NONE=0]="NONE",o[o.CCW_IS_HOLE=1]="CCW_IS_HOLE";var W=r(52587),U=r(26548),B=r(57898),H=w.Z.getLogger("esri.geometry.support.meshUtils.centerAt");function Y(e,t,r){var n;if(e.vertexAttributes&&e.vertexAttributes.position){var o=null!=(n=null==r?void 0:r.origin)?n:e.origin;(0,s.pC)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&H.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),function(e,t,r){var n=t.x-r.x,o=t.y-r.y,a=t.hasZ&&r.hasZ?t.z-r.z:0,i=e.origin;e.origin=[i[0]+n,i[1]+o,i[2]+a]}(e.transform,t,o)):(0,U.h)(e.spatialReference,r)?function(e,t,r){var n=(0,B.FF)(e.vertexAttributes,r,{geographic:!0}),o=(0,B.iv)(n,t,{geographic:!0}),a=o.position,i=o.normal,s=o.tangent;e.vertexAttributes.position=a,e.vertexAttributes.normal=i,e.vertexAttributes.tangent=s,e.vertexAttributesChanged()}(e,t,o):function(e,t,r){var n=G,o=V;if((0,W.KC)(t,o,e.spatialReference)){if(!(0,W.KC)(r,n,e.spatialReference)){var a=e.origin;n[0]=a.x,n[1]=a.y,n[2]=a.z,H.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}(function(e,t,r){if(e)for(var n=0;n<e.length;n+=3)for(var o=0;o<3;o++)e[n+o]+=t[o]-r[o]})(e.vertexAttributes.position,o,n),e.vertexAttributesChanged()}else H.error("Failed to project centerAt location (wkid:".concat(t.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")"))}(e,t,o)}}var V=(0,M.c)(),G=(0,M.c)(),q=r(35995);function X(){return X=(0,c.Z)(g.mark((function e(t,n,o){var a,i,u,l,c,f,p;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Hl)(Promise.all([r.e(7934),r.e(5886)]).then(r.bind(r,35886)),o);case 2:return a=e.sent,i=a.loadGLTFMesh,e.next=6,J(n,o);case 6:return u=e.sent,(l=i(new _.Z({x:0,y:0,z:0,spatialReference:t.spatialReference}),u.url,{resolveFile:K(u),useTransform:!0,signal:(0,s.pC)(o)?o.signal:null})).then((function(){return u.dispose()}),(function(){return u.dispose()})),e.next=11,l;case 11:c=e.sent,f=c.vertexAttributes,p=c.components,t.vertexAttributes=f,t.components=p;case 15:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function K(e){var t=(0,q.Yd)(e.url);return function(r){var n,o=(0,q.PF)(r,t,t),a=o?o.replace(/^ *\.\//,""):null;return null!=(n=e.files.get(a))?n:r}}function J(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(g.mark((function e(t,r){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t instanceof Blob?ne.fromBlob(t):"string"==typeof t?new ne(t):Array.isArray(t)?$(t,r):te(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return ee=(0,c.Z)(g.mark((function e(t,r){var n,o,i,u,l,f,p,h,v,y,m,x;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,o=null,e.next=4,(0,C.WW)(t.map(function(){var e=(0,c.Z)(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.name,e.next=3,J(t instanceof Blob?t:t.source,r);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,source:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:i=e.sent,u=[],l=(0,a.Z)(i);try{for(l.s();!(f=l.n()).done;)(p=f.value)&&((0,C.Hc)(r)?p.source.dispose():u.push(p))}catch(w){l.e(w)}finally{l.f()}for((0,C.k_)(r),h=0,v=u;h<v.length;h++)y=v[h],m=y.name,x=y.source,((0,s.Wi)(o)||/\.(gltf|glb)/i.test(m))&&(o=x.url),n.set(m,x.url),x.files&&x.files.forEach((function(e,t){return n.set(t,e)}));if(!(0,s.Wi)(o)){e.next=12;break}throw new d.Z("mesh-load-external:missing-files","Missing files to load external mesh source");case 12:return e.abrupt("return",new ne(o,(function(){return u.forEach((function(e){return e.source.dispose()}))}),n));case 13:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e,t){return re.apply(this,arguments)}function re(){return re=(0,c.Z)(g.mark((function e(t,n){var o,a,i;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Hl)(Promise.resolve().then(r.bind(r,76200)),n);case 2:if(o=e.sent,a=o.default,"string"!=typeof t.multipart[0]){e.next=10;break}return e.next=7,Promise.all(t.multipart.map(function(){var e=(0,c.Z)(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,{responseType:"array-buffer"});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=t.multipart;case 11:return i=e.t0,e.abrupt("return",ne.fromBlob(new Blob(i)));case 13:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var ne=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;(0,f.Z)(this,e),this.url=t,this.dispose=r,this.files=n}return(0,p.Z)(e,null,[{key:"fromBlob",value:function(t){var r=URL.createObjectURL(t);return new e(r,(function(){return URL.revokeObjectURL(r)}))}}]),e}(),oe=r(22753),ae=r(11873),ie=r(81949),se=r(11186),ue=r(92183),le=r(11700),ce=w.Z.getLogger("esri.geometry.support.meshUtils.offset");function fe(e,t,r){e.vertexAttributes&&e.vertexAttributes.position&&((0,s.pC)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&ce.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),function(e,t){var r=e.origin;e.origin=(0,se.b)((0,M.c)(),r,t)}(e.transform,t)):(0,U.h)(e.spatialReference,r)?function(e,t){var r=e.spatialReference,n=e.vertexAttributes.position,o=e.vertexAttributes.normal,a=e.vertexAttributes.tangent,i=new Float64Array(n.length),u=(0,s.pC)(o)?new Float32Array(o.length):null,l=(0,s.pC)(a)?new Float32Array(a.length):null,c=e.extent.center,f=he;(0,W.Bm)(r,[c.x,c.y,c.z],ve,(0,ue.rS)(r)),(0,oe.f)(ge,ve),(0,se.t)(f,t,ge),(0,le.XO)(n,r,i),(0,s.pC)(o)&&(0,le.Iz)(o,n,i,r,u),(0,s.pC)(a)&&(0,le.wi)(a,n,i,r,l),pe(i,f),(0,le.To)(i,n,r),(0,s.pC)(o)&&(0,le.Yk)(u,n,i,r,o),(0,s.pC)(a)&&(0,le.M2)(l,n,i,r,a),e.vertexAttributesChanged()}(e,t):function(e,t){pe(e.vertexAttributes.position,t),e.vertexAttributesChanged()}(e,t))}function pe(e,t){if(e)for(var r=0;r<e.length;r+=3)for(var n=0;n<3;n++)e[r+n]+=t[n]}var he=(0,M.c)(),ve=(0,ie.c)(),ge=(0,ae.c)();var ye={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function de(e,t,r){(function(e){for(var t=0;t<e.position.length;t+=3)e.position[t+2]+=.5})(e),function(e,t){if(null==t)return;var r="number"==typeof t?[t,t,t]:[null!=t.width?t.width:1,null!=t.depth?t.depth:1,null!=t.height?t.height:1];be[0]=r[0],be[4]=r[1],be[8]=r[2];for(var n=0;n<e.position.length;n+=3){for(var o=0;o<3;o++)we[o]=e.position[n+o];(0,se.t)(we,we,be);for(var a=0;a<3;a++)e.position[n+a]=we[a]}if(r[0]!==r[1]||r[1]!==r[2]){be[0]=1/r[0],be[4]=1/r[1],be[8]=1/r[2];for(var i=0;i<e.normal.length;i+=3){for(var s=0;s<3;s++)we[s]=e.normal[i+s];(0,se.t)(we,we,be),(0,se.n)(we,we);for(var u=0;u<3;u++)e.normal[i+u]=we[u]}}}(e,r&&r.size);var n=(0,B.w1)(e,t,r),o=n.vertexAttributes,a=n.transform;return{vertexAttributes:new O.Q((0,l.Z)((0,l.Z)({},o),{},{uv:e.uv})),transform:a,components:[new R.Z({faces:e.faces,material:r&&r.material||null})],spatialReference:t.spatialReference}}var me={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},xe={south:0,east:1,north:2,west:3,up:4,down:5},we=(0,M.c)(),be=(0,ae.c)(),Ce=r(14226),Ae=w.Z.getLogger("esri.geometry.support.meshUtils.rotate");function Ze(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position&&0!==t[3]){var n=e.spatialReference;if((0,s.pC)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&Ae.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var a=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=(0,se.s)(Me,r.x,r.y,r.z),o=(0,se.f)(Me,n,e.origin);e.applyLocalInverse(o,Fe),e.rotation=(0,k.qC)(e.rotation,t,(0,k.Ue)()),e.applyLocalInverse(o,o),(0,se.f)(o,o,Fe),e.translation=(0,se.b)((0,M.c)(),e.translation,o)}(e.transform,t,a)}else{var i,u=null!=(i=null==r?void 0:r.origin)?i:e.origin;(0,U.h)(e.spatialReference,r)?function(e,t,r){var n=e.spatialReference,o=(0,ue.rS)(n),a=Re;(0,W.KC)(r,a,o)||(0,W.KC)(e.origin,a,o);var i=e.vertexAttributes.position,u=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,c=new Float64Array(i.length),f=(0,s.pC)(u)?new Float32Array(u.length):null,p=(0,s.pC)(l)?new Float32Array(l.length):null;(0,W.Bm)(o,a,Pe,o),(0,oe.f)(ke,Pe);var h=_e;(0,se.t)((0,k.ZZ)(_e),(0,k.ZZ)(t),ke),h[3]=t[3],(0,le.XO)(i,n,c),(0,s.pC)(u)&&(0,le.Iz)(u,i,c,n,f),(0,s.pC)(l)&&(0,le.wi)(l,i,c,n,p),Te(c,h,3,a),(0,le.To)(c,i,n),(0,s.pC)(u)&&(Te(f,h,3),(0,le.Yk)(f,i,c,n,u)),(0,s.pC)(l)&&(Te(p,h,4),(0,le.M2)(p,i,c,n,l)),e.vertexAttributesChanged()}(e,t,u):function(e,t,r){var n=Re;if(!(0,W.KC)(r,n,e.spatialReference)){var o=e.origin;n[0]=o.x,n[1]=o.y,n[2]=o.z,Ae.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}Te(e.vertexAttributes.position,t,3,n),Te(e.vertexAttributes.normal,t,3),Te(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}(e,t,u)}}}function Te(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.Z;if(!(0,s.Wi)(e)){(0,Ce.d)(Pe,(0,k.WH)(t),(0,k.ZZ)(t));for(var o=0;o<e.length;o+=r){for(var a=0;a<3;a++)Me[a]=e[o+a]-n[a];(0,se.m)(Me,Me,Pe);for(var i=0;i<3;i++)e[o+i]=Me[i]+n[i]}}}var Me=(0,M.c)(),Fe=(0,M.c)(),_e=(0,k.Ue)(),Pe=(0,ie.c)(),ke=(0,ae.c)(),Re=(0,M.c)(),Ee=w.Z.getLogger("esri.geometry.support.meshUtils.scale");function Oe(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position){var n=e.spatialReference;if((0,s.pC)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&Ee.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var a=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=(0,se.s)(De,r.x,r.y,r.z),o=(0,se.f)(De,n,e.origin);e.applyLocalInverse(o,Se);var a=(0,se.a)((0,M.c)(),e.scale,t);e.scale=a,e.applyLocalInverse(o,o),(0,se.f)(o,o,Se),e.translation=(0,se.b)((0,M.c)(),e.translation,o)}(e.transform,t,a)}else{var i=(0,U.h)(e.spatialReference,r),u=r&&r.origin||e.origin;i?function(e,t,r){var n=e.spatialReference,o=(0,ue.rS)(n),a=ze;(0,W.KC)(r,a,o)||(0,W.KC)(e.origin,a,o);var i=e.vertexAttributes.position,u=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,c=new Float64Array(i.length),f=(0,s.pC)(u)?new Float32Array(u.length):null,p=(0,s.pC)(l)?new Float32Array(l.length):null;(0,le.XO)(i,n,c),(0,s.pC)(u)&&(0,le.Iz)(u,i,c,n,f),(0,s.pC)(l)&&(0,le.wi)(l,i,c,n,p),Ie(c,t,a),(0,le.To)(c,i,n),(0,s.pC)(u)&&(0,le.Yk)(f,i,c,n,u),(0,s.pC)(l)&&(0,le.M2)(p,i,c,n,l),e.vertexAttributesChanged()}(e,t,u):function(e,t,r){var n=ze;if(!(0,W.KC)(r,n,e.spatialReference)){var o=e.origin;n[0]=o.x,n[1]=o.y,n[2]=o.z,Ee.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}Ie(e.vertexAttributes.position,t,n),e.vertexAttributesChanged()}(e,t,u)}}}function Ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.Z;if(e)for(var n=0;n<e.length;n+=3){for(var o=0;o<3;o++)De[o]=e[n+o]-r[o];(0,se.a)(De,De,t);for(var a=0;a<3;a++)e[n+a]=De[a]+r[a]}}var Le,De=(0,M.c)(),Se=(0,M.c)(),ze=(0,M.c)(),Ne=w.Z.getLogger("esri.geometry.Mesh"),je=Le=function(e){(0,h.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this,e)).components=null,r.transform=null,r.external=null,r.hasZ=!0,r.hasM=!1,r.vertexAttributes=new O.Q,r.type="mesh",r}return(0,p.Z)(n,[{key:"initialize",value:function(){var e=this;((0,s.Wi)(this.external)||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((function(){e.handles.add((0,A.YP)((function(){var t;return{vertexAttributes:e.vertexAttributes,components:null==(t=e.components)?void 0:t.map((function(e){return e.clone()})),transform:(0,s.pC)(e.transform)?e.transform.clone():null}}),(function(){return e._set("external",null)}),{once:!0,sync:!0}))}))}},{key:"hasExtent",get:function(){return!this.loaded&&(0,s.pC)(this.external)&&(0,s.pC)(this.external.extent)||this.loaded&&this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0)}},{key:"boundingInfo",get:function(){var e=this.vertexAttributes.position,t=this.spatialReference;if(0===e.length||this.components&&0===this.components.length)return{extent:new u.Z({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new _.Z({x:0,y:0,z:0,spatialReference:t})};for(var r=(0,s.pC)(this.transform)?this.transform.project(e,t):e,n=1/0,o=1/0,a=1/0,i=-1/0,l=-1/0,c=-1/0,f=0,p=0,h=0,v=r.length,g=1/(v/3),y=0;y<v;){var d=r[y++],m=r[y++],x=r[y++];n=Math.min(n,d),o=Math.min(o,m),a=Math.min(a,x),i=Math.max(i,d),l=Math.max(l,m),c=Math.max(c,x),f+=g*d,p+=g*m,h+=g*x}return{extent:new u.Z({xmin:n,ymin:o,zmin:a,xmax:i,ymax:l,zmax:c,spatialReference:t}),center:new _.Z({x:f,y:p,z:h,spatialReference:t})}}},{key:"anchor",get:function(){if((0,s.pC)(this.transform))return this.transform.getOriginPoint(this.spatialReference);var e=this.boundingInfo;return new _.Z({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}},{key:"origin",get:function(){return(0,s.pC)(this.transform)?this.transform.getOriginPoint(this.spatialReference):this.boundingInfo.center}},{key:"extent",get:function(){return!this.loaded&&(0,s.pC)(this.external)&&(0,s.pC)(this.external.extent)?this.external.extent.clone():this.boundingInfo.extent}},{key:"addComponent",value:function(e){this.loaded?(this.components||(this.components=[]),this.components.push(R.Z.from(e)),this.notifyChange("components")):Ne.error("addComponent()","Mesh must be loaded before applying operations")}},{key:"removeComponent",value:function(e){if(this.loaded){if(this.components){var t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}Ne.error("removeComponent()","Provided component is not part of the list of components")}else Ne.error("removeComponent()","Mesh must be loaded before applying operations")}},{key:"rotate",value:function(e,t,r,n){return(0,k.uT)(Be.x,e,He),(0,k.uT)(Be.y,t,Ye),(0,k.uT)(Be.z,r,Ve),(0,k.qC)(He,Ye,He),(0,k.qC)(He,Ve,He),Ze(this,He,n),this}},{key:"offset",value:function(e,t,r,n){return this.loaded?(Ge[0]=e,Ge[1]=t,Ge[2]=r,fe(this,Ge,n),this):(Ne.error("offset()","Mesh must be loaded before applying operations"),this)}},{key:"scale",value:function(e,t){return this.loaded?(Oe(this,e,t),this):(Ne.error("scale()","Mesh must be loaded before applying operations"),this)}},{key:"centerAt",value:function(e,t){return this.loaded?(Y(this,e,t),this):(Ne.error("centerAt()","Mesh must be loaded before applying operations"),this)}},{key:"load",value:function(e){return(0,s.pC)(this.external)&&this.addResolvingPromise(function(e,t,r){return X.apply(this,arguments)}(this,this.external.source,e)),Promise.resolve(this)}},{key:"clone",value:function(){var e=this.components?new Map:null,t=this.components?new Map:null,r={components:this.components?this.components.map((function(r){return r.cloneWithDeduplication(e,t)})):null,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:(0,s.pC)(this.transform)?this.transform.clone():null,external:(0,s.pC)(this.external)?{source:this.external.source,extent:(0,s.pC)(this.external.extent)?this.external.extent.clone():null}:null};return new Le(r)}},{key:"vertexAttributesChanged",value:function(){this.notifyChange("vertexAttributes")}},{key:"toBinaryGLTF",value:function(){var e=(0,c.Z)(g.mark((function e(t){var n,o;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(1553).then(r.bind(r,11553));case 2:return n=e.sent,o=n.toBinaryGLTF,e.abrupt("return",o(this,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createBox",value:function(e,t){if(!(e instanceof _.Z))return Ne.error(".createBox()","expected location to be a Point instance"),null;var r=new Le(de(function(){for(var e=me.faceDescriptions,t=me.faceVertexOffsets,r=me.uvScales,n=4*e.length,o=new Float64Array(3*n),i=new Float32Array(3*n),s=new Float32Array(2*n),u=new Uint32Array(2*e.length*3),l=0,c=0,f=0,p=0,h=0;h<e.length;h++){var v,g=e[h],y=l/3,d=(0,a.Z)(t);try{for(d.s();!(v=d.n()).done;){var m=v.value;u[p++]=y+m}}catch(Z){d.e(Z)}finally{d.f()}for(var x=g.corners,w=0;w<4;w++){var b=x[w],C=0;s[f++]=.25*r[w][0]+g.uvOrigin[0],s[f++]=g.uvOrigin[1]-.25*r[w][1];for(var A=0;A<3;A++)0!==g.axis[A]?(o[l++]=.5*g.axis[A],i[c++]=g.axis[A]):(o[l++]=.5*b[C++],i[c++]=0)}}return{position:o,normal:i,uv:s,faces:u}}(),e,t));return t&&t.imageFace&&"all"!==t.imageFace?function(e,t){for(var r=e.components[0],n=r.faces,o=xe[t],a=6*o,i=new Uint32Array(6),u=new Uint32Array(n.length-6),l=0,c=0,f=0;f<n.length;f++)f>=a&&f<a+6?i[l++]=n[f]:u[c++]=n[f];if((0,s.pC)(e.vertexAttributes.uv)){for(var p=new Float32Array(e.vertexAttributes.uv),h=4*o*2,v=[0,1,1,1,1,0,0,0],g=0;g<v.length;g++)p[h+g]=v[g];e.vertexAttributes.uv=p}return e.components=[new R.Z({faces:i,material:r.material}),new R.Z({faces:u})],e}(r,t.imageFace):r}},{key:"createSphere",value:function(e,t){return e instanceof _.Z?new Le(de(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.round(8*Math.pow(2,e)),r=2*t,n=(t-1)*(r+1)+2*r,o=new Float64Array(3*n),a=new Float32Array(3*n),i=new Float32Array(2*n),s=new Uint32Array((t-1)*r*2*3),u=0,l=0,c=0,f=0,p=0;p<=t;p++){var h=p/t*Math.PI+.5*Math.PI,v=Math.cos(h),g=Math.sin(h);we[2]=g;for(var y=0===p||p===t,d=y?r-1:r,m=0;m<=d;m++){var x=m/d*2*Math.PI;we[0]=-Math.sin(x)*v,we[1]=Math.cos(x)*v;for(var w=0;w<3;w++)o[u]=.5*we[w],a[u]=we[w],++u;i[l++]=(m+(y?.5:0))/r,i[l++]=p/t,0!==p&&m!==r&&(p!==t&&(s[c++]=f,s[c++]=f+1,s[c++]=f-r),1!==p&&(s[c++]=f,s[c++]=f-r,s[c++]=f-r-1)),f++}}return{position:o,normal:a,uv:i,faces:s}}(t&&t.densificationFactor||0),e,t)):(Ne.error(".createSphere()","expected location to be a Point instance"),null)}},{key:"createCylinder",value:function(e,t){return e instanceof _.Z?new Le(de(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=5,r=Math.round(16*Math.pow(2,e)),n=(t-1)*(r+1)+2*r,o=new Float64Array(3*n),a=new Float32Array(3*n),i=new Float32Array(2*n),s=new Uint32Array(4*r*3),u=0,l=0,c=0,f=0,p=0,h=0;h<=t;h++)for(var v=0===h||h===t,g=h<=1||h>=t-1,y=2===h||4===h,d=v?r-1:r,m=0;m<=d;m++){var x=m/d*2*Math.PI,w=v?0:.5;we[0]=w*Math.sin(x),we[1]=w*-Math.cos(x),we[2]=h<=2?.5:-.5;for(var b=0;b<3;b++)o[u++]=we[b],a[l++]=g?2===b?h<=1?1:-1:0:2===b?0:we[b]/w;i[c++]=(m+(v?.5:0))/r,i[c++]=h<=1?1*h/3:h<=3?1*(h-2)/3+1/3:1*(h-4)/3+2/3,y||0===h||m===r||(h!==t&&(s[f++]=p,s[f++]=p+1,s[f++]=p-r),1!==h&&(s[f++]=p,s[f++]=p-r,s[f++]=p-r-1)),p++}return{position:o,normal:a,uv:i,faces:s}}(t&&t.densificationFactor||0),e,t)):(Ne.error(".createCylinder()","expected location to be a Point instance"),null)}},{key:"createPlane",value:function(e,t){var r;if(!(e instanceof _.Z))return Ne.error(".createPlane()","expected location to be a Point instance"),null;var n=null!=(r=null==t?void 0:t.facing)?r:"up",o=function(e,t){var r="number"==typeof t?t:null!=t?t.width:1,n="number"==typeof t?t:null!=t?t.height:1;switch(e){case"up":case"down":return{width:r,depth:n};case"north":case"south":return{width:r,height:n};case"east":case"west":return{depth:r,height:n}}}(n,null==t?void 0:t.size);return new Le(de(function(e){for(var t=ye.facingAxisOrderSwap[e],r=ye.position,n=ye.normal,o=new Float64Array(r.length),a=new Float32Array(n.length),i=0,s=0;s<4;s++)for(var u=i,l=0;l<3;l++){var c=t[l],f=Math.abs(c)-1,p=c>=0?1:-1;o[i]=r[u+f]*p,a[i]=n[u+f]*p,i++}return{position:o,normal:a,uv:new Float32Array(ye.uv),faces:new Uint32Array(ye.faces)}}(n),e,(0,l.Z)((0,l.Z)({},t),{},{size:o})))}},{key:"createFromPolygon",value:function(e,t){if(!(e instanceof P.Z))return Ne.error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;var r=S(e);return new Le({vertexAttributes:new O.Q({position:r.position}),components:[new R.Z({faces:r.faces,shading:"flat",material:t&&t.material||null})],spatialReference:e.spatialReference})}},{key:"createFromGLTF",value:function(){var e=(0,c.Z)(g.mark((function e(t,n,o){var a,i;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof _.Z){e.next=2;break}throw Ne.error(".createfromGLTF()","expected location to be a Point instance"),new d.Z("invalid-input","Expected location to be a Point instance");case 2:return e.next=4,(0,C.Hl)(Promise.all([r.e(7934),r.e(5886)]).then(r.bind(r,35886)),o);case 4:return a=e.sent,i=a.loadGLTFMesh,e.t0=Le,e.next=9,i(t,n,o);case 9:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createWithExternalSource",value:function(e,t,r){var n,o,a,i=null!=(n=null==r?void 0:r.extent)?n:null,s=null!=(o=null==r?void 0:r.transform.clone())?o:new E.Z;s.origin=[e.x,e.y,null!=(a=e.z)?a:0];var u=e.spatialReference;return new Le({external:{source:t,extent:i},transform:s,spatialReference:u})}},{key:"createIncomplete",value:function(e,t){var r,n,o=null!=(r=null==t?void 0:t.transform.clone())?r:new E.Z;o.origin=[e.x,e.y,null!=(n=e.z)?n:0];var a=e.spatialReference,i=new Le({transform:o,spatialReference:a});return i.addResolvingPromise(Promise.reject(new d.Z("mesh-incomplete","Mesh resources are not complete"))),i}}]),n}((0,m.p)(x.Z.LoadableMixin((0,b.v)(F.Z))));(0,y._)([(0,Z.Cb)({type:[R.Z],json:{write:!0}})],je.prototype,"components",void 0),(0,y._)([(0,Z.Cb)({type:E.Z,json:{write:!0}})],je.prototype,"transform",void 0),(0,y._)([(0,Z.Cb)({constructOnly:!0})],je.prototype,"external",void 0),(0,y._)([(0,Z.Cb)({readOnly:!0})],je.prototype,"hasExtent",null),(0,y._)([(0,Z.Cb)({readOnly:!0})],je.prototype,"boundingInfo",null),(0,y._)([(0,Z.Cb)({readOnly:!0})],je.prototype,"anchor",null),(0,y._)([(0,Z.Cb)({readOnly:!0})],je.prototype,"origin",null),(0,y._)([(0,Z.Cb)({readOnly:!0,json:{read:!1}})],je.prototype,"extent",null),(0,y._)([(0,Z.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],je.prototype,"hasZ",void 0),(0,y._)([(0,Z.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],je.prototype,"hasM",void 0),(0,y._)([(0,Z.Cb)({type:O.Q,nonNullable:!0,json:{write:!0}})],je.prototype,"vertexAttributes",void 0),je=Le=(0,y._)([(0,T.j)("esri.geometry.Mesh")],je);var We,Ue,Be={x:(0,M.f)(1,0,0),y:(0,M.f)(0,1,0),z:(0,M.f)(0,0,1)},He=(0,k.Ue)(),Ye=(0,k.Ue)(),Ve=(0,k.Ue)(),Ge=(0,M.c)(),qe=je;!function(e){e.featureGUID="featureGUID",e.assetName="assetName",e.hash="hash",e.type="type",e.conversionStatus="conversionStatus",e.flags="flags",e.complexity="complexity",e.size="size",e.seqNo="seqNo",e.sourceHash="sourceHash",e.assetURL="assetURL"}(We||(We={})),function(e){e.SUBMITTED="SUBMITTED",e.INPROGRESS="INPROGRESS",e.FAILED="FAILED",e.COMPLETED="COMPLETED"}(Ue||(Ue={}));var Xe,Ke=r(49818);function Je(e,t,r){var n=r.features;r.features=[],delete r.geometryType;var o=Ke.default.fromJSON(r);o.geometryType="mesh";var u,l=o.spatialReference,c=(0,s.Wi)(e.outFields)||!e.outFields.length?function(){return{}}:function(e){return function(t){var r=t.attributes;if(!r)return{};if(!e)return r;for(var n in r)e.has(n)||delete r[n];return r}}(e.outFields.includes("*")?null:new Set(e.outFields)),f=(0,a.Z)(n);try{for(f.s();!(u=f.n()).done;){var p=u.value,h=Qe(p,l,t);(0,s.pC)(h)&&o.features.push(new i.Z({geometry:h,attributes:c(p)}))}}catch(v){f.e(v)}finally{f.f()}return o}function Qe(e,t,r){var n=function(e){if(!e.assetMappings)return{status:Xe.FAILED};var t,r=[],n=new Map,o=(0,a.Z)(e.assetMappings);try{for(o.s();!(t=o.n()).done;){var i=t.value,s=i[We.seqNo],u=i[We.assetName],l=i[We.assetURL],c=i[We.conversionStatus];if(c===Ue.FAILED)return{status:Xe.FAILED};if(c!==Ue.COMPLETED)return{status:Xe.PENDING};if(null==s)r.push({name:u,source:l});else{var f=n.get(u),p=void 0;f?p=f.multipart:(p=[],r.push({name:u,source:{multipart:p}}),n.set(u,{multipart:p})),p[s]=l}}}catch(h){o.e(h)}finally{o.f()}return{status:Xe.COMPLETED,source:r}}(e),o=n.status,i=n.source;if(o===Xe.FAILED)return null;var s=function(e,t,r){var n=e.attributes,o=r.transformFieldRoles;return new _.Z({x:n[o.originX],y:n[o.originY],z:n[o.originZ],spatialReference:t})}(e,t,r),l=u.Z.fromJSON(e.geometry);l.spatialReference=t;var c=function(e,t){var r,n=e.attributes,o=e.assetMappings,a=t.transformFieldRoles;return new E.Z({translation:[n[a.translationX],n[a.translationY],n[a.translationZ]],rotation:(0,k.uT)([n[a.rotationX],n[a.rotationY],n[a.rotationZ]],n[a.rotationDeg]),scale:[n[a.scaleX],n[a.scaleY],n[a.scaleZ]],geographic:!(null!=(r=o[We.flags])&&r.includes("PROJECT_VERTICES"))})}(e,r);return o===Xe.PENDING?qe.createIncomplete(s,{extent:l,transform:c}):qe.createWithExternalSource(s,i,{extent:l,transform:c})}!function(e){e[e.FAILED=0]="FAILED",e[e.PENDING=1]="PENDING",e[e.COMPLETED=2]="COMPLETED"}(Xe||(Xe={}))}}]);
//# sourceMappingURL=9667.70a00a8a.chunk.js.map