"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[165],{60165:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var i=r(15861),o=r(15671),n=r(43144),l=r(60136),a=r(29388),s=r(87757),u=r(27366),p=r(76200),c=r(10064),v=r(43404),d=r(92026),y=r(97642),h=r(49861),f=(r(63780),r(93169),r(25243),r(69912)),g=r(78952),b=r(1413),w=r(53866),m=r(65156),_=r(74184),M=r(6693),Z=r(71684),k=r(56811),C=r(22824),x={id:"0/0/0",level:0,row:0,col:0,extent:null},S=function(e){(0,l.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).tileInfo=C.Z.create({spatialReference:g.Z.WebMercator,size:256}),e.type="base-tile",e.fullExtent=new w.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,g.Z.WebMercator),e.spatialReference=g.Z.WebMercator,e}return(0,n.Z)(r,[{key:"getTileBounds",value:function(e,t,r,i){var o=i||(0,m.Ue)();return x.level=e,x.row=t,x.col=r,x.extent=o,this.tileInfo.updateTileInfo(x),x.extent=null,o}},{key:"fetchTile",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.signal,n=this.getTileUrl(e,t,r),l={responseType:"image",signal:o,query:(0,b.Z)({},this.refreshParameters)};return(0,p.default)(n,l).then((function(e){return e.data}))}},{key:"getTileUrl",value:function(){throw new c.Z("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented")}}]),r}((0,M.h)((0,k.M)((0,Z.Q)(_.Z))));(0,u._)([(0,h.Cb)({type:C.Z})],S.prototype,"tileInfo",void 0),(0,u._)([(0,h.Cb)({type:["show","hide"]})],S.prototype,"listMode",void 0),(0,u._)([(0,h.Cb)({readOnly:!0,value:"base-tile"})],S.prototype,"type",void 0),(0,u._)([(0,h.Cb)({nonNullable:!0})],S.prototype,"fullExtent",void 0),(0,u._)([(0,h.Cb)()],S.prototype,"spatialReference",void 0);var O=S=(0,u._)([(0,f.j)("esri.layers.BaseTileLayer")],S),T=r(6061),z=new v.X({BingMapsAerial:"aerial",BingMapsRoad:"road",BingMapsHybrid:"hybrid"}),R=function(e){(0,l.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,o.Z)(this,r),(i=t.call(this,e)).type="bing-maps",i.tileInfo=new C.Z({size:[256,256],dpi:96,origin:{x:-20037508.342787,y:20037508.342787,spatialReference:g.Z.WebMercator},spatialReference:g.Z.WebMercator,lods:[{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.1492910708238085,scale:564.248588}]}),i.key=null,i.style="road",i.culture="en-US",i.region=null,i.portalUrl=null,i.hasAttributionData=!0,i}return(0,n.Z)(r,[{key:"bingMetadata",get:function(){return this._get("bingMetadata")},set:function(e){this._set("bingMetadata",e)}},{key:"copyright",get:function(){return(0,d.pC)(this.bingMetadata)?this.bingMetadata.copyright:null}},{key:"operationalLayerType",get:function(){return z.toJSON(this.style)}},{key:"bingLogo",get:function(){return(0,d.pC)(this.bingMetadata)?this.bingMetadata.brandLogoUri:null}},{key:"load",value:function(e){var t=this;return this.key?this.addResolvingPromise(this._getMetadata()):this.portalUrl?this.addResolvingPromise(this._getPortalBingKey().then((function(){return t._getMetadata()}))):this.addResolvingPromise(Promise.reject(new c.Z("bingmapslayer:load","Bing layer must have bing key."))),Promise.resolve(this)}},{key:"getTileUrl",value:function(e,t,r){if(!this.loaded||(0,d.Wi)(this.bingMetadata))return null;var i=this.bingMetadata.resourceSets[0].resources[0],o=i.imageUrlSubdomains[t%i.imageUrlSubdomains.length],n=this._getQuadKey(e,t,r);return i.imageUrl.replace("{subdomain}",o).replace("{quadkey}",n)}},{key:"fetchAttributionData",value:function(){var e=(0,i.Z)(s.mark((function e(){var t=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.load().then((function(){return(0,d.Wi)(t.bingMetadata)?null:{contributors:t.bingMetadata.resourceSets[0].resources[0].imageryProviders.map((function(e){return{attribution:e.attribution,coverageAreas:e.coverageAreas.map((function(e){return{zoomMin:e.zoomMin,zoomMax:e.zoomMax,score:1,bbox:[e.bbox[0],e.bbox[1],e.bbox[2],e.bbox[3]]}}))}}))}})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getMetadata",value:function(){var e=this,t={road:"roadOnDemand",aerial:"aerial",hybrid:"aerialWithLabelsOnDemand"}[this.style];return(0,p.default)("".concat("https://dev.virtualearth.net","/REST/v1/Imagery/Metadata/").concat(t),{responseType:"json",query:{include:"ImageryProviders",uriScheme:"https",key:this.key,suppressStatus:!0,output:"json",culture:this.culture,userRegion:this.region}}).then((function(t){var r=t.data;if(200!==r.statusCode)throw new c.Z("bingmapslayer:getmetadata",r.statusDescription);if(e.bingMetadata=r,0===e.bingMetadata.resourceSets.length)throw new c.Z("bingmapslayer:getmetadata","no bing resourcesets");if(0===e.bingMetadata.resourceSets[0].resources.length)throw new c.Z("bingmapslayer:getmetadata","no bing resources")})).catch((function(e){throw new c.Z("bingmapslayer:getmetadata",e.message)}))}},{key:"_getPortalBingKey",value:function(){var e=this;return(0,p.default)(this.portalUrl,{responseType:"json",authMode:"no-prompt",query:{f:"json"}}).then((function(t){if(!t.data.bingKey)throw new c.Z("bingmapslayer:getportalbingkey","The referenced Portal does not contain a valid bing key");e.key=t.data.bingKey})).catch((function(e){throw new c.Z("bingmapslayer:getportalbingkey",e.message)}))}},{key:"_getQuadKey",value:function(e,t,r){for(var i="",o=e;o>0;o--){var n=0,l=1<<o-1;0!=(r&l)&&(n+=1),0!=(t&l)&&(n+=2),i+=n.toString()}return i}}]),r}((0,M.h)((0,T.q)((0,y.R)(O))));(0,u._)([(0,h.Cb)({json:{read:!1,write:!1},value:null})],R.prototype,"bingMetadata",null),(0,u._)([(0,h.Cb)({json:{read:!1,write:!1},value:"bing-maps",readOnly:!0})],R.prototype,"type",void 0),(0,u._)([(0,h.Cb)({type:C.Z})],R.prototype,"tileInfo",void 0),(0,u._)([(0,h.Cb)({type:String,readOnly:!0,json:{read:!1,write:!1}})],R.prototype,"copyright",null),(0,u._)([(0,h.Cb)({type:String,json:{write:!1,read:!1}})],R.prototype,"key",void 0),(0,u._)([(0,h.Cb)({type:z.apiValues,nonNullable:!0,json:{read:{source:"layerType",reader:z.read}}})],R.prototype,"style",void 0),(0,u._)([(0,h.Cb)({type:["BingMapsAerial","BingMapsHybrid","BingMapsRoad"]})],R.prototype,"operationalLayerType",null),(0,u._)([(0,h.Cb)({type:String,json:{write:!1,read:!1}})],R.prototype,"culture",void 0),(0,u._)([(0,h.Cb)({type:String,json:{write:!1,read:!1}})],R.prototype,"region",void 0),(0,u._)([(0,h.Cb)({type:String,json:{write:!0,read:!0}})],R.prototype,"portalUrl",void 0),(0,u._)([(0,h.Cb)({type:Boolean,json:{write:!1,read:!1}})],R.prototype,"hasAttributionData",void 0),(0,u._)([(0,h.Cb)({type:String,readOnly:!0})],R.prototype,"bingLogo",null);var j=R=(0,u._)([(0,f.j)("esri.layers.BingMapsLayer")],R)},59068:function(e,t,r){r.d(t,{Z:function(){return y}});var i,o=r(15671),n=r(43144),l=r(60136),a=r(29388),s=r(27366),u=r(46784),p=r(49861),c=(r(63780),r(93169),r(25243)),v=r(69912),d=i=function(e){(0,l.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,o.Z)(this,r),(i=t.call(this,e)).cols=null,i.level=0,i.levelValue=null,i.origin=null,i.resolution=0,i.rows=null,i.scale=0,i}return(0,n.Z)(r,[{key:"clone",value:function(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}}]),r}(u.wq);(0,s._)([(0,p.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],d.prototype,"cols",void 0),(0,s._)([(0,p.Cb)({type:c.z8,json:{write:!0}})],d.prototype,"level",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],d.prototype,"levelValue",void 0),(0,s._)([(0,p.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],d.prototype,"origin",void 0),(0,s._)([(0,p.Cb)({type:Number,json:{write:!0}})],d.prototype,"resolution",void 0),(0,s._)([(0,p.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],d.prototype,"rows",void 0),(0,s._)([(0,p.Cb)({type:Number,json:{write:!0}})],d.prototype,"scale",void 0);var y=d=i=(0,s._)([(0,v.j)("esri.layers.support.LOD")],d)},22824:function(e,t,r){r.d(t,{Z:function(){return S}});var i,o=r(1413),n=r(15671),l=r(43144),a=r(60136),s=r(29388),u=r(27366),p=r(43404),c=r(46784),v=r(92026),d=r(68860),y=r(49861),h=(r(63780),r(93169),r(25243)),f=r(38511),g=r(69912),b=r(31201),w=r(7882),m=r(78952),_=r(65156),M=r(92975),Z=r(81753),k=r(59068),C=new p.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),x=i=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).dpi=96,i.format=null,i.origin=null,i.minScale=0,i.maxScale=0,i.size=null,i.spatialReference=null,i}return(0,l.Z)(r,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var r=(0,M.C5)(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}},{key:"readOrigin",value:function(e,t){return w.Z.fromJSON((0,o.Z)({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=this,r=0,i=0,o=[];this._levelToLOD={},e&&(r=-1/0,i=1/0,e.forEach((function(e){o.push(e.scale),r=e.scale>r?e.scale:r,i=e.scale<i?e.scale:i,t._levelToLOD[e.level]=e}))),this._set("scales",o),this._set("minScale",r),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[1]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];var r=Math.floor(e),i=r+1;return t[r]/Math.pow(t[r]/t[i],e-r)}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,r=t.length-1,i=0;i<r;i++){var o=t[i],n=t[i+1];if(o<=e)return i;if(n===e)return i+1;if(o>e&&n<e)return i+Math.log(o/e)/Math.log(o/n)}return i}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}},{key:"tileAt",value:function(e,t,r,i){var o,n,l=this.lodAt(e);if(!l)return null;if("number"==typeof t)o=t,n=r;else if((0,M.fS)(t.spatialReference,this.spatialReference))o=t.x,n=t.y,i=r;else{var a=(0,Z.iV)(t,this.spatialReference);if((0,v.Wi)(a))return null;o=a.x,n=a.y,i=r}var s=l.resolution*this.size[0],u=l.resolution*this.size[1];return i||(i={id:null,level:0,row:0,col:0,extent:(0,_.Ue)()}),i.level=e,i.row=Math.floor((this.origin.y-n)/u+.001),i.col=Math.floor((o-this.origin.x)/s+.001),this.updateTileInfo(i),i}},{key:"updateTileInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ExtrapolateOptions.NONE,r=this.lodAt(e.level);if(!r&&t===i.ExtrapolateOptions.POWER_OF_TWO){var o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(r){var n=e.level-r.level,l=r.resolution*this.size[0]/Math.pow(2,n),a=r.resolution*this.size[1]/Math.pow(2,n);e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=(0,_.Ue)()),e.extent[0]=this.origin.x+e.col*l,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+l,e.extent[3]=e.extent[1]+a}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}},{key:"getTileBounds",value:function(e,t){var r=this.lodAt(t.level).resolution,i=r*this.size[0],o=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+i,e[3]=e[1]+o,e}},{key:"lodAt",value:function(e){return this._levelToLOD&&this._levelToLOD[e]||null}},{key:"clone",value:function(){return i.fromJSON(this.write({}))}},{key:"getOrCreateCompatible",value:function(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;for(var r=[],o=this.lods.length,n=0;n<o;n++){var l=this.lods[n],a=l.resolution*t;r.push(new k.Z({level:l.level,scale:l.scale,resolution:a}))}return new i({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,r=0;r<e.length;r++){var i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolutionFactor,r=void 0===t?1:t,o=e.scales,n=e.size,l=void 0===n?256:n,a=e.spatialReference,s=void 0===a?m.Z.WebMercator:a,u=e.numLODs,p=void 0===u?24:u;if(!(0,M.JY)(s)){var c=[];if(o)for(var v=0;v<o.length;v++){var y=o[v];c.push({level:v,scale:y,resolution:y})}else for(var h=5e-4,f=p-1;f>=0;f--)c.unshift({level:f,scale:h,resolution:h}),h*=2;return new i({dpi:96,lods:c,origin:new w.Z(0,0,s),size:[l,l],spatialReference:s})}var g=(0,M.C5)(s),b=e.origin?new w.Z({x:e.origin.x,y:e.origin.y,spatialReference:s}):new w.Z(g?{x:g.origin[0],y:g.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),_=96,Z=1/(39.37*(0,d.c9)(s)*_),k=[];if(o)for(var C=0;C<o.length;C++){var x=o[C],S=x*Z;k.push({level:C,scale:x,resolution:S})}else{var O=(0,M.sT)(s)?512/l*591657527.5917094:256/l*591657527.591555,T=Math.ceil(p/r);k.push({level:0,scale:O,resolution:O*Z});for(var z=1;z<T;z++){var R=O/Math.pow(2,r),j=R*Z;k.push({level:z,scale:R,resolution:j}),O=R}}return new i({dpi:_,lods:k,origin:b,size:[l,l],spatialReference:s})}}]),r}(c.wq);(0,u._)([(0,y.Cb)({type:Number,json:{write:!0}})],x.prototype,"compressionQuality",void 0),(0,u._)([(0,y.Cb)({type:Number,json:{write:!0}})],x.prototype,"dpi",void 0),(0,u._)([(0,y.Cb)({type:String,json:{read:C.read,write:C.write,origins:{"web-scene":{read:!1,write:!1}}}})],x.prototype,"format",void 0),(0,u._)([(0,y.Cb)({readOnly:!0})],x.prototype,"isWrappable",null),(0,u._)([(0,y.Cb)({type:w.Z,json:{write:!0}})],x.prototype,"origin",void 0),(0,u._)([(0,f.r)("origin")],x.prototype,"readOrigin",null),(0,u._)([(0,y.Cb)({type:[k.Z],value:null,json:{write:!0}})],x.prototype,"lods",null),(0,u._)([(0,y.Cb)({readOnly:!0})],x.prototype,"minScale",void 0),(0,u._)([(0,y.Cb)({readOnly:!0})],x.prototype,"maxScale",void 0),(0,u._)([(0,y.Cb)({readOnly:!0})],x.prototype,"scales",void 0),(0,u._)([(0,y.Cb)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],x.prototype,"size",void 0),(0,u._)([(0,f.r)("size",["rows","cols"])],x.prototype,"readSize",null),(0,u._)([(0,b.c)("size",{cols:{type:h.z8},rows:{type:h.z8}})],x.prototype,"writeSize",null),(0,u._)([(0,y.Cb)({type:m.Z,json:{write:!0}})],x.prototype,"spatialReference",void 0),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}((x=i=(0,u._)([(0,g.j)("esri.layers.support.TileInfo")],x))||(x={}));var S=x}}]);
//# sourceMappingURL=165.2e920099.chunk.js.map